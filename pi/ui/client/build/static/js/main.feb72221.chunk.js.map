{"version":3,"sources":["images/thermometer-icon.png","images/humidityicon.png","util.js","serviceWorker.js","components/EnvironmentPickerFunctional.js","components/TiltFunctional.js","logimplementation.js","components/Header.js","components/ControlTab/WaterHeaterFunctional.js","components/ControlTab/IntakeFanFunctional.js","components/ControlTab/ExhaustFanFunctional.js","components/ControlTab/AirPumpFunctional.js","components/ControlTab/ThermometerFunctional.js","components/ControlTab/HygrometerFunctional.js","components/ControlTab/LightMeterFunctional.js","components/ControlTab/BarometerFunctional.js","components/ControlTab/GrowLightFunctional.js","components/ControlTab/WaterPumpFunctional.js","components/ControlTab/HeaterFunctional.js","components/ControlTab/HumidifierFunctional.js","components/ControlTab/DeviceSwitchFunctional.js","components/StageTabs/StageSelector.js","components/ControlTab/SwitchPanelFunctional.js","components/ControlTab/ExternalMetricsFunctional.js","components/ControlTab/PhmeterFunctional.js","components/ControlTab/ControlTabFunctional.js","components/StatusTab/TemperatureMeterFunctional.js","components/StatusTab/HumidityMeterFunctional.js","components/StatusTab/PressureMeterFunctional.js","components/StatusTab/PhMeterFunctional.js","components/StatusTab/StateTextStatusFunctional.js","components/StatusTab/InterventionsTextStatusFunctional.js","components/StatusTab/SecurityTextStatusFunctional.js","components/StatusTab/EnvValueWithDirection.js","components/StatusTab/EnvironmentTextStatusFunctional.js","components/StatusTab/ADCValueWithDirection.js","components/StatusTab/ADCTextStatusFunctional.js","components/StatusTab/TextStatusFunctional.js","components/StatusTab/StatusTabFunctional.js","api/utils.js","components/FormActions.js","components/EventsTab/EventsFunctional.js","components/DisplaySettingsTab/DisplaySettingsTabFunctional.js","components/StationSettingsTab/StationSettingsTabFunctional.js","components/DeviceMapTab/DeviceMapTabFunctional.js","components/StageTabs/LightScheduleSelector.js","components/StageTabs/WaterTemperatureSelectorFunctional.js","components/StageTabs/TemperatureSelectorFunctional.js","components/StageTabs/HumiditySelectorFunctional.js","components/StageTabs/StageTabFunctional.js","components/CameraTab/CameraTabFunctional.js","AuthenticatedApp.js","components/UnauthenticatedOverviewFunctional.js","components/UnauthenticatedHeader.js","UnauthenticatedApp.js","App.js","useToken.js","index.js"],"names":["module","exports","fs","require","log","get_server_ports_for_environment","env_mixed","ports","api_server_port","api_server_host","websocket_server_host","websocket_server_port","activemq_server_port","activemq_server_host","toUpperCase","window","location","hostname","process","REACT_APP_DEV_HOST","REACT_APP_TEST_HOST","normalizePort","val","port","parseInt","isNaN","readJsonFile","filepath","trace","data","readFileSync","JSON","parse","getRandomInt","max","Math","floor","random","Boolean","match","RenderEnvironmentPickerFunctional","props","RadioButtonGroup","padding","className","name","direction","options","value","nodeEnv","onChange","event","target","handleClick","RenderTiltFunctional","ret","id","tilt","tile","levelnames","ROARR","write","message","x","index","context","logLevel","length","console","Header","stringify","useState","setNodeEnv","apiPort","setApiPort","webSocketLabel","readyState","ReadyState","OPEN","style","siteName","station","current_stage","Button","color","width","round","label","onClick","logout","theNodeEnv","handleClickSendMessage","disabled","RenderWaterHeater","on","exists","RenderIntakeFan","RenderExhaustFan","RenderAirPump","RenderThermometer","sprintf","currentTemperature","units","RenderHygrometer","holderid","prefix","textid","currentHumidity","RenderLightMeter","directionClassName","iconClassName","RenderBarometer","RenderGrowLight","pressure_sensors","textClassName","sensor_readings","pressure_internal","display_settings","pressure_units","pressure_internal_direction","light_internal","light_units","light_internal_direction","thermometer_top","temp_air_top","temperature_units","temp_air_top_direction","thermometer_middle","temp_air_middle","temp_air_middle_direction","thermometer_bottom","temp_air_bottom","temp_air_bottom_direction","humidity_sensor_internal","humidity_internal","humidity_units","humidity_internal_direction","RenderWaterPump","RenderHeater","RenderHumidifier","slideclick_valid","Audio","slideclick_invalid","RenderDeviceSwitch","trackBackgroundColor","trackCheckedColor","buttonBackgroundColor","buttonCheckedColor","changing","automaticControl","off","TableRow","TableCell","onOff","styles","track","backgroundColor","trackChecked","button","buttonChecked","e","toggle","play","RenderStageSelector","local_station","setStation","automation_setting","stage_name","Grid","justify","fill","areas","start","end","columns","rows","gap","Box","gridArea","Select","stage_options","option","setSelectedStageFromChild","setSelectedStageValue","RenderSwitchPanel","value_name","toggle_style","switch_state","Table","switchControl","humidifier","heater","intake_fan","intakeFan","exhaust_fan","exhaustFan","air_pump","airPump","water_pump","waterPump","light_bloom","lightBloom","water_heater","waterHeater","setCurrentStage","RenderExternalMetrics","light_external","thermometer_external","temp_air_external","temp_air_external_direction","humidity_external","humidity_external_direction","holderClassName","pressure_external","pressure_external_direction","RenderPhmeter","root_ph","root_ph_direction","RenderControlTab","wl","wlRuler","setStateFromChild","heatLamp","heatingPad","lightVegetative","currentGrowLight","water_level_sensor","thermometer_water","temp_water","temp_water_direction","water_level_text","water_level","tub_volume_units","water_level_height","water_level_top","Grommet","theme","fonts","font","global","family","root_ph_sensor","light_vegetative","light_germinate","RenderTemperatureMeter","valueText","height","minValue","automation_settings","temperature_min","maxValue","temperature_max","currentValueText","segments","segmentColors","customSegmentStops","customSegmentLabels","text","position","station_settings","RenderHumidityMeter","humidity_max","humidity_min","humidity_target_range_low","humidity_target_range_high","RenderPressureMeter","diff_float","RenderPhMeter","RenderStateTextStatus","plant_height","plant_height_units","current_lighting_schedule","various_dates","start_date_current_stage","start_date_next_stage","stage","lightSchedule","lastWaterChange","powerConsumption","stationDoor","outerDoor","lastTraining","lastFilterChange","currentStageStarted","nextStageStarts","airTempTop","airTempMiddle","airTempBottom","waterTemp","plantHeight","values","RenderSecurityTextStatus","outerdoor","outer_door_sensor","outer_door_open","stationdoor","station_door_sensor","station_door_open","intpressure","extpressure","pressurediff","valuestr","RenderEnvValueWithDirection","label_area","value_area","direction_area","humidity_sensor_external","RenderADCValueWithDirection","RenderADCTextStatus","adc_0_0_1_860","adc_0_0_1_860_units","adc_0_0_1_860_direction","adc_0_1_1_860","adc_0_1_1_860_units","adc_0_1_1_860_direction","adc_0_2_1_860","adc_0_2_1_860_units","adc_0_2_1_860_direction","adc_0_3_1_860","adc_0_3_1_860_units","adc_0_3_1_860_direction","adc_1_0_1_860","adc_1_0_1_860_units","adc_1_0_1_860_direction","adc_1_1_1_860","adc_1_1_1_860_units","adc_1_1_1_860_direction","adc_1_2_1_860","adc_1_2_1_860_units","adc_1_2_1_860_direction","adc_1_3_1_860","adc_1_3_1_860_units","adc_1_3_1_860_direction","RenderTextStatus","settings","RenderStatusTab","state","getContainerNames","host","a","Promise","resolve","reject","fetch","response","ok","json","status","getAutomationSetting","i","getStage","stationid","url","getModuleTypes","getSite","siteid","getLastNEvents","count","saveSetting","userid","thing_name","present","debug","method","headers","body","addStation","station_name","RenderFormActions","applyDisabled","applyButtonState","resetDisabled","resetButtonState","defaultsDisabled","defaultsButtonState","margin","active","applyAction","type","resetAction","defaultsAction","RenderOverview","events","setEvents","reset_button_state","defaults_button_state","apply_button_state","apiHost","useEffect","fetchData","language","languageOptions","displaySettings","getEventrow","row","stringvalue","rawjson","switch_name","key","eventid","moment","datetimemillis","format","deviceid_device","event_rows","map","RenderDisplaySettingsTab","current_font","setValues","setFonts","local_theme","setLocalTheme","setApplyButtonState","setResetButtonState","applyLocally","b","fontlist","forEach","item","push","info","onLocalFontChange","z","applyFontChangeLocally","colSpan","onApplyFontChange","RenderStationSettingsTab","changeState","s","setTubVolume","tub_volume","Number","border","TextInput","CheckBox","checked","light_sensor_internal","light_sensor_external","height_sensor","movement_sensor","enclosure_options","enclosure_type","setEnclosureType","tub_depth","setTubDepth","tub_depth_units","RenderDeviceMapTab","container_names","setContainerNames","module_types","setModuleTypes","getIncludedSensor","sensor","arr","device_type","sensor_name","measurement_name","getSensorsForModule","included_sensors","getModulerow","moduleid","device","deviceid","container_name","module_type","address","getAddress","sensors","module_rows","device_index","attached_devices","module_index","modules","getModules","RenderLightSelector","hours","light_type_options","current_light_type","setAutomationSettingFromChild","setLightTypeValue","lighting_schedule_options","hours_of_light","setLightScheduleValue","setHoursOfLightValue","light_on_start_hour","setLightOnHourValue","RenderWaterTemperatureSelector","min","target_temperature","align","Image","src","thermometer","align-content","RangeInput","step","setValue","RenderTemperatureSelector","RenderHumiditySelector","target_humidity","humidity","RenderStageTab","selected_stage","setSelectedStage","servers","util","setapplyButtonState","setresetButtonState","setAutomationSetting","selectedStage","setStageFromChild","setAutomationSettingsFromChild","updateStageFromChild","RenderCameraTab","Areas","Rows","ImageProps","indexes","rowcount","picamera","picture_url","lastpicture","zoomWidth","img","takeAPicture","labelAreaIndex","Text","because","AuthenticatedApp","lastCompleteStatusMessage","tilt_sound","user","site","setSite","stationindex","currentStationIndex","stations","selected_automation_settings","setSelectedAutomationSettings","initial_station_state","local_state","initial_switch_state","setSwitchState","currently_tilted","last_tilt","setTilt","deepMerge","grommet","initial_theme","bubbles_theme","setBubblesTheme","setCurrentFont","last_picture","setLastPicture","socketUrl","setSocketUrl","messageHistory","useRef","React","open","setOpen","handleToClose","handleToAdd","new_station_name","setNewStationName","applyEventToState","msg","unix","applyMeasurementToState","error","handleWebSocketMessage","message_type","sample_timestamp","new_switch_state","toggleSwitchTo","useWebSocket","reconnectAttempts","reconnectInterval","onOpen","getDeviceStatus","shouldReconnect","closeEvent","onMessage","sendJsonMessage","lastJsonMessage","cmd","command","changed_station","automatic_control","heat_lamp","heating_pad","changed_site","new_site","current","useMemo","concat","applyFontChange","thestate","site_name","theNodeEnvironment","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","fullWidth","DialogActions","Tabs","flex","Tab","title","sw_name","oldstage","newstage","onFontChange","date_last_training","date_last_filter_change","onMapChange","stagename","new_automation_settings","new_selected_stage","setSelectedStageSettingsFromChild","saveAutomationSettings","RenderUnauthenticatedOverview","loginUser","credentials","loginstate","username","setUserName","password","setPassword","failed","setFailed","handleSubmit","then","token","auth","processLoginResult","catch","err","login_status","onSubmit","background","size","defaultValue","alignSelf","Markdown","children","UnauthenticatedHeader","UnauthenticatedApp","data-testid","App","tokenString","sessionStorage","getItem","userToken","getToken","setToken","setItem","useToken","initial_display_settings","initial_sensor_readings","loginResult","units_options","options_units","pressure_units_options","options_pressure_units","options_language","options_enclosure","locale_en","navigator","split","ReactDOM","render","StrictMode","locale","messages","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.feb72221.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAA8CAMAAABcthojAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA1MkJGOTkzMkQ5QjExRUI4MUQ4OERFNEI3QjM4QTQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA1MkJGOTk0MkQ5QjExRUI4MUQ4OERFNEI3QjM4QTQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDUyQkY5OTEyRDlCMTFFQjgxRDg4REU0QjdCMzhBNDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDUyQkY5OTIyRDlCMTFFQjgxRDg4REU0QjdCMzhBNDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz58vasDAAADAFBMVEW5ubn28f3hAACusrKVlZWpqand3d3D1taqntTqBgbQ0NDnCQnBxsb1///VzuDIyMi8vb21tbXo6OihoaHV4/flAACqvb3Gxsbi3uWtqKjy7fm6v7++wcHy8/Pk5OTi4uK6trbSyeCxsbHW1tbw8PDMzMzeGxuurq7q5fLy9PTqCAjBwcHm6eHY2NjT09Omubmzr6+3s7Pu7+/s7u6yxcXmBwe1uLjh3Onv8eu+st7U1NTR1dXgHR3KysrIv+Hx6/fm5ubh2+i5tLTa3NzbFRWsrKxSUlLr7ufr6+vi5OTf2ebiICC4sr7Ozs61sLDLzs75+vr19/dhYWHs5/TiHh7n4u+ztq+2pc3d1+Sqr6+ww8O+urr8/fv4+vb/9/f29/WJiYnV2NjGyMiuwcG2pcvlBgbeAAD8/Pz9/f36+vr09PS6zc37+/v19fXfGxv5+fnDw8O3ysr4+Pj+/v7t7e3Z3Nz39/f29vbk3+y8t7fO0tLb29ve3t67q837//+7zs7FxcW1yMj2+PS0t7dnZ2extrajtra8uMSkpKT19vS+xrTG2dm6tbXo6uXczs7tUlKSkpK7rdG0psjO0ND++/v/0Mr94N+ppaXwcG/85+fl3+rx8+7nEhGuoM/n/P3rMzO+0tJycnLp6+vR5eXd4eHY6+vQ0tLFutjV19esv7/o4vDJxO/s5/Pb39ewoc/Hwc62qNbTzvG4rNj08vr39v3b3t6snc/9/v7yUFDY29vAsdDDstnf2ubx8fG2sbG0x8elxcWDhn64trb///ro6+Lo6enr7Ozo7OPs7+jg5Nvn793Py8ujmdm4zMznGRi5z8/7jYfV3PCrurrExsH2nZz8l5HpX1/pKir6+/vk4Ozm4e3o5+eipaX8xsbhHR3///nYz9r/9vGqsLDCvr74/PyDg4PV3Mq2ycnh4eHIxMT17/v5+fjd2OTn4e7X19fX2tq6qdG+rNTg2+eisLC0pcienp61pcuxra2yuLjcGRndGhrh3eni3uq6q87///////9tW+EVAAABAHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AU/cHJQAAAxFJREFUeNpi+P//v926bykfd3/4Fp4yd0Pw//8M//9vi/3379+prmdA8t9hu41AIUsQ85/uQlsw/W8iUOgMhKmaBaElgEKT/v3LUNbV4+LnqmET4grzAQrV/vuXzsXAUp4h3PFur9zldqDQX5DyHG2jIm05ECsUJuThurdIXRXEWgURymBTVZfNFBSQL9EOWw8RyncVFs7NUf/KYNRx0Aem8d+7kjKrTKBF5XtgQreVNJ8I+oJYjlChdKFDvHUCVhkOqrFQG/OVWD9f2yF5p8HVTYcRIlRc7nk+TbTHuizrxetbMLOOmthwG1SBWBFwG5f+ZOIK+JflEHMTapagupi3lkFkA6vbcahZ6WzLntuYKiTJyRV0asA0LhKz4Zb0RzErn/1XarTcP9msf7+hGvVk9L21JJl1dZ/qSEFDQo+rO0/0ZVV1On9vMEyjZmOe6b6dIJYXTEg2O8/UqRTE+gQLwqQ2b63prXL8EyzsocarCqwM4TT48a4g4YQ9TGN5YZ6pYSlyeP0rWvyL6bQRsvHlzmL3tCR5MrnUm6AeSuc30/fmlHykJxik8wqm0QEUXpMz/qlkVsCEjBeopUY7g1hv4EL7ga63BoZSfCjMLJnCe5yV0u/4W07CoqNEN/ke93eevbls8W9hGo2y1VIr36MEYQAwJPyc/+V6pENtDDBkjvLmNGQu4A+CRW2OuEBUCOc+My459dnwINwODPvHR1GCUNMkj9sgESkkclQLCm04K2WsqlncoeGVKWBmAjS+mZ8/wR0ehDey81KdlvzLQArCvfVqqQqlSMan11jV55lG+8vdFrBYA0s5SsnenH7M2h4sa+FBGAj0o8JWYPSl/4EJHQNGbWUiSgx5nM0z7VnxT+4oPOWImx3w1roUycUqABMqzuKd58LUV1eGSF///sXNZxLlvgtimUOy6L9/M5hERZnOTYEKfQEJXQcKiTLNBLJmAYW2gYT604AionHQ9AUuFKbNYWJiugJibQIKbeG4D2Q9vHphKkjkwWpQabJ5lyKf4kURERE+Pr7liv//AwQYACJfs3jX7Y9hAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAoCAYAAADt5povAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTExLTIzVDEwOjI1OjM3LTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wMS0xM1QxMzo0MDo1MS0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wMS0xM1QxMzo0MDo1MS0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNjk5ZjY5OS01MGY2LTNk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\"","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Normalize a port into a number, string, or false.\r\n */\r\n\r\nconst fs = require('fs')\r\nconst log = require(\"roarr\");\r\n\r\n\r\nfunction get_server_ports_for_environment(env_mixed) {\r\n\r\n    let env_upper = env_mixed.toUpperCase()\r\n    let ports = {\r\n        api_server_port: 0,\r\n        api_server_host: '',\r\n        websocket_server_host: '',\r\n        websocket_server_port: 0,\r\n        activemq_server_port: 0,\r\n        activemq_server_host: ''\r\n    };\r\n\r\n    switch(env_upper) {\r\n        case \"DEV\":\r\n            ports.api_server_port = 3003;\r\n            ports.websocket_server_port = 8001;\r\n            ports.activemq_server_port = 61613;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.activemq_server_host = window.location.hostname;\r\n            if( process.env.REACT_APP_DEV_HOST !== \"\" ) {\r\n                ports.api_server_host = process.env.REACT_APP_DEV_HOST;\r\n                ports.websocket_server_host = process.env.REACT_APP_DEV_HOST;\r\n                ports.activemq_server_host = process.env.REACT_APP_DEV_HOST;\r\n            }\r\n            break;\r\n        case \"TEST\":\r\n            ports.api_server_port = 3002;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.websocket_server_port = 8002;\r\n            ports.activemq_server_port = 61612;\r\n            ports.activemq_server_host = window.location.hostname;\r\n            if( process.env.REACT_APP_TEST_HOST !== \"\" ) {\r\n                ports.api_server_host = process.env.REACT_APP_TEST_HOST;\r\n                ports.websocket_server_host = process.env.REACT_APP_TEST_HOST;\r\n                ports.activemq_server_host = process.env.REACT_APP_TEST_HOST;\r\n            }\r\n            break;\r\n        case \"PRODUCTION\":\r\n            ports.api_server_port = 3001;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.websocket_server_port = 8003;\r\n            ports.activemq_server_port = 61611;\r\n            ports.activemq_server_host = window.location.hostname;\r\n            break;\r\n        case \"CI\":\r\n            ports.api_server_port = 3004;\r\n            ports.api_server_host = 'localhost';\r\n            ports.websocket_server_host = 'localhost';\r\n            ports.websocket_server_port = 8004;\r\n            ports.activemq_server_port = 61614;\r\n            ports.activemq_server_host = 'localhost';\r\n            break;\r\n        default:\r\n            ports.api_server_port = 3003;\r\n            ports.websocket_server_port = 8001;\r\n            ports.activemq_server_port = 61613;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.activemq_server_host = window.location.hostname;\r\n            break;\r\n    }\r\n//    console.log(\"util.js \" + JSON.stringify(process.env))\r\n    return( ports)\r\n}\r\nfunction normalizePort(val) {\r\n    const port = parseInt(val, 10);\r\n\r\n    if (isNaN(port)) {\r\n        // named pipe\r\n        return val;\r\n    }\r\n\r\n    if (port >= 0) {\r\n        // port number\r\n        return port;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nfunction readJsonFile(filepath) {\r\n    log.trace(\"Reading config from \" + filepath)\r\n    const data = fs.readFileSync(filepath, 'utf8');\r\n    // parse JSON string to JSON object\r\n    return(JSON.parse(data));\r\n}\r\n\r\nmodule.exports = {\r\n    get_server_ports_for_environment,\r\n    normalizePort: normalizePort,\r\n    readJsonFile:readJsonFile,\r\n    getRandomInt: getRandomInt\r\n};\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. AuthenticatedApp is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport {RadioButtonGroup} from \"rendition\";\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderEnvironmentPickerFunctional(props) {\r\n\r\n    let setNodeEnv = (value) => {\r\n        log.trace(\"EnvironmentPicker set nodeEnv to \" + value)\r\n        props.handleClick( value )\r\n    }\r\n\r\n        return (\r\n        <div>\r\n            <RadioButtonGroup\r\n                padding=\"10px\"\r\n                className=\"RenderEnvironmentPickerFunctional\"\r\n                name=\"environment\"\r\n                direction=\"row-responsive\"\r\n                options={['DEV', 'TEST', 'PRODUCTION']}\r\n                value={props.nodeEnv} onChange={(event) => setNodeEnv(event.target.value)}\r\n            />\r\n        </div>)\r\n\r\n}\r\n\r\nexport default RenderEnvironmentPickerFunctional;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../App.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTiltFunctional (props) {\r\n//    console.log(\"RenderTilt rendering as \" + props.tilt)\r\n    let ret = <>\r\n        <div id=\"tilt-gif-container\" />\r\n    </>\r\n\r\n    if(props.tilt === false ) {\r\n        ret = <></>\r\n    } else {\r\n        if( props.tile !== true ) { /// undefined\r\n            ret = <p>{props.tilt}</p>\r\n        }\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderTiltFunctional;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n//import {useState} from \"react\";\r\n//import log from 'roarr';\r\n\r\nimport {\r\n    ROARR,\r\n} from 'roarr';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nlet levelnames = [\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"TRACE\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"DEBUG\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"UNK\",\r\n    \"INFO\"\r\n]\r\n\r\nconst logLevel = 20\r\n\r\nROARR.write = (message) => {\r\n    let x = JSON.parse(message)\r\n    let index = x.context.logLevel\r\n    if( index < 0 || index >= levelnames.length) {\r\n        console.log(index + \" : \" + x.message);\r\n    }\r\n    else if( index >= logLevel)\r\n        console.log(levelnames[index] + \" : \" + x.message);\r\n};\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\n\r\nimport RenderEnvironmentPickerFunctional from \"./EnvironmentPickerFunctional\"\r\nimport RenderTiltFunctional from \"./TiltFunctional\"\r\nimport {ReadyState} from \"react-use-websocket\";\r\n// import getReadyState from '../AuthenticatedApp'\r\n// import {Table, TableRow, TableCell} from 'grommet'\r\nimport log from 'roarr';\r\nimport '../logimplementation'\r\nimport {Button} from \"grommet\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction Header (props) {\r\n    log.trace(\"render Header with props \"+JSON.stringify(props) )\r\n    let [nodeEnv, setNodeEnv] = useState(props.nodeEnv); // The array of SingleBoardComputers\r\n    let [apiPort, setApiPort] = useState();  // The port we should send queries to - depends on dev/test/prod\r\n//    log.trace(\"after useState\")\r\n    let setEnvironment = (value) => {\r\n        log.trace(\"Header.setEnvironment(\" + value + \")\")\r\n        var theNodeEnv = value\r\n        let api_server_port;\r\n        switch( theNodeEnv) {\r\n            case \"DEV\":\r\n                api_server_port = 3003;\r\n                break;\r\n            case \"TEST\":\r\n                api_server_port = 3002;\r\n                break;\r\n            case \"PRODUCTION\":\r\n                api_server_port = 3001;\r\n                break;\r\n            case \"CI\":\r\n                api_server_port = 3004;\r\n                break;\r\n            default:\r\n                theNodeEnv = \"DEV\"\r\n                api_server_port = 3003;\r\n                break;\r\n        }\r\n        setNodeEnv(theNodeEnv);\r\n        setApiPort(api_server_port);\r\n        props.setNodeEnv(value)\r\n    }\r\n//    log.trace(\"after setenv\")\r\n    let webSocketLabel=\"Ping open WebSocket\"\r\n    if( props.readyState !== ReadyState.OPEN ) {\r\n        webSocketLabel = \"WebSocket server down\"\r\n    }\r\n//    log.trace(\"after websocket\")\r\n//    console.log(\"Rendering header with station \"+JSON.stringify(props.station))\r\n    return (\r\n        <div>\r\n            <header className=\"BubblesApp-header\" style={{'width': '100%'}} >\r\n                <span  >\r\n                    <div id=\"animated-gif-container\" />\r\n                </span>\r\n                <span style={{\r\n                    'alignItems': 'flex-start',\r\n                    'marginLeft': '25px'\r\n                }}>Bubbles - {props.siteName} - ({nodeEnv}) - {props.station.current_stage}</span>\r\n                <span style={{'width': '50%'}} >\r\n                    <RenderTiltFunctional tilt={props.tilt}/>\r\n                    <Button className='Logout-Button' color={'var(--color-button-border)'} width={'medium'} round={'large'} label={'Logout'} onClick={props.logout} />\r\n               </span>\r\n            </header>\r\n                <RenderEnvironmentPickerFunctional nodeEnv={nodeEnv} apiPort={apiPort}\r\n                                               handleClick={setEnvironment}/>\r\n            <button onClick={props.handleClickSendMessage} disabled={props.readyState !== ReadyState.OPEN} >{webSocketLabel}</button>\r\n            <button onClick={props.handleClickSendMessage} >{\"API server\"}</button>\r\n            <button onClick={props.handleClickSendMessage} >{\"ActiveMQ\"}</button>\r\n        </div>\r\n   );\r\n}\r\n\r\nexport default Header","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderWaterHeater (props) {\r\n//    console.log(\"RenderHeater \"+props.on)\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret = <div id=\"waterheater-holder-off\" />\r\n    } else {\r\n        ret = <div id=\"waterheater-holder-on\" />\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n    return (ret)\r\n}\r\n\r\nexport default RenderWaterHeater;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderIntakeFan (props) {\r\n//    console.log(\"RenderIntakeFan intakeFanOn = \" + props.on)\r\n\r\n    let ret\r\n        if( props.on === false ) {\r\n            ret =\r\n                <div>\r\n                    <div id=\"intake-fan-container\" />\r\n                </div>\r\n        } else {\r\n            ret = <div>\r\n                <div id=\"intake-animated-wind-container\" />\r\n                <div id=\"intake-animated-fan-container\" />\r\n            </div>\r\n        }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderIntakeFan;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderExhaustFan (props) {\r\n//    console.log(\"RenderExhaustFan \" + props.on)\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret =\r\n            <div>\r\n                <div id= \"exhaust-fan-filter\" />\r\n                <div id=\"exhaust-stopped-fan-container\" />\r\n            </div>\r\n    } else {\r\n        ret = <div>\r\n            <div id= \"exhaust-fan-filter\" />\r\n            <div id=\"exhaust-animated-fan-container\" />\r\n            <div id=\"exhaust-animated-wind-container\" />\r\n        </div>\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderExhaustFan;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderAirPump (props) {\r\n    let ret\r\n        if( props.on === false ) {\r\n            ret =\r\n                <div className=\"airpump\">\r\n                    <div className=\"air-pump-holder-off\">\r\n                    </div>\r\n                    <div className=\"bubble-rock-holder-off\">\r\n                    </div>\r\n                </div>\r\n        } else {\r\n            ret =\r\n                <div className=\"airpump\">\r\n                <div className=\"air-pump-holder-on\">\r\n                </div>\r\n                <div className=\"bubble-holder-on\">\r\n                </div>\r\n                <div className=\"bubble-rock-holder-on\">\r\n                </div>\r\n                </div>\r\n        }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderAirPump;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderThermometer (props) {\r\n    let className=\"\"\r\n    if(props.direction===\"up\") {\r\n        className=\"arrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        className=\"arrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.1f\", props.currentTemperature)\r\n//    console.log(\"temp rendering as \" + value)\r\n    let ret = <>\r\n        <div className={className} />\r\n        <div className=\"thermo-icon\" />\r\n        <div className={\"airtempexternal-text-holder\"}>{value}{props.units}</div>\r\n    </>\r\n\r\n    if(props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderThermometer;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHygrometer (props) {\r\n//    console.log(\"RenderHygrometer humidity = \" + props.currentHumidity)\r\n    let holderid = props.prefix + \"humidity-holder\"\r\n    let textid = props.prefix + \"humiditytext-holder\"\r\n    let iconid = \"externalhumidityicon-holder\"\r\n    let value = sprintf.sprintf(\"%2.1f\", props.currentHumidity)\r\n    let className = \"\"\r\n    if (props.direction === \"up\") {\r\n        className = sprintf.sprintf(\"externalarrowup-icon\", props.prefix)\r\n    }\r\n    if (props.direction === \"down\") {\r\n        className = sprintf.sprintf(\"externalarrowdown-icon\", props.prefix)\r\n    }\r\n\r\n//    console.log(\"humidity rendering as \" + value)\r\n    let ret = <>\r\n        <div id={holderid}>\r\n         <div id={textid}>\r\n             {value}\r\n         </div>\r\n         <div id={iconid}/>\r\n        <div className={className}/>\r\n        </div>\r\n    </>\r\n\r\n    if (props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderHygrometer;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderLightMeter (props) {\r\n    let directionClassName=\"\"\r\n    if(props.direction===\"up\") {\r\n        directionClassName=\"arrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        directionClassName=\"arrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.1f\", props.value)\r\n//    console.log(\"value rendering as \" + value)\r\n    let ret = <div className={props.className} >\r\n        <div className={directionClassName} />\r\n        <div className={props.iconClassName} />\r\n        <div className={\"value-holder\"} >\r\n            {value} {props.units}\r\n        </div>\r\n        </div>\r\n\r\n    if(props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderLightMeter;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderBarometer (props) {\r\n    let directionClassName=\"\"\r\n    if(props.direction===\"up\") {\r\n        directionClassName=\"barometerarrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        directionClassName=\"barometerarrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.1f\", props.value)\r\n//    console.log(\"value rendering as \" + value)\r\n    let ret = <>\r\n        <div className={\"value-holder\"} >\r\n            {value} {props.units}\r\n        </div>\r\n        <div className={props.iconClassName} />\r\n        <div className={directionClassName} />\r\n    </>\r\n\r\n    if(props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderBarometer;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport RenderThermometer from \"./ThermometerFunctional\";\r\nimport RenderHygrometer from \"./HygrometerFunctional\";\r\nimport RenderLightMeter from \"./LightMeterFunctional\";\r\nimport RenderBarometer from \"./BarometerFunctional\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderGrowLight (props) {\r\n    let ret\r\n        if( props.on === false ) {\r\n            ret =\r\n                <div className=\"growlight-container-off\">\r\n                    <div className=\"pressure-holder\">\r\n                        <RenderBarometer exists={props.station.pressure_sensors}\r\n                                         textClassName={\"pressure-text-holder\"}\r\n                                         iconClassName={\"pressure-icon-holder\"}\r\n                                         value={props.sensor_readings.pressure_internal}\r\n                                         units={props.display_settings.pressure_units}\r\n                                         direction={props.sensor_readings.pressure_internal_direction} />\r\n                    </div>\r\n                    <RenderLightMeter\r\n                        className={\"light-text-holder\"}\r\n                        iconClassName={\"light-icon-holder\"}\r\n                        exists={props.station.pressure_sensors}\r\n                        value={props.sensor_readings.light_internal}\r\n                        units={props.display_settings.light_units}\r\n                        direction={props.sensor_readings.light_internal_direction}/>\r\n                    <div className=\"plant-height-holder\" />\r\n                    <div className=\"growlight-off\" />\r\n                    <div className=\"plant-holder\" />\r\n                    <div id=\"airtemp-holder-night\" >\r\n                        <div id=\"airtemptop-text-holder\">\r\n                            <RenderThermometer exists={props.station.thermometer_top}\r\n                                               currentTemperature={props.sensor_readings.temp_air_top}\r\n                                               units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_top_direction}/>\r\n                        </div>\r\n                        <div id=\"airtempmiddle-text-holder\">\r\n                            <RenderThermometer exists={props.station.thermometer_middle}\r\n                                               currentTemperature={props.sensor_readings.temp_air_middle}\r\n                                               units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_middle_direction}/>\r\n                        </div>\r\n                        <div id=\"airtempbottom-text-holder\">\r\n                            <RenderThermometer exists={props.station.thermometer_bottom}\r\n                                               currentTemperature={props.sensor_readings.temp_air_bottom}\r\n                                               units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_bottom_direction}/>\r\n                        </div>\r\n                    </div>\r\n                        <RenderHygrometer prefix={\"\"} exists={props.station.humidity_sensor_internal}\r\n                                          currentHumidity={props.sensor_readings.humidity_internal}\r\n                                          units={props.display_settings.humidity_units} direction={props.sensor_readings.humidity_internal_direction}/>\r\n                </div>\r\n        } else {\r\n            ret =\r\n                <div className=\"growlight-container-on\">\r\n                    <div className=\"pressure-holder\">\r\n                    <RenderBarometer exists={props.station.pressure_sensors}\r\n                                     textClassName={\"pressure-text-holder\"}\r\n                                     iconClassName={\"pressure-icon-holder\"}\r\n                                     value={props.sensor_readings.pressure_internal}\r\n                                     units={props.display_settings.pressure_units}\r\n                                     direction={props.sensor_readings.pressure_internal_direction} />\r\n                    </div>\r\n                    <RenderLightMeter\r\n                            className={\"light-text-holder\"}\r\n                            iconClassName={\"light-icon-holder\"}\r\n                            exists={props.station.pressure_sensors}\r\n                            value={props.sensor_readings.light_internal}\r\n                            units={props.display_settings.light_units}\r\n                            direction={props.sensor_readings.light_internal_direction}/>\r\n                    <div className=\"plant-height-holder\" />\r\n                    <div className=\"growlight-on\" />\r\n                    <div className=\"plant-holder\" />\r\n                    <div id=\"airtemp-holder-day\" >\r\n                        <div id=\"airtemptop-text-holder\">\r\n                            <RenderThermometer exists={props.station.thermometer_top}\r\n                                               currentTemperature={props.sensor_readings.temp_air_top}\r\n                                               units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_top_direction}/>\r\n                        </div>\r\n                        <div id=\"airtempmiddle-text-holder\">\r\n                            <RenderThermometer exists={props.station.thermometer_middle}\r\n                                               currentTemperature={props.sensor_readings.temp_air_middle}\r\n                                               units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_middle_direction} />\r\n                        </div>\r\n                        <div id=\"airtempbottom-text-holder\">\r\n                            <RenderThermometer exists={props.station.thermometer_bottom}\r\n                                               currentTemperature={props.sensor_readings.temp_air_bottom}\r\n                                               units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_bottom_direction} />\r\n                        </div>\r\n                    </div>\r\n                    <RenderHygrometer prefix={\"\"} exists={props.station.humidity_sensor_internal}\r\n                                      currentHumidity={props.sensor_readings.humidity_internal}\r\n                                      units={props.display_settings.humidity_units} direction={props.sensor_readings.humidity_internal_direction}/>\r\n                </div>\r\n        }\r\n    return (ret)\r\n}\r\n\r\nexport default RenderGrowLight;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderWaterPump (props) {\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret =\r\n            <div id=\"waterpump-off\" >\r\n            </div>\r\n    } else {\r\n        ret =\r\n            <div id=\"waterpump-on\">\r\n                <div id=\"drippingwater\" />\r\n            </div>\r\n\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderWaterPump;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHeater (props) {\r\n//    console.log(\"RenderHeater \"+props.on)\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret = <div id=\"heater-holder-off\" />\r\n    } else {\r\n        ret = <div id=\"heater-holder-on\" />\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n    return (ret)\r\n}\r\n\r\nexport default RenderHeater;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/2\r\n\r\nfunction RenderHumidifier (props) {\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret = <div id=\"humidifier-holder-off\" />\r\n    } else {\r\n        ret = <div id=\"humidifier-holder-on\" />\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderHumidifier;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport Switch from \"react-input-switch\";\r\nimport {TableRow,TableCell} from \"grommet\";\r\nimport './controlTab.css'\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nvar slideclick_valid = new Audio(\"slideclick_valid.mp3\");\r\nvar slideclick_invalid = new Audio(\"slideclick_invalid.mp3\");\r\n\r\nfunction goodbeep() {\r\n    slideclick_valid.play()\r\n}\r\nfunction badbeep() {\r\n    slideclick_invalid.play()\r\n}\r\nfunction RenderDeviceSwitch (props) {\r\n    function toggle(e) {\r\n        log.trace(\"changing = \" + props.changing)\r\n        if (props.automaticControl === props.off && props.changing === false) {\r\n            props.toggle(e)\r\n            goodbeep();\r\n        } else {\r\n            log.trace(\"changing = \" + props.changing + \" automaticControl = \" + props.automaticControl)\r\n            badbeep();\r\n        }\r\n    }\r\n\r\n    let trackBackgroundColor = 'red'\r\n    let trackCheckedColor = 'green'\r\n    let buttonBackgroundColor = 'yellow'\r\n    let buttonCheckedColor = 'yellow'\r\n\r\n    if (props.changing === true && props.automaticControl === props.off) {\r\n        trackBackgroundColor = 'grey'\r\n        trackCheckedColor = 'grey'\r\n        buttonBackgroundColor = 'darkgrey'\r\n        buttonCheckedColor = 'darkgrey'\r\n    } else if (props.automaticControl === props.on) {\r\n        trackBackgroundColor = 'red'\r\n        trackCheckedColor = 'green'\r\n        buttonBackgroundColor = 'red'\r\n        buttonCheckedColor = 'green'\r\n    }\r\n\r\n    let ret\r\n\r\n    if (props.exists === false) {\r\n        ret = <></>\r\n    } else {\r\n        ret =\r\n            <TableRow><TableCell>{props.label}</TableCell><TableCell>\r\n                <Switch on={props.on} off={props.off} value={props.onOff}\r\n                        styles={{\r\n                            track: {\r\n                                backgroundColor: trackBackgroundColor\r\n                            },\r\n                            trackChecked: {\r\n                                backgroundColor: trackCheckedColor\r\n                            },\r\n                            button: {\r\n                                backgroundColor: buttonBackgroundColor\r\n                            },\r\n                            buttonChecked: {\r\n                                backgroundColor: buttonCheckedColor\r\n                            }\r\n                        }} onChange={toggle}/>\r\n            </TableCell></TableRow>\r\n    }\r\n    return (ret)\r\n}\r\n\r\nexport default RenderDeviceSwitch;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {Box, Grid, Select} from \"grommet\";\r\nimport React, {useState} from \"react\";\r\n\r\nimport stage_options from \"../../stage_options.json\"\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStageSelector (props) {\r\n/*\r\n    function setCurrentStageValue(option) {\r\n        let x = local_station;\r\n        log.trace(\"current stage value \" +x.current_stage + \" new stage value \" + option)\r\n        x.current_stage = option\r\n        props.setStateFromChild(JSON.parse(JSON.stringify(x)))\r\n        setStation(x)\r\n    }\r\n*/\r\n    function setSelectedStageValue(option) {\r\n        let x = local_station;\r\n        log.trace(\"selected stage value \" +x.current_stage + \" new stage value \" + option)\r\n        x.current_stage = option\r\n        props.setSelectedStageFromChild(option)\r\n        setStation(x)\r\n    }\r\n\r\n    const [local_station, setStation] = useState(JSON.parse(JSON.stringify(props.station)));\r\n\r\n    log.trace(\"rendering with value={\"+props.automation_setting.stage_name+\"}\")\r\n    let ret = <>\r\n            <Grid\r\n                justify={'center'}\r\n                round={'xxsmall'}\r\n                direction={'horizontal'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [0, 0] },\r\n                    { name: 'stage', start: [1, 0], end: [1, 0] },\r\n                    { name: 'setcurrent', start: [2, 0], end: [2, 0] },\r\n                ]}\r\n                columns={['100px','150px','226px']}\r\n                rows={['60px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n\r\n                <Box justify={'center'} gridArea={'label'} width={'small'} round={'xsmall'} >\r\n                    Select Stage\r\n                </Box>\r\n                <Box justify={'center'} gridArea={'stage'} width={'small'} round={'xsmall'} >\r\n                    <Select options={stage_options} value={props.automation_setting.stage_name}\r\n                            onChange={({ option }) => setSelectedStageValue(option)} />\r\n                </Box>\r\n          </Grid>\r\n   </>\r\n    return(ret);\r\n}\r\n\r\nexport default RenderStageSelector;\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport {Table, TableCell, TableRow} from \"grommet\";\r\nimport RenderDeviceSwitch from \"./DeviceSwitchFunctional\";\r\nimport Switch from \"react-input-switch\";\r\nimport log from 'roarr';\r\nimport RenderStageSelector from \"../StageTabs/StageSelector\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nvar slideclick_valid = new Audio(\"slideclick_valid.mp3\");\r\n\r\nfunction goodbeep() {\r\n    slideclick_valid.play()\r\n}\r\n\r\nfunction RenderSwitchPanel (props) {\r\n    let automaticControlOn = props.switch_state.automaticControl.on\r\n    let value_name = 'ON'\r\n    let trackBackgroundColor = 'red'\r\n    let trackCheckedColor = 'green'\r\n    let buttonBackgroundColor = 'yellow'\r\n    let buttonCheckedColor = 'yellow'\r\n    let toggle_style = {\r\n        track: {\r\n            backgroundColor: trackBackgroundColor\r\n        },\r\n        trackChecked: {\r\n            backgroundColor: trackCheckedColor\r\n        },\r\n        button: {\r\n            backgroundColor: buttonBackgroundColor\r\n        },\r\n        buttonChecked: {\r\n            backgroundColor: buttonCheckedColor\r\n        }\r\n    }\r\n\r\n    function setSelectedStage(x) {\r\n        log.trace(\"setSelectedStage \" + JSON.stringify(x))\r\n        props.setCurrentStage(x)\r\n    }\r\n\r\n    function toggleAutomatic(e) {\r\n        log.trace(\"toggleAutomatic \")\r\n        goodbeep()\r\n        props.switchControl.automaticControl.toggle(e)\r\n    }\r\n\r\n    if(!automaticControlOn)\r\n        value_name = 'OFF'\r\n\r\n    let ret = <>\r\n            <Table ><tbody>\r\n        <TableRow ><TableCell >Automatic Control</TableCell>\r\n            <TableCell>\r\n            <Switch onChange={toggleAutomatic} on=\"ON\" off=\"OFF\" value={value_name} styles={toggle_style} />\r\n            </TableCell>\r\n        </TableRow>\r\n\r\n        <RenderDeviceSwitch exists={props.switch_state.humidifier} toggle={props.switchControl.humidifier.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.humidifier.on?\"ON\":\"OFF\"} label='Humidifier' automaticControl={value_name} changing={props.switch_state.humidifier.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.heater} toggle={props.switchControl.heater.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.heater.on?\"ON\":\"OFF\"} label='Heater' automaticControl={value_name} changing={props.switch_state.heater.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.intake_fan} toggle={props.switchControl.intakeFan.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.intakeFan.on?\"ON\":\"OFF\"} label='Intake Fan'  automaticControl={value_name} changing={props.switch_state.intakeFan.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.exhaust_fan} toggle={props.switchControl.exhaustFan.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.exhaustFan.on?\"ON\":\"OFF\"} label='Exhaust Fan'  automaticControl={value_name} changing={props.switch_state.exhaustFan.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.air_pump} toggle={props.switchControl.airPump.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.airPump.on?\"ON\":\"OFF\"} label='Air Pump'  automaticControl={value_name} changing={props.switch_state.airPump.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.water_pump} toggle={props.switchControl.waterPump.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.waterPump.on?\"ON\":\"OFF\"} label='Water Pump'  automaticControl={value_name} changing={props.switch_state.waterPump.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.light_bloom} toggle={props.switchControl.lightBloom.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.lightBloom.on?\"ON\":\"OFF\"} label='Growlight'  automaticControl={value_name} changing={props.switch_state.lightBloom.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.water_heater} toggle={props.switchControl.waterHeater.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.waterHeater.on?\"ON\":\"OFF\"} label='Water Heater'  automaticControl={value_name} changing={props.switch_state.waterHeater.changing}/>\r\n\r\n    </tbody></Table>\r\n        <RenderStageSelector station={props.station}\r\n                             display_settings={props.display_settings}\r\n                             setSelectedStageFromChild={setSelectedStage}\r\n                             automation_setting={{stage_name: props.station.current_stage}}\r\n                              />\r\n    </>\r\n\r\n    return (ret)\r\n}\r\n\r\n\r\nexport default RenderSwitchPanel;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport RenderThermometer from \"./ThermometerFunctional\";\r\nimport RenderHygrometer from \"./HygrometerFunctional\";\r\nimport RenderBarometer from \"./BarometerFunctional\";\r\n// import {Text} from \"grommet\"\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderExternalMetrics (props) {\r\n    let value = \"\"\r\n    if( typeof(props.sensor_readings.light_external) != 'undefined' ) {\r\n        value = sprintf.sprintf(\"%.1f\", props.sensor_readings.light_external)\r\n    }\r\n\r\n    let ret =\r\n        <>\r\n            <div>\r\n                <div id={\"sun-moon-icon-holder\"}/>\r\n                <div className={\"value-holder-light-external\"}>{value} lux</div>\r\n            </div>\r\n            <div id=\"airtempexternal-holder\">\r\n                <RenderThermometer exists={props.station.thermometer_external}\r\n                                   display_settings={props.display_settings}\r\n                                   currentTemperature={props.sensor_readings.temp_air_external}\r\n                                   units={props.display_settings.temperature_units}\r\n                                   direction={props.sensor_readings.temp_air_external_direction}/>\r\n            </div>\r\n            <div id=\"humidityexternal-text-holder\">\r\n                <RenderHygrometer prefix={\"external\"} exists=\"true\"\r\n                                  display_settings={props.display_settings}\r\n                                  currentHumidity={props.sensor_readings.humidity_external}\r\n                                  units={props.display_settings.humidity_units}\r\n                                  direction={props.sensor_readings.humidity_external_direction}/>\r\n            </div>\r\n            <div className=\"externalpressure-holder\">\r\n                <RenderBarometer exists={props.station.pressure_sensors}\r\n                                 display_settings={props.display_settings}\r\n                                 holderClassName={\"pressure-holder\"}\r\n                                 textClassName={\"pressure-text-holder\"}\r\n                    iconClassName={\"pressure-icon-holder\"}\r\n                    value={props.sensor_readings.pressure_external}\r\n                    units={props.display_settings.pressure_units}\r\n                    direction={props.sensor_readings.pressure_external_direction} />\r\n            </div>\r\n        </>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderExternalMetrics;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderPhmeter (props) {\r\n    let value = sprintf.sprintf(\"%2.1f\", props.sensor_readings.root_ph)\r\n    let className = \"\"\r\n    if (props.sensor_readings.root_ph_direction === \"up\") {\r\n        className = sprintf.sprintf(\"externalarrowup-icon\")\r\n    }\r\n    if (props.sensor_readings.root_ph_direction === \"down\") {\r\n        className = sprintf.sprintf(\"externalarrowdown-icon\")\r\n    }\r\n\r\n  //  console.log(\"ph rendering as \" + value)\r\n    let ret = <>\r\n             pH {value}\r\n        <div className={className}/>\r\n    </>\r\n\r\n    if (props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderPhmeter;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\n\r\nimport RenderWaterHeater from \"./WaterHeaterFunctional\";\r\nimport RenderIntakeFan from \"./IntakeFanFunctional\";\r\nimport RenderExhaustFan from \"./ExhaustFanFunctional\";\r\nimport RenderAirPump from \"./AirPumpFunctional\";\r\nimport RenderGrowLight from \"./GrowLightFunctional\";\r\nimport RenderWaterPump from \"./WaterPumpFunctional\";\r\nimport RenderHeater from \"./HeaterFunctional\";\r\nimport RenderHumidifier from \"./HumidifierFunctional\";\r\nimport RenderSwitchPanel from \"./SwitchPanelFunctional\";\r\nimport RenderThermometer from \"./ThermometerFunctional\";\r\nimport RenderExternalMetrics from \"./ExternalMetricsFunctional\";\r\nimport {Grommet} from \"grommet\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport RenderPhmeter from \"./PhmeterFunctional\";\r\nimport log from 'roarr';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderControlTab(props) {\r\n\r\n    let switchControl = {\r\n            automaticControl: {toggle: toggleAutomatic},\r\n            humidifier: {changing: false, toggle: toggleHumidifier},\r\n            heater: {changing: false, toggle: toggleHeater},\r\n            heatLamp: {changing: false, toggle: toggleHeatLamp},\r\n            heatingPad: {changing: false, toggle: toggleHeatingPad},\r\n            waterHeater: {changing: false, toggle: toggleWaterHeater},\r\n            lightBloom: {changing: false, toggle: toggleLightBloom},\r\n            lightVegetative: {changing: false, toggle: toggleLightVegetative},\r\n            airPump: {changing: false, toggle: toggleAirPump},\r\n            waterPump: {changing: false, toggle: toggleWaterPump},\r\n            intakeFan: {changing: false, toggle: toggleIntakeFan},\r\n            exhaustFan: {changing: false, toggle: toggleExhaustFan},\r\n            currentGrowLight: {changing: false, toggle: toggleCurrentGrowLight}\r\n    }\r\n\r\n\r\n    /***\r\n     *\r\n    function toggleState() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.changingState.on = !values.switchControl.changingState.on;\r\n        props.setStateFromChild(x, \"changingState\", x.changingState.on)\r\n    }\r\n     */\r\n\r\n    function toggleAutomatic() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.automaticControl.on = !props.switch_state.automaticControl.on;\r\n        log.trace(\"toggleAutomatic from \" + props.switch_state.automaticControl.on + \" to \" + x.automaticControl.on)\r\n        props.setStateFromChild(x, \"automaticControl\", x.automaticControl.on)\r\n    }\r\n\r\n    function toggleLightBloom() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.lightBloom.on = !props.switch_state.lightBloom.on;\r\n        props.setStateFromChild(x,\"lightBloom\",x.lightBloom.on)\r\n    }\r\n\r\n    function toggleLightVegetative() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.lightVegetative.on = !props.switch_state.lightVegetative.on;\r\n        props.setStateFromChild(x,\"lightVegetative\",x.lightVegetative.on)\r\n    }\r\n\r\n    function toggleHumidifier() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.humidifier.on = !props.switch_state.humidifier.on;\r\n        props.setStateFromChild(x,\"humidifier\",x.humidifier.on)\r\n    }\r\n\r\n    function toggleHeatLamp() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.heatLamp.on = !props.switch_state.heatLamp.on;\r\n        props.setStateFromChild(x,\"heatLamp\",x.heatLamp.on)\r\n    }\r\n\r\n    function toggleHeatingPad() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.heatingPad.on = !props.switch_state.heatingPad.on;\r\n        props.setStateFromChild(x,\"heatingPad\",x.heatingPad.on)\r\n    }\r\n\r\n    function toggleWaterHeater() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.waterHeater.on = !props.switch_state.waterHeater.on;\r\n        props.setStateFromChild(x,\"waterHeater\",x.waterHeater.on)\r\n    }\r\n\r\n    function toggleHeater() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.heater.on = !props.switch_state.heater.on;\r\n        props.setStateFromChild(x,\"heater\",x.heater.on)\r\n    }\r\n\r\n    function toggleIntakeFan() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.intakeFan.on = !props.switch_state.intakeFan.on;\r\n        props.setStateFromChild(x,\"intakeFan\",x.intakeFan.on)\r\n    }\r\n\r\n    function toggleExhaustFan() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.exhaustFan.on = !props.switch_state.exhaustFan.on;\r\n        props.setStateFromChild(x,\"exhaustFan\",x.exhaustFan.on)\r\n    }\r\n\r\n    function toggleCurrentGrowLight() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.currentGrowLight.on = !props.switch_state.currentGrowLight.on;\r\n        props.setStateFromChild(x,\"growLight\",x.currentGrowLight.on)\r\n    }\r\n\r\n    function toggleAirPump() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.airPump.on = !props.switch_state.airPump.on;\r\n        props.setStateFromChild(x,\"airPump\",x.airPump.on)\r\n    }\r\n\r\n    function toggleWaterPump() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.waterPump.on = !props.switch_state.waterPump.on;\r\n        props.setStateFromChild(x,\"waterPump\",x.waterPump.on)\r\n    }\r\n\r\n    let wl\r\n    let wlRuler\r\n    if (props.station.water_level_sensor === false) {\r\n        wl = <></>\r\n        wlRuler = <></>\r\n    } else {\r\n//        console.log(\"props.station = \" + JSON.stringify(props.station))\r\n        wlRuler = <div id=\"watertemp-holder\">\r\n            <RenderThermometer exists={props.station.thermometer_water}\r\n                               className=\"airtemptop-text-holder\" currentTemperature={props.sensor_readings.temp_water}\r\n                               units={props.display_settings.temperature_units}\r\n                               direction={props.sensor_readings.temp_water_direction}/>\r\n        </div>\r\n\r\n        let water_level_text = sprintf.sprintf(\"%.1f\",props.sensor_readings.water_level )\r\n        log.trace(\"setting water_level_text to \" + water_level_text)\r\n        wl = <div id=\"water-level-text-holder\">\r\n            {water_level_text} {props.display_settings.tub_volume_units}\r\n        </div>\r\n    }\r\n    let water_level_percent = props.sensor_readings.water_level/20.0\r\n    let water_level_max_pixels = 188\r\n    let water_level_height = water_level_max_pixels*water_level_percent\r\n    let water_level_top = (water_level_max_pixels-water_level_height) + 'px'\r\n//    console.log(\"rerender: \"+props.because)\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: props.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n\r\n            <div className=\"global_container_\">\r\n                <div id=\"growboxgroup\">\r\n                    <div id=\"tub\">\r\n                        <div id=\"tubedge-holder\">\r\n                        </div>\r\n                        <div id=\"water-level-holder\" style={{'height': water_level_height,'top': water_level_top}}>\r\n                        </div>\r\n                        {wl}\r\n                        {wlRuler}\r\n                        <div id={\"root_ph_holder\"}>\r\n                            <RenderPhmeter exists={props.station.root_ph_sensor} sensor_readings={props.sensor_readings} />\r\n                        </div>\r\n                        <div className=\"waterheater\">\r\n                            <RenderWaterHeater exists={props.station.water_heater} on={props.switch_state.waterHeater.on} />\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div id=\"station\">\r\n                    </div>\r\n                    <div className=\"plant\">\r\n                        <div className=\"plant-holder\">\r\n                            <p className=\"plant-2\">Plant</p>\r\n                        </div>\r\n\r\n                        <div className=\"col-2\">\r\n                            <div className=\"pot-holder-top\">\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            <div className=\"pot-holder-body\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <RenderGrowLight\r\n                        station={props.station}\r\n                        sensor_readings = {props.sensor_readings}\r\n                        display_settings={props.display_settings}\r\n                        exists={props.station.light_vegetative || props.station.light_bloom || props.station.light_germinate}\r\n                        on={props.switch_state.lightBloom.on || props.switch_state.lightVegetative.on}\r\n                    />\r\n                    <RenderHeater exists={props.station.heater} on={props.switch_state.heater.on}/>\r\n                    <RenderHumidifier exists={props.station.humidifier} on={props.switch_state.humidifier.on}/>\r\n                    <div className=\"exhaust\">\r\n                        <div className=\"filter-and-exhaust-fan-holder\">\r\n                            <RenderExhaustFan exists={props.station.exhaust_fan} on={props.switch_state.exhaustFan.on}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"fans\">\r\n                        <div className=\"input-fan-holder\">\r\n                            <RenderIntakeFan exists={props.station.intake_fan} on={props.switch_state.intakeFan.on}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <RenderWaterPump exists={props.station.water_pump} on={props.switch_state.waterPump.on}/>\r\n                    <RenderAirPump exists={props.station.air_pump} on={props.switch_state.airPump.on}/>\r\n                    <div id=\"water-level-ruler-holder\"/>\r\n\r\n                </div>\r\n                <div id={\"controltab-externalgroup\"}>\r\n                    <RenderExternalMetrics display_settings={props.display_settings}\r\n                                           station={props.station}\r\n                                           sensor_readings={props.sensor_readings}\r\n                                            />\r\n                </div>\r\n                <div id=\"controltab-buttongroup\">\r\n                    <RenderSwitchPanel display_settings={props.display_settings}\r\n                                       station={props.station}\r\n                                       switch_state={props.switch_state}\r\n                                       switchControl={switchControl}\r\n                                       automation_setting={props.station}\r\n                                       setCurrentStage={props.setCurrentStage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderControlTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTemperatureMeter (props) {\r\n    let valueText = sprintf.sprintf(\"%.1f%s\", props.sensor_readings.temp_air_middle, props.display_settings.temperature_units)\r\n    let ret =\r\n            <div className={props.className}>\r\n                <p className=\"meter-text\">{props.label}</p>\r\n                <ReactSpeedometer\r\n                    width={250} height={150}\r\n                    value={props.sensor_readings.temp_air_middle} minValue={props.automation_settings.temperature_min} maxValue={props.automation_settings.temperature_max}\r\n                    currentValueText={valueText}\r\n                    segments={3}\r\n                    segmentColors={['blue','green','red']}\r\n                    customSegmentStops={[props.automation_settings.temperature_min, 75, 85, props.automation_settings.temperature_max]}\r\n                    customSegmentLabels={[\r\n                        {text: 'TOO COLD', position: 'INSIDE', color: 'white'},\r\n                        {text: 'OK', position: 'INSIDE', color: 'white'},\r\n                        {text: 'HOT', position: 'INSIDE', color: 'white'},\r\n                    ]}\r\n                    />\r\n            </div>\r\n    if( props.station_settings.thermometer_middle === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderTemperatureMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHumidityMeter (props) {\r\n    let valueText = sprintf.sprintf(\"%.1f%s\", props.sensor_readings.humidity_internal, props.display_settings.humidity_units)\r\n    let ret =\r\n        <div className={props.className}>\r\n            <p className=\"meter-text\">{props.label}</p>\r\n                <ReactSpeedometer\r\n                    width={250} height={150}\r\n                    value={props.sensor_readings.humidity_internal} maxValue={props.automation_settings.humidity_max}\r\n                    currentValueText={valueText}\r\n                    segments={3}\r\n                    segmentColors={['blue','green','red']}\r\n                    customSegmentStops={[props.automation_settings.humidity_min, props.automation_settings.humidity_target_range_low, props.automation_settings.humidity_target_range_high, props.automation_settings.humidity_max]}\r\n                    customSegmentLabels={[\r\n                        {text: 'TOO DRY', position: 'INSIDE', color: 'white'},\r\n                        {text: 'OK', position: 'INSIDE', color: 'white'},\r\n                        {text: '', position: 'INSIDE', color: 'white'},\r\n                    ]}\r\n                    className={props.className}\r\n                />\r\n        </div>\r\n\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\nreturn (ret)\r\n}\r\n\r\nexport default RenderHumidityMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderPressureMeter (props) {\r\n\r\n    let diff_float = (props.sensor_readings.pressure_external - props.sensor_readings.pressure_internal)\r\n    let diff_value =  sprintf.sprintf(\"%.1f\", diff_float)\r\n    let valueText =  diff_value+\" \"+props.display_settings.pressure_units\r\n    let ret =\r\n        <div className={props.className}>\r\n            <p className=\"meter-text\">{props.label}</p>\r\n            <ReactSpeedometer\r\n                width={250} height={150}\r\n                value={diff_float} minValue={-50} maxValue={50}\r\n                currentValueText={valueText}\r\n                segments={3}\r\n                segmentColors={['red','green']}\r\n                customSegmentStops={[-50, 0, 50]}\r\n                customSegmentLabels={[\r\n                        {text: 'ODOR ESCAPE', position: 'INSIDE', color: 'white'},\r\n                        {text: 'NO ODOR', position: 'INSIDE', color: 'white'},\r\n                    ]}\r\n                className={props.className}\r\n                    />\r\n            </div>\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderPressureMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderPhMeter (props) {\r\n\r\n    let valueText = sprintf.sprintf( \"%.1f\", props.sensor_readings.root_ph )\r\n    let ret =\r\n        <div className={props.className}>\r\n            <p className=\"meter-text\">{props.label}</p>\r\n                <ReactSpeedometer\r\n                    width={250} height={150}\r\n                    value={props.sensor_readings.root_ph} minValue={4} maxValue={8}\r\n                    currentValueText={valueText}\r\n                    segments={3}\r\n                    segmentColors={['red','green','yellow']}\r\n                    customSegmentStops={[4, 5.8, 6.2, 8]}\r\n                    customSegmentLabels={[\r\n                        {text: 'ACID', position: 'INSIDE', color: 'white'},\r\n                        {text: 'OK', position: 'INSIDE', color: 'white'},\r\n                        {text: 'BASE', position: 'INSIDE', color: 'black'},\r\n                    ]}\r\n                    className={props.className}\r\n                    />\r\n            </div>\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderPhMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from 'sprintf-js'\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStateTextStatus (props) {\r\n\r\n    log.trace(\"RenderStateTextStatus\")\r\n    let plant_height = sprintf.sprintf(\"%.1f\", props.sensor_readings.plant_height)\r\n let ret =\r\n     <Grid className={'status-table-holder'} round={'small'} direction={'vertical'}\r\n        areas={[\r\n            { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n            { name: 'plant-label', start: [0, 1], end: [0, 1] }, { name: 'plant-value', start: [1, 1], end: [1, 1] },\r\n            { name: 'light-schedule-label', start: [0, 2], end: [0, 2] }, { name: 'light-schedule-value', start: [1, 2], end: [1, 2] },\r\n            { name: 'light-cycle-label', start: [0, 3], end: [0, 3] }, { name: 'light-cycle-value', start: [1, 3], end: [1, 3] },\r\n            { name: 'stage-label', start: [0, 4], end: [0, 4] }, { name: 'stage-value', start: [1, 4], end: [1, 4] },\r\n            { name: 'stage-current-label', start: [0, 5], end: [0, 5] }, { name: 'stage-current-value', start: [1, 5], end: [1, 5] },\r\n            { name: 'next-stage-label', start: [0, 6], end: [0, 6] }, { name: 'next-stage-value', start: [1, 6], end: [1, 6] },\r\n        ]}\r\n        columns={['medium', 'small', 'xxsmall']}\r\n        rows={['40px','20px','20px','20px','20px','20px','20px']}\r\n        gap={\"xxsmall\"} >\r\n\r\n        <Box gridArea={'table-label'}>Current Plant State</Box>\r\n        <Box gridArea={'plant-label'}>Plant height</Box><Box gridArea={'plant-value'}>{plant_height} {props.display_settings.plant_height_units}</Box>\r\n        <Box gridArea={'light-schedule-label'}>Light schedule</Box><Box gridArea={'light-schedule-value'}>{props.automation_settings.current_lighting_schedule}</Box>\r\n         <Box gridArea={'light-cycle-label'}>Light cycle starts</Box><Box gridArea={'light-cycle-value'}>{'10 AM EST'}</Box>\r\n        <Box gridArea={'stage-label'}>Current stage</Box><Box gridArea={'stage-value'}>{props.station.current_stage}</Box>\r\n        <Box gridArea={'stage-current-label'}>Current stage started</Box><Box gridArea={'stage-current-value'}>{props.various_dates.start_date_current_stage}</Box>\r\n        <Box gridArea={'next-stage-label'}>Next stage starts</Box><Box gridArea={'next-stage-value'}>{props.various_dates.start_date_next_stage}</Box>\r\n     </Grid>\r\n    return( ret );\r\n}\r\n\r\nexport default RenderStateTextStatus;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStateTextStatus (props) {\r\n    let initValues = {\r\n        stage: \"vegetative\",\r\n        lightSchedule: \"12/12\",\r\n        lastWaterChange: \"10 days ago\",\r\n        powerConsumption: \"40W\",\r\n        stationDoor: \"Closed\",\r\n        outerDoor: \"Closed\",\r\n        lastTraining: \"17 days ago\",\r\n        lastFilterChange: \"never\",\r\n        currentStageStarted: \"25 days ago\",\r\n        nextStageStarts: \"10 days\",\r\n        airTempTop: \"84F\",\r\n        airTempMiddle: \"81F\",\r\n        airTempBottom: \"79F\",\r\n        waterTemp: \"70F\",\r\n        plantHeight: \"37in\"\r\n    };\r\n\r\n    let [values] = useState(initValues); //\r\n\r\n    let ret =\r\n        <Grid className={\"status-table-holder\"}\r\n              round={'small'}\r\n              direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: 'training-label', start: [0, 1], end: [0, 1] },{ name: 'training-value', start: [1, 1], end: [1, 1] },\r\n                  { name: 'water-change-label', start: [0, 2], end: [0, 2] },{ name: 'water-change-value', start: [1, 2], end: [1, 2] },\r\n                  { name: 'filter-change-label', start: [0, 3], end: [0, 3] },{ name: 'filter-change-value', start: [1, 3], end: [1, 3] },\r\n              ]}\r\n              columns={['medium','small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n                    <Box gridArea={'table-label'}>Interventions</Box>\r\n                    <Box gridArea={'training-label'}>Last Training</Box><Box gridArea={'training-value'}>{values.lastTraining}</Box>\r\n                    <Box gridArea={'water-change-label'}>Last Water Change</Box><Box gridArea={'water-change-value'}>{values.lastWaterChange}</Box>\r\n                    <Box gridArea={'filter-change-label'}>Last Filter Change</Box><Box gridArea={'filter-change-value'}>{values.lastFilterChange}</Box>\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStateTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from \"sprintf-js\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderSecurityTextStatus (props) {\r\n\r\n    let outerdoor = <></>\r\n    if(props.station_settings.outer_door_sensor) {\r\n        outerdoor = <><Box gridArea={'outer-door-label'}>Outer Door</Box><Box gridArea={'outer-door-value'}>{props.sensor_readings.outer_door_open?'OPEN':'CLOSED'}</Box></>\r\n    }\r\n    let stationdoor = <></>\r\n    if(props.station_settings.station_door_sensor) {\r\n        stationdoor = <><Box gridArea={'station-door-label'}>Station Door</Box><Box gridArea={'station-door-value'}>{props.sensor_readings.station_door_open?'OPEN':'CLOSED'}</Box></>\r\n    }\r\n    let intpressure = <></>\r\n    let extpressure = <></>\r\n    let pressurediff = <></>\r\n    let valuestr = \"\"\r\n    if(props.station_settings.pressure_sensors) {\r\n         valuestr = sprintf.sprintf( \"%.1f %s\", props.sensor_readings.pressure_external, props.display_settings.pressure_units )\r\n        extpressure = <><Box gridArea={'external-pressure-label'}>External Pressure</Box><Box gridArea={'external-pressure-value'}>{valuestr}</Box></>\r\n         valuestr = sprintf.sprintf( \"%.1f %s\", props.sensor_readings.pressure_internal, props.display_settings.pressure_units )\r\n        intpressure = <><Box gridArea={'internal-pressure-label'}>Internal Pressure</Box><Box gridArea={'internal-pressure-value'}>{valuestr}</Box></>\r\n         valuestr = sprintf.sprintf( \"%.1f %s\", props.sensor_readings.pressure_external-props.sensor_readings.pressure_internal, props.display_settings.pressure_units )\r\n        pressurediff = <><Box gridArea={'pressure-differential-label'}>Pressure Diff (odor)</Box><Box gridArea={'pressure-differential-value'}>{valuestr}</Box></>\r\n    }\r\n\r\n    let ret =\r\n        <Grid className={\"status-table-holder\"} round={'small'} direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: 'outer-door-label', start: [0, 1], end: [0, 1] },{ name: 'outer-door-value', start: [1, 1], end: [1, 1] },\r\n                  { name: 'station-door-label', start: [0, 2], end: [0, 2] },{ name: 'station-door-value', start: [1, 2], end: [1, 2] },\r\n                  { name: 'external-pressure-label', start: [0, 3], end: [0, 3] },{ name: 'external-pressure-value', start: [1, 3], end: [1, 3] },\r\n                  { name: 'internal-pressure-label', start: [0, 4], end: [0, 4] },{ name: 'internal-pressure-value', start: [1, 4], end: [1, 4] },\r\n                  { name: 'pressure-differential-label', start: [0, 5], end: [0, 5] },{ name: 'pressure-differential-value', start: [1, 5], end: [1, 5] },{ name: 'pressure-differential-direction', start: [2, 5], end: [2, 5] }\r\n              ]}\r\n              columns={['medium','small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n            <Box gridArea={'table-label'}>Security</Box>\r\n            {outerdoor}\r\n            {stationdoor}\r\n            {extpressure}\r\n            {intpressure}\r\n            {pressurediff}\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderSecurityTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from 'sprintf-js'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderEnvValueWithDirection (props) {\r\n    let label_area= `${props.gridArea}-label`\r\n    let value_area= `${props.gridArea}-value`\r\n    let direction_area= `${props.gridArea}-direction`\r\n\r\n    let className = ''\r\n    if(props.direction === 'up') {\r\n        className='zero-arrowup-icon'\r\n    }\r\n    if(props.direction === 'down') {\r\n        className='zero-arrowdown-icon'\r\n    }\r\n    let valuestr = sprintf.sprintf( \"%.1f %s\", props.value, props.units )\r\n    let ret =''\r\n\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    } else {\r\n        ret = <>\r\n            <Box gridArea={label_area}>{props.label}</Box>\r\n            <Box gridArea={value_area}>{valuestr}</Box>\r\n            <Box gridArea={direction_area}>\r\n                <div className={className}/>\r\n            </Box>\r\n        </>\r\n    }\r\n    return( ret )\r\n}\r\nexport default RenderEnvValueWithDirection;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport RenderEnvValueWithDirection from './EnvValueWithDirection'\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStateTextStatus (props) {\r\n\r\n    log.trace('RenderStateTextStatus temp='+props.sensor_readings.temp_air_middle)\r\n    let ret =\r\n        <Grid className={'status-table-holder'}\r\n              round={'small'}\r\n              direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: 'external-air-temp-label', start: [0, 1], end: [0, 1] }, { name: 'external-air-temp-value', start: [1, 1], end: [1, 1] }, { name: 'external-air-temp-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: 'air-temp-top-label', start: [0, 2], end: [0, 2] }, { name: 'air-temp-top-value', start: [1, 2], end: [1, 2] }, { name: 'air-temp-top-direction', start: [2, 2], end: [2, 2] },\r\n                  { name: 'air-temp-middle-label', start: [0, 3], end: [0, 3] }, { name: 'air-temp-middle-value', start: [1, 3], end: [1, 3] },{ name: 'air-temp-middle-direction', start: [2, 3], end: [2, 3] },\r\n                  { name: 'air-temp-bottom-label', start: [0, 4], end: [0, 4] }, { name: 'air-temp-bottom-value', start: [1, 4], end: [1, 4] },{ name: 'air-temp-bottom-direction', start: [2, 4], end: [2, 4] },\r\n                  { name: 'water-temp-label', start: [0, 5], end: [0, 5] }, { name: 'water-temp-value', start: [1, 5], end: [1, 5] },{ name: 'water-temp-direction', start: [2, 5], end: [2, 5] },\r\n                  { name: 'root-ph-label', start: [0, 6], end: [0, 6] }, { name: 'root-ph-value', start: [1, 6], end: [1, 6] },{ name: 'root-ph-direction', start: [2, 6], end: [2, 6] },\r\n                  { name: 'humidity-label', start: [0, 7], end: [0, 7] }, { name: 'humidity-value', start: [1, 7], end: [1, 7] },{ name: 'humidity-direction', start: [2, 7], end: [2, 7] },\r\n                  { name: 'external-humidity-label', start: [0, 8], end: [0, 8] }, { name: 'external-humidity-value', start: [1, 8], end: [1, 8] },{ name: 'external-humidity-direction', start: [2, 8], end: [2, 8] },\r\n              ]}\r\n              columns={['medium', 'small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n            <Box gridArea={'table-label'}>Environment</Box>\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_external} gridArea={'external-air-temp'} label='External Air Temp' value={props.sensor_readings.temp_air_external} units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_external_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_top} gridArea={'air-temp-top'} label='Air Temp Top' value={props.sensor_readings.temp_air_top} units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_top_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_middle} gridArea={'air-temp-middle'} label='Air Temp Middle' value={props.sensor_readings.temp_air_middle} units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_middle_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_bottom} gridArea={'air-temp-bottom'} label='Air Temp Bottom' value={props.sensor_readings.temp_air_bottom} units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_bottom_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_water} gridArea={'water-temp'} label='Water Temp' value={props.sensor_readings.temp_water} units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_water_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.root_ph_sensor} gridArea={'root-ph'} label='Root pH' value={props.sensor_readings.root_ph} units={''} direction={props.sensor_readings.root_ph_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.humidity_sensor_internal} gridArea={'humidity'} label='Humidity' value={props.sensor_readings.humidity_internal} units={props.display_settings.humidity_units} direction={props.sensor_readings.humidity_internal_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.humidity_sensor_external} gridArea={'external-humidity'} label='External Humidity' value={props.sensor_readings.humidity_external} units={props.display_settings.humidity_units} direction={props.sensor_readings.humidity_external_direction} />\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStateTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from 'sprintf-js'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderADCValueWithDirection (props) {\r\n//    console.log(\"RenderADCValueWithDirection\")\r\n    let label_area= `${props.gridArea}-label`\r\n    let value_area= `${props.gridArea}-value`\r\n    let direction_area=`${props.gridArea}-direction`\r\n\r\n    let className = ''\r\n    if(props.direction === 'up') {\r\n        className='zero-arrowup-icon'\r\n    }\r\n    if(props.direction === 'down') {\r\n        className='zero-arrowdown-icon'\r\n    }\r\n    let valuestr = \"\"\r\n    if( typeof props.value !== 'undefined' ) {\r\n        valuestr = sprintf.sprintf( \"%.3f %s\", props.value, props.units )\r\n    }\r\n    let ret =''\r\n\r\n    if( props.exists === false ) {\r\n//        console.log(\"RenderADCValueWithDirection props.exists === false\")\r\n        ret = <></>\r\n    } else {\r\n//        console.log(`RenderADCValueWithDirection valuestr === ${valuestr} props === ${JSON.stringify(props)}`)\r\n        ret = <>\r\n            <Box gridArea={label_area}>{props.label}</Box>\r\n            <Box gridArea={value_area}>{valuestr}</Box>\r\n            <Box gridArea={direction_area}>\r\n                <div className={className}/>\r\n            </Box>\r\n        </>\r\n    }\r\n    return( ret )\r\n}\r\nexport default RenderADCValueWithDirection;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport RenderADCValueWithDirection from './ADCValueWithDirection'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderADCTextStatus (props) {\r\n    let ret =\r\n        <Grid className={'status-table-holder'}\r\n              round={'small'}\r\n              direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: '0_0-label', start: [0, 1], end: [0, 1] }, { name: '0_1-value', start: [1, 1], end: [1, 1] }, { name: '0_0-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '0_1-label', start: [0, 1], end: [0, 1] }, { name: '0_2-value', start: [1, 1], end: [1, 1] }, { name: '0_1-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '0_2-label', start: [0, 1], end: [0, 1] }, { name: '0_3-value', start: [1, 1], end: [1, 1] }, { name: '0_2-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '0_3-label', start: [0, 1], end: [0, 1] }, { name: '0_4-value', start: [1, 1], end: [1, 1] }, { name: '0_3-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_0-label', start: [0, 1], end: [0, 1] }, { name: '1_1-value', start: [1, 1], end: [1, 1] }, { name: '1_0-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_1-label', start: [0, 1], end: [0, 1] }, { name: '1_2-value', start: [1, 1], end: [1, 1] }, { name: '1_1-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_2-label', start: [0, 1], end: [0, 1] }, { name: '1_3-value', start: [1, 1], end: [1, 1] }, { name: '1_2-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_3-label', start: [0, 1], end: [0, 1] }, { name: '1_4-value', start: [1, 1], end: [1, 1] }, { name: '1_3-direction', start: [2, 1], end: [2, 1] },\r\n              ]}\r\n              columns={['medium', 'small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n            <Box gridArea={'table-label'}>ADC</Box>\r\n            <RenderADCValueWithDirection gridArea={'0_0'} label='Bd 0 ch 0' value={props.sensor_readings.adc_0_0_1_860} units={props.sensor_readings.adc_0_0_1_860_units} direction={props.sensor_readings.adc_0_0_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'0_1'} label='Bd 0 ch 1' value={props.sensor_readings.adc_0_1_1_860} units={props.sensor_readings.adc_0_1_1_860_units} direction={props.sensor_readings.adc_0_1_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'0_2'} label='Bd 0 ch 2' value={props.sensor_readings.adc_0_2_1_860} units={props.sensor_readings.adc_0_2_1_860_units} direction={props.sensor_readings.adc_0_2_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'0_3'} label='Bd 0 ch 3' value={props.sensor_readings.adc_0_3_1_860} units={props.sensor_readings.adc_0_3_1_860_units} direction={props.sensor_readings.adc_0_3_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_0'} label='Bd 1 ch 0' value={props.sensor_readings.adc_1_0_1_860} units={props.sensor_readings.adc_1_0_1_860_units} direction={props.sensor_readings.adc_1_0_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_1'} label='Bd 1 ch 1' value={props.sensor_readings.adc_1_1_1_860} units={props.sensor_readings.adc_1_1_1_860_units} direction={props.sensor_readings.adc_1_1_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_2'} label='Bd 1 ch 2' value={props.sensor_readings.adc_1_2_1_860} units={props.sensor_readings.adc_1_2_1_860_units} direction={props.sensor_readings.adc_1_2_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_3'} label='Bd 1 ch 3' value={props.sensor_readings.adc_1_3_1_860} units={props.sensor_readings.adc_1_3_1_860_units} direction={props.sensor_readings.adc_1_3_1_860_direction} />\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderADCTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport {Box} from \"grommet\";\r\nimport RenderStateTextStatus from \"./StateTextStatusFunctional\";\r\nimport RenderInterventionsTextStatus from \"./InterventionsTextStatusFunctional\";\r\nimport RenderSecurityTextStatus from \"./SecurityTextStatusFunctional\";\r\nimport RenderEnvironmentTextStatus from \"./EnvironmentTextStatusFunctional\";\r\nimport RenderADCTextStatus from \"./ADCTextStatusFunctional\";\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTextStatus (props) {\r\n    log.trace(\"RenderTextStatus\")\r\n\r\n    let ret =\r\n        <Grid round={'small'} direction={'vertical'}\r\n              areas={[\r\n                  { name: 'environment', start: [0, 0], end: [0, 0] },\r\n                  { name: 'state', start: [0, 1], end: [0, 1] },\r\n                  { name: 'security', start: [0, 2], end: [0, 2] },\r\n                  { name: 'interventions', start: [0, 3], end: [0, 3] },\r\n                  { name: 'adc', start: [0, 4], end: [0, 4] },\r\n              ]}\r\n              columns={['large']}\r\n              rows={['240px','small','small','small','small']}\r\n              gap={\"xxsmall\"}\r\n        >\r\n            <Box gridArea={'environment'} >\r\n                <RenderEnvironmentTextStatus station_settings={props.station}\r\n                                             sensor_readings={props.sensor_readings}\r\n                                             display_settings={props.display_settings}\r\n                                             automation_settings={props.automation_settings}\r\n                                             settings={props.settings}\r\n                                             />\r\n            </Box>\r\n            <Box gridArea={'state'} >\r\n                <RenderStateTextStatus station={props.station}\r\n                                       sensor_readings={props.sensor_readings}\r\n                                       display_settings={props.display_settings}\r\n                                       automation_settings={props.automation_settings}\r\n                                       settings={props.settings}\r\n                                       various_dates={props.various_dates}/>\r\n            </Box>\r\n            <Box gridArea={'security'} >\r\n                <RenderSecurityTextStatus station_settings={props.station}\r\n                                          sensor_readings={props.sensor_readings}\r\n                                          display_settings={props.display_settings}\r\n                                          automation_settings={props.automation_settings}\r\n                                          settings={props.settings}\r\n                                          />\r\n            </Box>\r\n            <Box gridArea={'interventions'} >\r\n                <RenderInterventionsTextStatus station_settings={props.station}\r\n                                               sensor_readings={props.sensor_readings}\r\n                                               display_settings={props.display_settings}\r\n                                               automation_settings={props.automation_settings}\r\n                                               settings={props.settings}\r\n                                               />\r\n            </Box>\r\n            <Box gridArea={'adc'} >\r\n                <RenderADCTextStatus station_settings={props.station}\r\n                                     sensor_readings={props.sensor_readings}\r\n                                     display_settings={props.display_settings}\r\n                                     automation_settings={props.automation_settings}\r\n                                     settings={props.settings}\r\n                                     />\r\n            </Box>\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet} from 'grommet'\r\nimport RenderTemperatureMeter from \"./TemperatureMeterFunctional\";\r\nimport RenderHumidityMeter from \"./HumidityMeterFunctional\";\r\nimport RenderPressureMeter from \"./PressureMeterFunctional\";\r\nimport RenderPhMeter from \"./PhMeterFunctional\";\r\nimport RenderTextStatus from \"./TextStatusFunctional\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStatusTab (props) {\r\n\r\n    let ret = \"\"\r\n\r\n        ret =\r\n            <Grommet theme={props.theme}>\r\n                <GoogleFontLoader\r\n                    fonts={[\r\n                        {\r\n                            font: props.theme.global.font.family\r\n                        },\r\n                    ]}\r\n                />\r\n                <div className=\"global_container_\">\r\n                    <div className=\"meter-group\">\r\n                        <RenderTemperatureMeter\r\n                                                sensor_readings={props.sensor_readings}\r\n                                                station_settings={props.station}\r\n                                                display_settings={props.display_settings}\r\n                                                automation_settings={props.station.automation_settings}\r\n                                                exists={props.station.temp_air_middle}\r\n                                                className=\"temp-top\" label=\"Air Temperature\"\r\n                                                />\r\n                        <RenderHumidityMeter\r\n                                             sensor_readings={props.sensor_readings}\r\n                                             display_settings={props.display_settings}\r\n                                             automation_settings={props.station.automation_settings}\r\n                                             exists={props.station.humidity_sensor_internal}\r\n                                             className=\"temp-middle\" label=\"Humidity\"\r\n                                             />\r\n                        <RenderPressureMeter\r\n                                             sensor_readings={props.sensor_readings}\r\n                                             display_settings={props.display_settings}\r\n                                             exists={props.station.pressure_sensors}\r\n                                             className=\"temp-bottom\" label=\"Odor Control (pressure)\"\r\n                                             />\r\n                        <RenderPhMeter\r\n                                       sensor_readings={props.sensor_readings}\r\n                                       exists={props.station.root_ph_sensor}\r\n                                       className=\"temp-middle\" label=\"Root pH\"\r\n                                       />\r\n                    </div>\r\n                    <div className=\"detail-group\" >\r\n                        <RenderTextStatus\r\n                            sensor_readings={props.sensor_readings}\r\n                            station={props.station}\r\n                            automation_settings={props.station.automation_settings}\r\n                            display_settings={props.display_settings}\r\n                            settings={props.station}\r\n                            state={props.state}\r\n                            various_dates={props.various_dates}/>\r\n                    </div>\r\n                </div>\r\n            </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStatusTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport '../logimplementation'\r\nimport log from 'roarr';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nexport async function getContainerNames(host, port) {\r\n    log.trace(\"getContainerNames calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/config/containers');\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(\"Got container_names \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\nexport function getAutomationSetting( automation_settings, stage_name ) {\r\n    for( let i = 0; i < automation_settings.length; i++ ) {\r\n        if( automation_settings[i].stage_name === stage_name ) {\r\n            return( automation_settings[i])\r\n        }\r\n    }\r\n    return({})\r\n}\r\n\r\nexport async function getStage(host, port, stationid, stage) {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/station/'+stationid+'/stage/'+stage\r\n        log.trace(\"getStage calling out to api \"+url )\r\n        const response = await fetch(url);\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(\"getStage got stage \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport async function getModuleTypes(host, port) {\r\n    log.trace(\"getModuleTypes calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/config/modules');\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(\"Got module_types \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Get the configuration of the SITE specified by siteid from the API.\r\n *\r\n * @param host      hostname or ip of the controller API server\r\n * @param port      port number of the controller API server\r\n * @param siteid    ID of the site we want\r\n * @returns {Promise<unknown>}  Response status (200 ...) from the API call\r\n */\r\nexport async function getSite (host, port, siteid) {\r\n    log.trace(\"getSite calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/site/'+siteid\r\n        log.trace('getSite calling '+url)\r\n        const response = await fetch(url);\r\n//            const response = await fetch('http://'+host+':'+port+'/api/config/90000009/70000007');\r\n        log.trace(\"getSite response received\")\r\n        if(response.ok) {\r\n//            log.trace(\"getSite awaiting site\")\r\n            let x = await response.json();\r\n//            log.trace(\"getSite Got \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"getSite error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n// http://192.168.21.237:3003/api/station/1/events/\r\n// http://192.168.21.237:3003/api/station/1/events\r\nexport async function getLastNEvents (host, port, stationid, count) {\r\n    log.trace(\"getLastNEvents calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/station/'+stationid+'/events/'\r\n        log.trace(url)\r\n        const response = await fetch(url);\r\n        log.trace(\"returned response = \" + JSON.stringify(response))\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\nexport async function getUser (host, port, userid) {\r\n    log.trace(\"getSite calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url='http://'+host+':'+port+'/api/user/'+userid\r\n        log.trace('getSite calling '+url)\r\n        const response = await fetch(url);\r\n        log.trace(\"getSite response received\")\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"getSite error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\nexport async function saveStage (host, port, stationid, current_stage) {\r\n    log.trace(\"saveStage calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/station/'+stationid+'/stage/'+current_stage);\r\n        log.trace(\"saveStage response received\")\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"saveStage error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Get the list of devices (Pi) attached to the specified user.\r\n *\r\n * @param host      hostname or ip of the controller API server\r\n * @param port      port number of the controller API server\r\n * @param userid    ID of the logged-in user\r\n * @returns {Promise<unknown>}  Response status (200 ...) from the API call\r\n * @todo this is redundant with getSite - eliminate\r\n */\r\nexport const getDeviceList = (host, port, userid) => {\r\n    log.trace(\"getDeviceList calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/device/'+userid);\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Save to persistent store an individual presence/absence setting for a single\r\n * sensor/control item in the current station.\r\n *\r\n * @param thing_name    The unique name of the sensor/control item\r\n * @param present       True/false - true present, false absent\r\n * @returns {Promise<unknown>}  The response status (200,500 ...) from the save setting API call\r\n * @memberOf AuthenticatedApp\r\n */\r\nexport const saveSetting = ( host, port, userid, stationid, thing_name, present ) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/config/'+userid+'/'+stationid+'/sensor/'+thing_name+'/'+present;\r\n        log.debug(\"saveSetting url = \" + url)\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({})\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Save to persistent store an individual presence/absence setting for a single\r\n * sensor/control item in the current station.\r\n *\r\n * @param thing_name    The unique name of the sensor/control item\r\n * @param present       True/false - true present, false absent\r\n * @returns {Promise<unknown>}  The response status (200,500 ...) from the save setting API call\r\n * @memberOf AuthenticatedApp\r\n */\r\nexport const saveAutomationSettings = ( host, port, userid, stationid, stage_name, new_automation_settings ) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/automation/'+stationid+'/'+stage_name;\r\n        log.debug(\"saveAutomationSetting url = \" + url)\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(new_automation_settings )\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.error(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const changeStage = ( host, port, stationid, oldstage, newstage ) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/station/'+stationid+'/stage/';\r\n        log.debug(\"changeStage url = \" + url)\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ oldstage: oldstage, newstage: newstage })\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const addStation = async ( host, port, siteid, station_name ) => {\r\n    log.trace(\"addStation calling out to api \")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/station/site/'+siteid+'/'+station_name;\r\n        log.trace(\"fetching \" + url )\r\n        const response = await fetch(url, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({})\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(JSON.stringify(x))\r\n            log.trace(\"Put station \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {Button, Grid} from \"grommet\";\r\nimport React, {useState} from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderFormActions (props) {\r\n    let [state] = useState(props.state);\r\n\r\n    function defaultsAction() {\r\n        props.defaultsAction()\r\n    }\r\n    function resetAction() {\r\n        props.resetAction();\r\n    }\r\n    function applyAction() {\r\n        props.applyAction(state);\r\n    }\r\n    let applyDisabled = false\r\n    if( props.applyButtonState === false ) {\r\n        applyDisabled=true\r\n    }\r\n    let resetDisabled = false\r\n    if( props.resetButtonState === false ) {\r\n        resetDisabled=true\r\n    }\r\n    let defaultsDisabled = false\r\n    if( props.defaultsButtonState === false ) {\r\n        defaultsDisabled=true\r\n    }\r\n    // The color supplied to the button is the only way to make a border appear.\r\n    let ret = <>\r\n            <Grid\r\n                margin={\"medium\"}\r\n                justify={'center'}\r\n                round={'xxsmall'}\r\n                direction={'horizontal'}\r\n                fill\r\n                areas={[\r\n                    { name: 'apply', start: [0, 0], end: [0, 0] },\r\n                    { name: 'reset', start: [1, 0], end: [1, 0] },\r\n                    { name: 'defaults', start: [2, 0], end: [2, 0] },\r\n                ]}\r\n                columns={['small','small','small']}\r\n                rows={['40px']}\r\n                gap={\"small\"}\r\n            >\r\n\r\n                <Button gridArea={'apply'} color={'var(--color-button-border)'} disabled={applyDisabled} width={'medium'} round={'large'} active={props.applyButtonState} label={'Apply'} onClick={applyAction} />\r\n                <Button gridArea={'reset'} color={'var(--color-button-border)'} disabled={resetDisabled} width={'medium'} round={'large'} type={'reset'} active={props.resetButtonState} label={'Reset'} onClick={resetAction}/>\r\n                <Button gridArea={'defaults'} color={'var(--color-button-border)'} disabled={defaultsDisabled} width={'medium'} round={'large'} active={props.defaultsButtonState} label={'Defaults'} onClick={defaultsAction}/>\r\n         </Grid>\r\n   </>\r\n    return(ret);\r\n}\r\n\r\nexport default RenderFormActions;\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport {getLastNEvents, getSite} from \"../../api/utils\";\r\nimport log from \"roarr\";\r\nimport {Grommet, Table, TableCell, TableRow} from \"grommet\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport RenderFormActions from \"../FormActions\";\r\nimport moment from \"moment\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderOverview (props) {\r\n    const [station] = useState(JSON.parse(JSON.stringify(props.station)));\r\n    const [events,setEvents] = useState([])\r\n    const [reset_button_state] = useState(false)\r\n    const [defaults_button_state] = useState(true)\r\n    const [apply_button_state] = useState(false)\r\n    const [nodeEnv] = useState(props.nodeEnv);\r\n    const [apiHost] = useState(props.apiHost)\r\n    const [apiPort] = useState(props.apiPort)\r\n/*\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let z = await getSite(servers.api_server_host, servers.api_server_port, 1)\r\n            setSite(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    },[]);    // eslint-disable-line react-hooks/exhaustive-deps\r\n    */\r\n    useEffect(() => {\r\n        log.trace(\"useEffect getLastN\")\r\n        const fetchData = async () => {\r\n            log.trace(\"fetchData\")\r\n//            let x = await getSite(apiHost, apiPort, 1)\r\n\r\n            let x = await getLastNEvents(apiHost, apiPort, station.stationid, 100)\r\n            log.trace(\"events \" + JSON.stringify(x))\r\n            setEvents(x)\r\n        }\r\n        fetchData();\r\n    }, [])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    log.trace(\"RenderEventsTab\")\r\n    let [displaySettings] = useState({units: 'IMPERIAL', language: 'en-us', languageOptions:['en-us','fr'], theme: props.theme}); //\r\n\r\n    function getEventrow( row ) {\r\n//        console.log(\"eventrow = \" + JSON.stringify(row))\r\n        let name = row.value_name\r\n        let value = row.stringvalue\r\n        if( row.type !== 'measurement') {\r\n            let x = JSON.parse(row.rawjson)\r\n            log.trace(\"eventrow rawjson \" + JSON.stringify(x))\r\n            name = x.switch_name\r\n            value = (x.on === true) ? \"on\":\"off\"\r\n        }\r\n        // <TableCell>{moment(row.datetimemilllis).format(\"LTS\")}</TableCell>\r\n        return <TableRow  key={row.eventid}>\r\n            <TableCell>{moment(row.datetimemillis).format(\"LTS\")}</TableCell>\r\n            <TableCell>{row.deviceid_device}</TableCell>\r\n            <TableCell>{row.type}</TableCell>\r\n            <TableCell>{name}</TableCell>\r\n            <TableCell>{value}</TableCell>\r\n            <TableCell>{row.units}</TableCell>\r\n        </TableRow>\r\n    }\r\n\r\n    function getEvents() {\r\n//        console.log(\"getEvents \" + JSON.stringify(station))\r\n/*        let arr = []\r\n        for (let device_index = 0; device_index < station.attached_devices.length; device_index++) {\r\n            for (let module_index = 0; module_index < station.attached_devices[device_index].modules.length; module_index++) {\r\n                arr.push({deviceid: station.attached_devices[device_index], module: station.attached_devices[device_index].modules[module_index],\r\n                    sensors: getSensorsForModule(station.attached_devices[device_index].modules[module_index]), device: station.attached_devices[device_index]})\r\n            }\r\n        }\r\n        log.trace(\"arr = \" + JSON.stringify(arr))\r\n\r\n */\r\n        let ret = events.map(getEventrow)\r\n        return ret\r\n    }\r\n\r\n    function applyChanges() {\r\n\r\n    }\r\n    function resetChanges() {\r\n\r\n    }\r\n    function defaultsAction() {\r\n\r\n    }\r\n\r\n    let event_rows = getEvents()\r\n//    console.log(\"rendering with font set to \" + values.theme.global.font.family)\r\n//    console.log(\"station = \" + JSON.stringify(station))\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: displaySettings.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                <Table id=\"settings-tab\" >\r\n                    <tbody>\r\n                    <TableRow>\r\n                        <th >Time</th>\r\n                        <th >Device ID</th>\r\n                        <th >Type</th>\r\n                        <th >Value name</th>\r\n                        <th >Value</th>\r\n                        <th >Units</th>\r\n                    </TableRow>\r\n                    {event_rows}\r\n                    </tbody></Table>\r\n\r\n                <RenderFormActions station={station} applyAction={applyChanges} resetAction={resetChanges}\r\n                                   defaultsAction={defaultsAction}\r\n                                   resetButtonState={reset_button_state}\r\n                                   defaultsButtonState={defaults_button_state}\r\n                                   applyButtonState={apply_button_state}\r\n                />\r\n            </div>\r\n        </Grommet>\r\n    return( ret )\r\n}\r\n\r\nexport default RenderOverview;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet, Table, TableRow, TableCell, Select} from 'grommet'\r\nimport './displaySettingsTab.css'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport fontlist from \"./fontlist.json\"\r\n\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderDisplaySettingsTab (props) {\r\n\r\n    log.trace(\"RenderServerSettingsTab with font set to \" + props.theme.global.font.family);\r\n    let [values, setValues] = useState({units: props.display_settings.units, language: props.display_settings.language, languageOptions: props.display_settings.languageOptions, theme: props.theme, current_font: props.theme.global.font.family}); //\r\n    let [fonts, setFonts] = useState([])\r\n    let [local_theme, setLocalTheme] = useState(JSON.parse(JSON.stringify(props.theme)));\r\n    let [applyButtonState, setApplyButtonState] = useState(false)\r\n    let [resetButtonState, setResetButtonState] = useState(false)\r\n    let [defaultsButtonState] = useState(true)\r\n\r\n    let x = [];\r\n    if(fonts.length === 0 ) {\r\n        fontlist.forEach(function (item) {\r\n            x.push(item.family)\r\n        });\r\n        setFonts(x)\r\n    }\r\n\r\n    function resetAction() {\r\n        setValues(JSON.parse(JSON.stringify(values)))\r\n        setResetButtonState(false);\r\n    }\r\n\r\n    function applyLocally(x, b) {\r\n        setValues(x)\r\n        setResetButtonState(b);\r\n        setApplyButtonState(b);\r\n    }\r\n\r\n    function applyLanguageChangeLocally(value) {\r\n        x = values\r\n        values.language = value\r\n        applyLocally(x,true)\r\n    }\r\n\r\n    function applyFontChangeLocally(value) {\r\n        let x = values\r\n        x.current_font = value\r\n        props.onLocalFontChange(values.current_font)\r\n        let z = local_theme\r\n        z.global.font.family = value\r\n        setLocalTheme(z)\r\n        applyLocally(x,true)\r\n    }\r\n\r\n    function applyFontChangeGlobally() {\r\n        props.onApplyFontChange(values.current_font)\r\n        setResetButtonState(false);\r\n        setApplyButtonState(false);\r\n    }\r\n\r\n    log.info(\"RenderDisplaySettingsTab with theme font set to \" + local_theme.global.font.family);\r\n    log.info(\"RenderDisplaySettingsTab with props.theme.global.font.family set to \" + props.theme.global.font.family);\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: local_theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                    <Table id=\"settings-tab\" >\r\n                        <tbody>\r\n                         <TableRow>\r\n                            <TableCell className={\"table-cell\"}>Language</TableCell><TableCell className={\"table-cell\"}><Select options={values.languageOptions} value={values.language} onChange={applyLanguageChangeLocally}/></TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell >Font Family</TableCell><TableCell className={\"table-cell\"}><Select options={fonts} value={values.current_font} onChange={({ option }) => applyFontChangeLocally(option)}/></TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}><RenderFormActions applyButtonState={applyButtonState} resetButtonState={resetButtonState} defaultsButtonState={defaultsButtonState} applyAction={applyFontChangeGlobally} defaultsAction={resetAction} resetAction={resetAction}/></TableCell>\r\n                        </TableRow>\r\n                        </tbody>\r\n                    </Table>\r\n                </div>\r\n            </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderDisplaySettingsTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet, RadioButtonGroup, CheckBox, TextInput, Table, TableRow, TableCell} from 'grommet'\r\nimport './cabinetSettingsTab.css'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\nimport '../../logimplementation'\r\nimport log from 'roarr';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStationSettingsTab (props) {\r\n    log.trace(\"RenderStationSettingsTab props display_settings = \"+props.display_settings)\r\n    let [local_station, setStation] = useState(props.station);\r\n    let [reset_button_state,setResetButtonState] = useState(false)\r\n    let [defaults_button_state] = useState(true)\r\n    let [apply_button_state,setApplyButtonState] = useState(false)\r\n\r\n\r\n    function applyChanges() {\r\n        setApplyButtonState(false);\r\n        setResetButtonState(false);\r\n        props.setStateFromChild(local_station)\r\n    }\r\n\r\n    function resetChanges() {\r\n        setApplyButtonState(false);\r\n        setResetButtonState(false);\r\n        let x = JSON.parse(JSON.stringify(props.station))\r\n        setStation(x);\r\n    }\r\n\r\n    function changeState(s) {\r\n        setStation(s);\r\n        setApplyButtonState(true);\r\n        setResetButtonState(true);\r\n    }\r\n\r\n    function setEnclosureType(s) {\r\n        log.trace(\"setEnclosureType to \"+JSON.stringify(s))\r\n        let x = JSON.parse(JSON.stringify(props.station))\r\n        x.enclosure_type = s\r\n        changeState(x)\r\n    }\r\n\r\n    function setTubDepth(s) {\r\n        log.trace(\"setTubDepth to \"+JSON.stringify(s))\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        if( s === '' ) {\r\n            x.tub_depth = ''\r\n        } else {\r\n            x.tub_depth = Number(s)\r\n        }\r\n        changeState(x)\r\n    }\r\n\r\n    function setTubVolume(s) {\r\n        log.trace(\"setTubVolume to \"+JSON.stringify(s))\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        if( s === '' ) {\r\n            x.tub_volume = ''\r\n        } else {\r\n            x.tub_volume = Number(s)\r\n        }\r\n        changeState(x)\r\n    }\r\n\r\n\r\n    function toggleHumidifier() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.humidifier = !x.humidifier\r\n        changeState(x)\r\n    }\r\n    function toggleHeightSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.height_sensor = !x.height_sensor\r\n        changeState(x)\r\n    }\r\n    function toggleWaterHeater() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.water_heater = !x.water_heater\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleRootPhSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.root_ph_sensor = !x.root_ph_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleExhaustFan() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.exhaust_fan = !x.exhaust_fan\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleIntakeFan() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.intake_fan = !x.intake_fan\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleWaterLevelSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.water_level_sensor = !x.water_level_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleHumiditySensorInternal() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.humidity_sensor_internal = !x.humidity_sensor_internal\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleExternalHumiditySensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.humidity_sensor_external = !x.humidity_sensor_external\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleExternalThermometer() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_external = !x.thermometer_external\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleThermometerTop() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_top = !x.thermometer_top\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleThermometerMiddle() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_middle = !x.thermometer_middle\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleThermometerBottom() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_bottom = !x.thermometer_bottom\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleWaterThermometer() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_water = !x.thermometer_water\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleHeater() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.heater = !x.heater\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleWaterPump() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.water_pump = !x.water_pump\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleAirPump() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.air_pump = !x.air_pump\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleLightSensorInternal() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_sensor_internal = !x.light_sensor_internal\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleLightSensorExternal() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x['light_sensor_external'] = !x['light_sensor_external']\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleMovementSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.movement_sensor = !x.movement_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleOuterDoorSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.outer_door_sensor = !x.outer_door_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleStationDoorSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.station_door_sensor = !x.station_door_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function togglePressureSensors() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.pressure_sensors = !x.pressure_sensors\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleGerminateLight() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_germinate = !x.light_germinate\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleVegetativeLight() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_vegetative = !x.light_vegetative\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleBloomLight() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_bloom = !x.light_bloom\r\n        changeState(x)\r\n    }\r\n\r\n    log.trace(\"RenderStationSettingsTab station_settings rendering with props.station.humidifier set to \"+ props.station.humidifier)\r\n    let ret =\r\n        <Grommet theme={props.theme} >\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: props.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n        <div className=\"global_container_\">\r\n        <Table id={'settings-tab'} >\r\n                        <tbody>\r\n                        <TableRow >\r\n                            <TableCell border={'bottom'} >Station name</TableCell>\r\n                            <TableCell  border={'bottom'} colSpan={3}>\r\n                                <TextInput value= {props.station.station_name} onChange={event => setTubVolume(event.target.value)} />\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <TableRow >\r\n                            <TableCell border={'bottom'} >\r\n                                <Table id=\"light-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Light</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Germinate (<20W)\" onChange={toggleGerminateLight} checked={local_station.light_germinate}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Vegetative\"  onChange={toggleVegetativeLight} checked={local_station.light_vegetative}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Bloom\" onChange={toggleBloomLight} checked={local_station.light_bloom}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Internal Light Sensor\" onChange={toggleLightSensorInternal} checked={local_station.light_sensor_internal}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"External Light Sensor\" onChange={toggleLightSensorExternal} checked={local_station.light_sensor_external}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table  id=\"humidity-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Humidity</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Humidifier\" onChange={toggleHumidifier} checked={local_station.humidifier}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Humidity Sensor\" onChange={toggleHumiditySensorInternal} checked= {local_station.humidity_sensor_internal}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"External Humidity Sensor\" onChange={toggleExternalHumiditySensor} checked= {local_station.humidity_sensor_external}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table  id=\"temperature-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Temperature</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Heater\" onChange={toggleHeater} checked= {local_station.heater}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Top Sensor\" onChange={toggleThermometerTop} checked= {local_station.thermometer_top}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Middle Sensor\" onChange={toggleThermometerMiddle} checked= {local_station.thermometer_middle}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Bottom Sensor\" onChange={toggleThermometerBottom} checked= {local_station.thermometer_bottom}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"External Sensor\" onChange={toggleExternalThermometer} checked= {local_station.thermometer_external}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Heater\" onChange={toggleWaterHeater} checked= {local_station.water_heater}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Temp Sensor\" onChange={toggleWaterThermometer} checked= {local_station.thermometer_water}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell border={'bottom'}>\r\n                                <Table id=\"nutrition-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Nutrition</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Pump\" onChange={toggleWaterPump} checked= {local_station.water_pump}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Air Pump\" onChange={toggleAirPump} checked= {local_station.air_pump}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Level Sensor\" onChange={toggleWaterLevelSensor} checked= {local_station.water_level_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Root pH Sensor\" onChange={toggleRootPhSensor} checked= {local_station.root_ph_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Height Sensor\" onChange={toggleHeightSensor} checked= {local_station.height_sensor}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <TableRow >\r\n                            <TableCell border={'bottom'} >\r\n                                <Table id=\"security-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Airflow and Odor</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Pressure Sensors\" onChange={togglePressureSensors} checked= {local_station.pressure_sensors}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Intake Fan\" onChange={toggleIntakeFan} checked= {local_station.intake_fan}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Exhaust Fan\" onChange={toggleExhaustFan} checked= {local_station.exhaust_fan}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table  >\r\n                                <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Security</td></tr></thead>\r\n                                <tbody>\r\n                                <TableRow><TableCell><CheckBox label=\"Station Door Sensor\" onChange={toggleStationDoorSensor} checked= {local_station.station_door_sensor}/></TableCell></TableRow>\r\n                                <TableRow><TableCell><CheckBox label=\"Outer Door Sensor\" onChange={toggleOuterDoorSensor} checked= {local_station.outer_door_sensor}/></TableCell></TableRow>\r\n                                <TableRow><TableCell><CheckBox label=\"Movement Sensor\" onChange={toggleMovementSensor} checked= {local_station.movement_sensor}/></TableCell></TableRow>\r\n                                </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <tr><td className=\"centered-thead-text\" colSpan=\"4\">Enclosure Characteristics</td></tr>\r\n                        <TableRow>\r\n                        <TableCell className={\"table-cell\"}>Enclosure type</TableCell>\r\n                            <TableCell colSpan={3}>\r\n                                <RadioButtonGroup name=\"enclosure-type\"\r\n                                                  options={props.display_settings.enclosure_options}\r\n                                                  value={props.station.enclosure_type}\r\n                                                  onChange={event => setEnclosureType(event.target.value)}/>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Tub depth</TableCell>\r\n                            <TableCell colSpan={2}>\r\n                                <TextInput value= {props.station.tub_depth} onChange={event => setTubDepth(event.target.value)}/>\r\n                            </TableCell>\r\n                            <TableCell>{props.display_settings.tub_depth_units}</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell>Tub volume</TableCell>\r\n                            <TableCell colSpan={2}>\r\n                                <TextInput value= {props.station.tub_volume} onChange={event => setTubVolume(event.target.value)} />\r\n                            </TableCell>\r\n                            <TableCell >{props.display_settings.tub_volume_units}</TableCell>\r\n                        </TableRow>\r\n                       </tbody>\r\n                    </Table>\r\n            <RenderFormActions state= {local_station} applyAction={applyChanges} resetAction={resetChanges}\r\n                               resetButtonState={reset_button_state}\r\n                               defaultsButtonState={defaults_button_state}\r\n                               applyButtonState={apply_button_state}\r\n            />\r\n        </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStationSettingsTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport './deviceMapTab.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {\r\n    Grommet,\r\n    Table,\r\n    TableRow,\r\n    TableCell\r\n} from 'grommet'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\nimport {getContainerNames, getModuleTypes} from '../../api/utils';\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderDeviceMapTab (props) {\r\n    const [station] = useState(JSON.parse(JSON.stringify(props.station)));\r\n    const [reset_button_state] = useState(false)\r\n    const [defaults_button_state] = useState(true)\r\n    const [apply_button_state] = useState(false)\r\n    const [container_names,setContainerNames] = useState()\r\n    const [module_types,setModuleTypes] = useState()\r\n    const [nodeEnv] = useState(props.nodeEnv);\r\n    const [apiHost] = useState(props.apiHost)\r\n    const [apiPort] = useState(props.apiPort)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let x = await getContainerNames(apiHost, apiPort)\r\n            log.trace(\"containers \" + JSON.stringify(container_names))\r\n            setContainerNames(x.container_names)\r\n            x = await getModuleTypes(apiHost, apiPort)\r\n            log.trace(\"modules \" + JSON.stringify(module_types))\r\n            setModuleTypes(x.module_types)\r\n        }\r\n        fetchData();\r\n    }, [nodeEnv])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    log.trace(\"RenderDeviceMapTab\")\r\n    let [displaySettings] = useState({units: 'IMPERIAL', language: 'en-us', languageOptions:['en-us','fr'], theme: props.theme}); //\r\n\r\n    function getAddress( module ) {\r\n        if( module.device_type === \"GPIO\" ) {\r\n            return \"\"\r\n        } else {\r\n            return module.address + \" \"\r\n        }\r\n    }\r\n\r\n    function getIncludedSensor( sensor, index, arr ) {\r\n        if( sensor.device_type === \"GPIO\" ) {\r\n            return sensor.sensor_name + \" \"\r\n        } else {\r\n            return sensor.sensor_name + \":\" + sensor.measurement_name + \" \"\r\n        }\r\n    }\r\n\r\n    function getSensorsForModule(module) {\r\n        return( module.included_sensors.map(getIncludedSensor))\r\n    }\r\n\r\n    function getModulerow( row, index, arr ) {\r\n        return <TableRow  key={row.module.moduleid}>\r\n            <TableCell>{row.device.deviceid}</TableCell>\r\n            <TableCell>{row.module.container_name}</TableCell>\r\n            <TableCell>{row.module.module_type}</TableCell>\r\n            <TableCell>{getAddress(row.module)}</TableCell>\r\n            <TableCell>{row.sensors}</TableCell></TableRow>\r\n    }\r\n    function getModules() {\r\n//        console.log(\"getModules \" + JSON.stringify(station))\r\n        let arr = []\r\n        for (let device_index = 0; device_index < station.attached_devices.length; device_index++) {\r\n            for (let module_index = 0; module_index < station.attached_devices[device_index].modules.length; module_index++) {\r\n               arr.push({deviceid: station.attached_devices[device_index], module: station.attached_devices[device_index].modules[module_index],\r\n                    sensors: getSensorsForModule(station.attached_devices[device_index].modules[module_index]), device: station.attached_devices[device_index]})\r\n            }\r\n        }\r\n        log.trace(\"arr = \" + JSON.stringify(arr))\r\n        let ret = arr.map(getModulerow)\r\n        return ret\r\n    }\r\n\r\n//    function getTypeSelector(module) {\r\n//            return <Text >{module.module_type} {module.module_name}</Text>\r\n//     }\r\n\r\n//    function testDatabase(e) {\r\n//\r\n//    }\r\n\r\n    function applyChanges() {\r\n\r\n    }\r\n    function resetChanges() {\r\n\r\n    }\r\n    function defaultsAction() {\r\n\r\n    }\r\n\r\n    let module_rows = getModules()\r\n//    console.log(\"rendering with font set to \" + values.theme.global.font.family)\r\n//    console.log(\"station = \" + JSON.stringify(station))\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: displaySettings.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                <Table id=\"settings-tab\" >\r\n                    <tbody>\r\n                    <TableRow>\r\n                        <th >Device</th>\r\n                        <th >Container</th>\r\n                        <th >Module Type</th>\r\n                        <th >Address</th>\r\n                        <th >Attached Sensors</th>\r\n                    </TableRow>\r\n                    {module_rows}\r\n                    </tbody></Table>\r\n\r\n                <RenderFormActions station={station} applyAction={applyChanges} resetAction={resetChanges}\r\n                                   defaultsAction={defaultsAction}\r\n                                   resetButtonState={reset_button_state}\r\n                                   defaultsButtonState={defaults_button_state}\r\n                                   applyButtonState={apply_button_state}\r\n                />\r\n                </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderDeviceMapTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {Box, Grid, Select, TextInput} from \"grommet\";\r\nimport React, {useState} from \"react\";\r\n\r\nimport lighting_schedule_options from \"../../options_lighting_schedule.json\"\r\nimport light_type_options from \"../../options_light_type.json\"\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderLightSelector (props) {\r\n\r\n    let options = [\r\n    {name: \"24 on\", hours: 24},\r\n    {name: \"18 on/6 off\", hours: 18},\r\n    {name: \"14 on/10 off\", hours: 14},\r\n    {name:  \"12 on/12 off\", hours: 12},\r\n    {name:  \"10 on/14 off\", hours: 10},\r\n    {name:  \"6 on/18 off\", hours: 6},\r\n    {name:  \"24 off\", hours: 0}]\r\n\r\n    function setLightTypeValue(value) {\r\n        let x = props.automation_setting;\r\n        x.current_light_type = value;\r\n        props.setAutomationSettingFromChild(x)\r\n//        setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    function setLightScheduleValue(value) {\r\n        let x = props.automation_setting;\r\n        x.current_lighting_schedule = value;\r\n        for( let i = 0; i < options.length; i++ ) {\r\n            if( options[i].name === value ) {\r\n                x.hours_of_light = options[i].hours;\r\n                break;\r\n            }\r\n        }\r\n        props.setAutomationSettingFromChild(x)\r\n//       setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    function setLightOnHourValue(value) {\r\n        let x = props.automation_setting;\r\n        x.light_on_start_hour = value;\r\n        props.setAutomationSettingFromChild(x)\r\n//        setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    function setHoursOfLightValue(value) {\r\n        let x = props.automation_setting;\r\n        x.hours_of_light = value;\r\n        props.setAutomationSettingFromChild(x)\r\n//        setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    const changeLightType = event => setLightTypeValue(event.target.value);\r\n    const changeHoursOfLight = event => setHoursOfLightValue(event.target.value);\r\n    const changeLightSchedule = event => setLightScheduleValue(event.target.value);\r\n    const changeLightOnHour = event => setLightOnHourValue(event.target.value);\r\n\r\n    log.trace(\"automation_setting = \" + JSON.stringify(props.automation_setting))\r\n    let ret = <>\r\n        <Grid\r\n            round={'xxsmall'}\r\n            direction={'horizontal'}\r\n            fill\r\n            areas={[\r\n                {name: 'type', start: [0, 0], end: [0, 0]},\r\n                {name: 'schedule', start: [1, 0], end: [1, 0]},\r\n                {name: 'hours', start: [2, 0], end: [2, 0]},\r\n                {name: 'start', start: [3, 0], end: [3, 0]},\r\n            ]}\r\n            columns={['200px', '200px', '200px', '200px']}\r\n            rows={['60px']}\r\n            gap=\"xxsmall\"\r\n        >\r\n\r\n            <Box width={'small'} round={'small'} gridArea=\"type\">\r\n                Light Type\r\n                <Select options={light_type_options} value={props.automation_setting.current_light_type}\r\n                        onChange={changeLightType}/>\r\n            </Box>\r\n            <Box width={'small'} round={'xsmall'} gridArea=\"schedule\">\r\n                Light Schedule\r\n                <Select options={lighting_schedule_options}\r\n                        value={props.automation_setting.current_lighting_schedule}\r\n                        onChange={changeLightSchedule}/>\r\n            </Box>\r\n            <Box width={'small'} round={'small'} gridArea=\"hours\">\r\n                Hours of Light\r\n                <TextInput value={props.automation_setting.hours_of_light}\r\n                           onChange={changeHoursOfLight}/>\r\n            </Box>\r\n            <Box width={'small'} round={'small'} gridArea=\"start\">\r\n                Light Start Hour\r\n                <TextInput value={props.automation_setting.light_on_start_hour}\r\n                        onChange={changeLightOnHour}/>\r\n            </Box>\r\n\r\n        </Grid>\r\n    </>\r\n    return (ret);\r\n}\r\n\r\nexport default RenderLightSelector;\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, { useState } from 'react';\r\n\r\nimport { Grid,Image, Box, RangeInput } from 'grommet';\r\nimport thermometer from '../../images/thermometer-icon.png'\r\nimport './stagesTab.css';\r\nimport '../../Palette.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderWaterTemperatureSelector(props) {\r\n    function setValue(value) {\r\n        let x = props.automation_setting;\r\n        x.target_temperature=value;\r\n        props.setAutomationSettingFromChild(x)\r\n    }\r\n    const onChange = event => setValue(event.target.value);\r\n    const units = props.display_settings.temperature_units;\r\n    const min = props.automation_setting.temperature_min;\r\n    const max = props.automation_setting.temperature_max;\r\n\r\n    const target_temperature = props.automation_setting.target_temperature\r\n\r\n    return (\r\n            <Grid\r\n                round={'xxsmall'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [3, 0] },\r\n                    { name: 'icon', start: [0, 1], end: [0, 1] },\r\n                    { name: 'min', start: [1, 1], end: [1, 1] },\r\n                    { name: 'slider', start: [2, 1], end: [2, 1] },\r\n                    { name: 'max', start: [3, 1], end: [3, 1] },\r\n                    { name: 'value', start: [0, 2], end: [3, 2] },\r\n                ]}\r\n                columns={['16px', '30px', '400px', '30px']}\r\n                rows={['28px','60px', '28px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n                <Box gridArea=\"label\" color={'yellow'}  align=\"center\">\r\n                    {props.label}\r\n                </Box>\r\n\r\n                <Box gridArea=\"icon\"  justify={\"center\"}>\r\n                    <Image src={thermometer} />\r\n                </Box>\r\n                <Box gridArea=\"min\" justify={\"center\"}>{min}{units}</Box>\r\n                <Box gridArea=\"slider\"  justify={\"center\"} align-content={'center'}>\r\n                        <RangeInput\r\n                            direction=\"horizontal\"\r\n                            min={min}\r\n                            max={max}\r\n                            step={1}\r\n                            value={target_temperature}\r\n                            onChange={onChange}\r\n                        />\r\n                </Box>\r\n                <Box gridArea=\"max\" justify={\"center\"}>{max}{units}</Box>\r\n                <Box gridArea=\"value\" justify={\"center\"} align=\"center\">\r\n                    {target_temperature}{units}\r\n                </Box>\r\n            </Grid>\r\n   );\r\n}\r\nexport default RenderWaterTemperatureSelector;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, { useState } from 'react';\r\n\r\nimport { Grid,Image, Box, RangeInput } from 'grommet';\r\nimport thermometer from '../../images/thermometer-icon.png'\r\nimport './stagesTab.css';\r\nimport '../../Palette.css';\r\nimport {getAutomationSetting} from \"../../api/utils\";\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTemperatureSelector(props) {\r\n    function setValue(value) {\r\n        log.trace(\"setValue \" + value)\r\n//        let x = local_station;\r\n//        x.automation_settings.target_temperature=value;\r\n//        props.setStateFromChild(x)\r\n//        setStation(x)\r\n    }\r\n\r\n    log.trace(\"TemperatureSelector automation_setting = \" + JSON.stringify(props.automation_setting))\r\n    const onChange = event => setValue(event.target.value);\r\n    const units = props.display_settings.temperature_units;\r\n    const min = props.automation_setting.temperature_min;\r\n    const max = props.automation_setting.temperature_max;\r\n\r\n    const target_temperature = props.automation_setting.target_temperature\r\n\r\n    return (\r\n            <Grid\r\n                round={'xxsmall'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [3, 0] },\r\n                    { name: 'icon', start: [0, 1], end: [0, 1] },\r\n                    { name: 'min', start: [1, 1], end: [1, 1] },\r\n                    { name: 'slider', start: [2, 1], end: [2, 1] },\r\n                    { name: 'max', start: [3, 1], end: [3, 1] },\r\n                    { name: 'value', start: [0, 2], end: [3, 2] },\r\n                ]}\r\n                columns={['16px', '30px', '400px', '30px']}\r\n                rows={['28px','60px', '28px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n                <Box gridArea=\"label\" color={'yellow'}  align=\"center\">\r\n                    {props.label}\r\n                </Box>\r\n\r\n                <Box gridArea=\"icon\"  justify={\"center\"}>\r\n                    <Image src={thermometer} />\r\n                </Box>\r\n                <Box gridArea=\"min\" justify={\"center\"}>{min}{units}</Box>\r\n                <Box gridArea=\"slider\"  justify={\"center\"} align-content={'center'}>\r\n                        <RangeInput\r\n                            direction=\"horizontal\"\r\n                            min={min}\r\n                            max={max}\r\n                            step={1}\r\n                            value={target_temperature}\r\n                            onChange={onChange}\r\n                        />\r\n                </Box>\r\n                <Box gridArea=\"max\" justify={\"center\"}>{max}{units}</Box>\r\n                <Box gridArea=\"value\" justify={\"center\"} align=\"center\">\r\n                    {target_temperature}{units}\r\n                </Box>\r\n            </Grid>\r\n   );\r\n}\r\nexport default RenderTemperatureSelector;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Grid,Image, Box, RangeInput } from 'grommet';\r\nimport humidity from '../../images/humidityicon.png'\r\nimport './stagesTab.css';\r\nimport '../../Palette.css';\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHumiditySelector(props) {\r\n    function setValue(value) {\r\n        let x = JSON.parse(JSON.stringify(props.automation_setting));\r\n        log.trace(\"RenderHumiditySelector = \" + JSON.stringify(x))\r\n        x.target_humidity = value\r\n        props.setAutomationSettingFromChild(x)\r\n    }\r\n\r\n    const onChange = event => setValue(event.target.value);\r\n    const min = props.automation_setting.humidity_min;\r\n    const max = props.automation_setting.humidity_max;\r\n    const units = props.display_settings.humidity_units\r\n    const target_humidity = props.automation_setting.target_humidity\r\n    log.trace(\"RenderHumiditySelector 1 = \" + JSON.stringify(props.automation_setting))\r\n\r\n    return (\r\n            <Grid\r\n                round={'xxsmall'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [3, 0] },\r\n                    { name: 'icon', start: [0, 1], end: [0, 1] },\r\n                    { name: 'min', start: [1, 1], end: [1, 1] },\r\n                    { name: 'slider', start: [2, 1], end: [2, 1] },\r\n                    { name: 'max', start: [3, 1], end: [3, 1] },\r\n                    { name: 'value', start: [0, 2], end: [3, 2] },\r\n                ]}\r\n                columns={['16px', '30px', '400px', '30px']}\r\n                rows={['28px','60px', '28px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n                <Box gridArea=\"label\" color={'yellow'}  align=\"center\">\r\n                    {props.label}\r\n                </Box>\r\n\r\n                <Box gridArea=\"icon\"  justify={\"center\"}>\r\n                    <Image src={humidity} />\r\n                </Box>\r\n                <Box gridArea=\"min\" justify={\"center\"}>{min}{units}</Box>\r\n                <Box gridArea=\"slider\"  justify={\"center\"} align-content={'center'}>\r\n                        <RangeInput\r\n                            direction=\"horizontal\"\r\n                            min={min}\r\n                            max={max}\r\n                            step={1}\r\n                            value={target_humidity}\r\n                            onChange={onChange}\r\n                        />\r\n                </Box>\r\n                <Box gridArea=\"max\" justify={\"center\"}>{max}{units}</Box>\r\n                <Box gridArea=\"value\" justify={\"center\"} align=\"center\">\r\n                    {target_humidity}{units}\r\n                </Box>\r\n            </Grid>\r\n   );\r\n}\r\nexport default RenderHumiditySelector;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet, Box, Grid, CheckBox} from 'grommet'\r\nimport './stagesTab.css'\r\nimport RenderLightSelector from './LightScheduleSelector'\r\nimport RenderWaterTemperatureSelector from './WaterTemperatureSelectorFunctional'\r\nimport RenderTemperatureSelector from './TemperatureSelectorFunctional'\r\nimport RenderHumiditySelector from './HumiditySelectorFunctional'\r\nimport RenderStageSelector from './StageSelector'\r\nimport RenderFormActions from '../FormActions'\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport log from \"roarr\";\r\nimport {getStage,getAutomationSetting, getSite} from \"../../api/utils\";\r\nimport util from \"../../util\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStageTab (props) {\r\n\r\n    log.trace(\"RenderStageTab props.automation_setting = \" + JSON.stringify(getAutomationSetting(props.automation_settings, props.selected_stage)))\r\n\r\n    let [checked, setChecked] = useState(false);\r\n    let [selected_stage, setSelectedStage] = useState(props.selected_stage);\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            log.trace(\"selected StageTab stage value fetching\")\r\n            let z = await getStage(servers.api_server_host, servers.api_server_port, props.station.stationid, selected_stage)\r\n            log.trace(\"setting automation setting after fetch to \" + JSON.stringify(z))\r\n            setAutomationSetting(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    },[selected_stage]);    // eslint-disable-line react-hooks/exhaustive-deps\r\n    // ONLY CALL ON MOUNT - empty array arg causes this\r\n\r\n    function setAutomationSettingFromChild(x) {\r\n        setapplyButtonState(true)\r\n        setresetButtonState(true)\r\n        log.trace(\"setAutomationSettingFromChild \"+JSON.stringify(x))\r\n        setAutomationSetting(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n//    function setSelectedStage(value) {\r\n//        log.info(\"selected stage value stageTab new stage value \" + value)\r\n//    }\r\n\r\n    function applyAction() {\r\n        setapplyButtonState(false)\r\n        setresetButtonState(false)\r\n        log.trace(\"StageTab automation_settings \" + station.current_stage)\r\n        if( checked ) {\r\n            props.setStageFromChild(station.current_stage);\r\n            props.setAutomationSettingsFromChild(station.automation_settings)\r\n        }\r\n        props.updateStageFromChild(station.current_stage,station.automation_settings)\r\n    }\r\n\r\n    function setCurrent( e ) {\r\n        log.trace(\"e.getchecked = \" + e.target.checked)\r\n        setapplyButtonState(true)\r\n        setresetButtonState(true)\r\n        setChecked(e.target.checked)\r\n    }\r\n\r\n    function resetAction() {\r\n        setStation(JSON.parse(JSON.stringify(props.station)));\r\n    }\r\n\r\n    function defaultsAction() {\r\n        setStation(JSON.parse(JSON.stringify(props.station)));\r\n    }\r\n\r\n    let [station, setStation] = useState(props.station); //\r\n    let [automation_setting, setAutomationSetting] = useState(getAutomationSetting(props.automation_settings, selected_stage))\r\n    let [applyButtonState, setapplyButtonState] = useState(false); //\r\n    let [resetButtonState, setresetButtonState] = useState(false); //\r\n    let [defaultsButtonState] = useState(true ); //\r\n\r\n    log.trace(\"rendering with automation_setting=\"+JSON.stringify(automation_setting))\r\n    let ret =\r\n            <Grommet theme={props.theme}>\r\n                <GoogleFontLoader\r\n                    fonts={[\r\n                        {\r\n                            font: props.theme.global.font.family\r\n                        },\r\n                    ]}\r\n                />\r\n                <div className=\"global_container_\" >\r\n                    <div className={'settings-tab'} >\r\n                    <Grid className={'centered-thead-text'} id={'stages-tab'}\r\n                          justify={'center'}\r\n                        round={'small'}\r\n                        direction={'vertical'}\r\n                        fill\r\n                        areas={[\r\n                            { name: 'stage', start: [0, 0], end: [0, 0] },\r\n                            { name: 'light', start: [0, 1], end: [0, 1] },\r\n                            { name: 'temp', start: [0, 2], end: [0, 2] },\r\n                            { name: 'humidity', start: [0, 3], end: [0, 3] },\r\n                            { name: 'watertemp', start: [0, 4], end: [0, 4] },\r\n                            { name: 'actions', start: [0, 5], end: [0, 5] },\r\n                        ]}\r\n                        columns={['large']}\r\n                        rows={['xsmall','xsmall','130px','130px','130px','130px']}\r\n                        gap={\"xxsmall\"}\r\n                    >\r\n                        <Box gridArea={'stage'} >\r\n                            <table><tbody><tr><td>\r\n                            <RenderStageSelector station={station}\r\n                                                 display_settings={props.display_settings}\r\n                                                 automation_setting={automation_setting}\r\n                                                 setSelectedStageFromChild={setSelectedStage}\r\n                                                 selectedStage={automation_setting.stage_name} />\r\n                            </td></tr></tbody></table>\r\n                            </Box>\r\n                        <Box gridArea={'light'}  >\r\n                            <RenderLightSelector station={station}\r\n                                                 display_settings={props.display_settings}\r\n                                                 settings={station}\r\n                                                 automation_setting={automation_setting}\r\n                                                 setAutomationSettingFromChild={setAutomationSettingFromChild} />\r\n                        </Box>\r\n                        <Box gridArea={'temp'} >\r\n                            <RenderTemperatureSelector station={station}\r\n                                                       display_settings={props.display_settings}\r\n                                                       automation_setting={automation_setting}\r\n                                                       label={\"Target Temperature\"}\r\n                                                       setStateFromChild={setAutomationSettingFromChild}/>\r\n                        </Box>\r\n                        <Box gridArea={'humidity'} >\r\n                            <RenderHumiditySelector station={station}\r\n                                                    display_settings={props.display_settings}\r\n                                                    automation_setting={automation_setting}\r\n                                                    label={\"Target Humidity\"}\r\n                                                    setAutomationSettingFromChild={setAutomationSettingFromChild}/>\r\n                        </Box>\r\n                        <Box gridArea={'watertemp'} >\r\n                            <RenderWaterTemperatureSelector station={station}\r\n                                                            display_settings={props.display_settings}\r\n                                                            automation_setting={automation_setting}\r\n                                                            label={\"Water Temperature\"}\r\n                                                            setAutomationSettingFromChild={setAutomationSettingFromChild}/>\r\n                        </Box>\r\n                        <Box gridArea={'actions'}   >\r\n                            <RenderFormActions settings={station}\r\n                                               applyAction={applyAction}\r\n                                               applyButtonState={applyButtonState}\r\n                                               resetButtonState={resetButtonState}\r\n                                               defaultsButtonState={defaultsButtonState}\r\n                                               resetAction={resetAction}\r\n                                               defaultsAction={defaultsAction}/>\r\n                        </Box>\r\n                    </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStageTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css';\r\nimport ReactImageZoom from 'react-image-zoom';\r\n\r\nimport {Text, Button, Box, Grommet, Grid} from \"grommet\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport util from \"../../util\";\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderCameraTab(props) {\r\n//    console.log(\"RenderCameraTab \"+JSON.stringify(props.station.attached_devices))\r\n    let userid = \"90000009\"\r\n\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    let Areas = []\r\n    let Rows = []\r\n    let ImageProps = []\r\n    let indexes = []\r\n    let rowcount = 0\r\n//    console.log(\"props.station.attached_devices = \" + JSON.stringify(props.station.attached_devices))\r\n    for( let i = 0; i < props.station.attached_devices.length; i++ ) {\r\n        if( props.station.attached_devices[i].picamera === false ) {\r\n            continue\r\n        }\r\n        let picture_url = 'http://' + servers.api_server_host + ':' + servers.api_server_port +\r\n            '/' + userid + '_' + props.station.attached_devices[i].deviceid + '.jpg?' + props.lastpicture\r\n\r\n        log.trace(\"picture_url = \"+picture_url)\r\n        ImageProps.push( {width: 800,  zoomWidth: 1600, img: picture_url});\r\n\r\n        Areas.push({ name: 'label'+i, start: [0, rowcount], end: [0, rowcount] })\r\n        Rows.push('40px')\r\n        rowcount++;\r\n        Areas.push({ name: 'picture'+i, start: [0, rowcount], end: [0, rowcount] })\r\n        Rows.push('800px')\r\n        rowcount++;\r\n        indexes.push(i)\r\n    }\r\n\r\n\r\n    function getDeviceRow(i) {\r\n        let labelAreaIndex = i*2\r\n\r\n        log.trace(\"getRow \" + i +' labelAreaIndex '+labelAreaIndex + ' label '+props.station.attached_devices[i]);\r\n        return( <><Text gridArea={\"label\"+i}>{props.station.attached_devices[i].deviceid}</Text><Box gridArea={Areas[labelAreaIndex+1].name}><ReactImageZoom {...ImageProps[i]} /></Box></>);\r\n    }\r\n\r\n//    console.log(JSON.stringify(Areas))\r\n     let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: props.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n\r\n            <div className=\"global_container_\">\r\n                <Button color={'var(--color-button-border)'} width={'medium'} round={'large'} active={true} label={'Take Picture'} onClick={props.takeAPicture} />\r\n                <Grid\r\n                    margin={\"medium\"}\r\n                    justify={'center'}\r\n                    round={'xxsmall'}\r\n                    direction={'horizontal'}\r\n                    fill\r\n                    areas={Areas}\r\n                    columns={['800px']}\r\n                    rows={Rows}\r\n                    gap={\"small\"}\r\n                >\r\n                    {indexes.map(getDeviceRow)}\r\n                </Grid>\r\n\r\n            </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderCameraTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState, useMemo, useRef, useEffect} from 'react';\r\n\r\nimport {Tabs, Tab} from \"rendition\";\r\n// import {Avatar, Button, Sidebar, Nav, Grid, Text} from 'grommet'\r\nimport { Button, Grid} from 'grommet'\r\nimport Header from \"./components/Header\"\r\n\r\nimport RenderControlTab from \"./components/ControlTab/ControlTabFunctional\";\r\nimport RenderStatusTab from \"./components/StatusTab/StatusTabFunctional\";\r\nimport RenderEvents from \"./components/EventsTab/EventsFunctional\";\r\nimport RenderDisplaySettings from \"./components/DisplaySettingsTab/DisplaySettingsTabFunctional\"\r\nimport RenderSettings from \"./components/StationSettingsTab/StationSettingsTabFunctional\"\r\nimport RenderSetup from \"./components/ServerSettingsTab/ServerSettingsTabFunctional\"\r\nimport RenderDeviceMap from \"./components/DeviceMapTab/DeviceMapTabFunctional\"\r\nimport RenderStageTab from \"./components/StageTabs/StageTabFunctional\"\r\nimport RenderCameraTab from \"./components/CameraTab/CameraTabFunctional\"\r\n// import RenderSiteStationMenu from \"./components/SiteStationMenu\";\r\nimport initial_theme from './InitialTheme.json'\r\nimport {deepMerge} from \"grommet/utils\"\r\nimport {grommet} from 'grommet/themes'\r\n// import {Add,Clock,Help} from 'grommet-icons'\r\nimport {TextField,Dialog,DialogTitle,DialogContent,DialogContentText,DialogActions} from '@material-ui/core'\r\n\r\nimport sprintf from 'sprintf-js';\r\n\r\nimport useWebSocket from 'react-use-websocket';\r\nimport './Palette.css'\r\n\r\nimport util from './util'\r\nimport {addStation, saveSetting, getSite, saveAutomationSettings} from './api/utils'\r\n\r\nimport './logimplementation'\r\nimport log from 'roarr';\r\nimport moment from \"moment\";\r\n\r\nimport {changeStage} from './api/utils';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nconst STATUS_COMMAND=\"status\"\r\nconst SWITCH_COMMAND=\"switch\"\r\nconst STAGE_COMMAND=\"stage\"\r\nconst PICTURE_COMMAND=\"picture\"\r\n\r\nlet because = \"don't know\"\r\n\r\n/**\r\n * @fileOverview Component containing the top-level of the application for a user who is logged in.\r\n * @component\r\n * @author John Rodley\r\n * @version: X.x\r\n */\r\nfunction AuthenticatedApp (props) {\r\n//    log.debug(\"render AuthenticatedApp \" + JSON.stringify(props));\r\n    var tilt_sound = new Audio(\"tilt.mp3\");\r\n\r\n    function play_tilt() {\r\n        tilt_sound.play()\r\n    }\r\n\r\n    //\r\n    //\r\n    //\r\n    // UTILITY FUNCTIONS FOR CREATING REACT SUB-COMPONENTS\r\n    //\r\n    //\r\n    //\r\n\r\n    /**\r\n     * Create a React Button with specified label for \"station\" button in the sidebar.\r\n     * @param value     An object containing label values\r\n     * @param index     not used\r\n     * @param arr       not used\r\n     * @returns {JSX.Element}   A React Button element\r\n     function getStationButton(value, index, arr ) {\r\n        log.debug(\"getStationButton value \" + JSON.stringify(value))\r\n        return <Button onClick={changeStation} value={value.stationid} label={value.station_name+\":\"+value.stationid+\" (\"+value.attached_devices.length+\")\"} />\r\n    }\r\n     function changeStation(ev) {\r\n        alert(\"change station to \"+ev.target.value)\r\n    }\r\n     */\r\n\r\n    let initial_sensor_readings = {\r\n        units: \"IMPERIAL\",\r\n        temp_air_external: 0.0,\r\n        temp_air_external_direction: \"\",\r\n        temp_air_top: 0.0,\r\n        temp_air_top_direction: \"\",\r\n        temp_air_middle: 0.0,\r\n        temp_air_middle_direction: \"\",\r\n        temp_air_bottom: 0.0,\r\n        temp_air_bottom_direction: \"\",\r\n        temp_water: 0.0,\r\n        temp_water_direction: \"\",\r\n        root_ph: 0.0,\r\n        root_ph_direction: \"\",\r\n        humidity_internal: 0.0,\r\n        humidity_internal_direction: \"\",\r\n        light_internal: 0.0,\r\n        light_internal_direction: \"\",\r\n        humidity_external: 0.0,\r\n        humidity_external_direction: \"\",\r\n        plant_height: 0.0,\r\n        outer_door_open: false,\r\n        station_door_open: false,\r\n        pressure_external: 0.0,\r\n        pressure_internal: 0.0,\r\n        pressure_external_direction: \"\",\r\n        pressure_internal_direction: \"\",\r\n        water_level: 0.0\r\n    }\r\n\r\n    /**\r\n     * The value of environment variable NODE_ENV which controls the hostname and port the API\r\n     * is listening on. Changing this causes a rerender\r\n     */\r\n    const [nodeEnv, setNodeEnv] = useState(props.nodeEnv);\r\n\r\n\r\n    /**\r\n     * An object containing all the parameters needed to do connectivity to the rest of the site/station\r\n     * @type {{activemq_server_host: string, api_server_port: number, api_server_host: string, websocket_server_host: string, activemq_server_port: number, websocket_server_port: number}}\r\n     * now that nodeenv is set, we can figure out what URLs to talk to\r\n     */\r\n    let servers = util.get_server_ports_for_environment(nodeEnv)\r\n\r\n    //\r\n    //\r\n    //\r\n    // STATE VARIABLES - CHANGING ANY OF THESE FROM SET FUNCTIONS WILL CAUSE RERENDER\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * The user who has logged in.  If we login as a different user, rerender\r\n     * TABLE: user\r\n     */\r\n    const [userid] = useState(props.user.userid);\r\n\r\n    /**\r\n     * The site we're controlling.  This is the top level object in the hierarchy - site/station/device/module/sensor\r\n     * Changing this causes a rerender\r\n     * TABLE: site\r\n     */\r\n    const [site, setSite] = useState(props.site);\r\n\r\n    /**\r\n     * The index of the station we're currently controlling.  Index into site.stations[]\r\n     * TABLE: station\r\n     */\r\n    const [currentStationIndex] = useState(props.stationindex)\r\n\r\n    const [selected_stage, setSelectedStage] = useState(site.stations[currentStationIndex].current_stage)\r\n    const [selected_automation_settings,setSelectedAutomationSettings] = useState(props.automation_settings)\r\n\r\n    /**\r\n     * Local copy of all data (temp ...) - change and rerender\r\n     */\r\n    const [local_state] = useState(props.initial_station_state);\r\n    const [switch_state, setSwitchState] = useState(props.initial_switch_state);\r\n    const [sensor_readings] = useState(initial_sensor_readings);\r\n    const [tilt,setTilt] = useState({ currently_tilted: false, last_tilt: 0} )\r\n\r\n    /**\r\n     * Port the API server is listening on - change it and rerender\r\n     * @todo why is this here when we can derive it from nodeEnv\r\n     */\r\n    const [apiPort, setApiPort] = useState(servers.api_server_port);  // The port we should send queries to - depends on dev/test/prod\r\n\r\n    /**\r\n     * Deep object of the current theme - change it and rerender\r\n     */\r\n    const [bubbles_theme, setBubblesTheme] = useState(deepMerge(grommet, initial_theme));\r\n\r\n    /**\r\n     * Name of the current font family - change it and rerender\r\n     */\r\n    const [current_font, setCurrentFont] = useState(initial_theme.global.font.family)\r\n    /**\r\n     * ????\r\n     */\r\n    const [last_picture, setLastPicture] = useState(0)\r\n//    const [initial_settings, setInitialSettings] = useState(props.initial_settings)\r\n\r\n    /**\r\n     * If we change the language, rerender\r\n     */\r\n//    const [language, setLanguage] = useState('');\r\n    /**\r\n     * If we change the web socket URL, rerender\r\n     */\r\n    const [socketUrl, setSocketUrl] = useState('ws://' + servers.websocket_server_host + ':' + servers.websocket_server_port);\r\n\r\n    //\r\n    //\r\n    // END STATE VARIABLES\r\n    //\r\n    //\r\n/*\r\n    function setStation(index) {\r\n        log.debug(\"state: setCurrentStationIndex \" + index)\r\n        setCurrentStationIndex(index)\r\n    }\r\n*/\r\n    /**\r\n     * ????\r\n     * @type {React.MutableRefObject<*[]>}\r\n     */\r\n    const messageHistory = useRef([]);\r\n    /**\r\n     * The last complete status message received from outside.  Is this still used?\r\n     */\r\n    let lastCompleteStatusMessage\r\n\r\n    //\r\n    //\r\n    //\r\n    // HANDLING THE NEW STATION DIALOG\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * The open/closed true/false state of the \"new station\" dialog box\r\n     */\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    /**\r\n     * Respond to the \"new station\" button by opening the new station dialog\r\n     */\r\n    /*\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    }\r\n*/\r\n\r\n    /**\r\n     * Respond to the OK button in the new station dialog\r\n     */\r\n    const handleToClose = () => {\r\n        setOpen(false);\r\n    }\r\n    /**\r\n     * Respond to the OK button in the new station dialog\r\n     */\r\n    const handleToAdd = async () => {\r\n//        alert(\"Adding station named \" + new_station_name )\r\n        setOpen(false);\r\n        let x = await addStation(servers.api_server_host, servers.api_server_port, site.siteid, new_station_name)\r\n        log.trace(`addStation returns ${x}`)\r\n    }\r\n\r\n    const [new_station_name, setNewStationName] = useState(\"\");\r\n    const updateNewName = (e) => {\r\n        setNewStationName(e.target.value)\r\n    }\r\n\r\n    /**\r\n     * Send a \"take picture\" command to all the devices attached to this controller.\r\n     */\r\n    const takeAPicture = () => {\r\n        log.debug(\"button: takeAPicture\")\r\n        for (let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++) {\r\n            let cmd = {\r\n                command: PICTURE_COMMAND,\r\n                userid: userid,\r\n                deviceid: site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            }\r\n            sendJsonMessage(cmd)\r\n        }\r\n    }\r\n\r\n\r\n    let various_dates = {\r\n        start_date_current_stage: \"25 days ago\",\r\n        start_date_next_stage: \"10 days from now\",\r\n        date_last_training: \"never\",\r\n        date_last_filter_change: \"never\"\r\n    }\r\n\r\n    //\r\n    //\r\n    //\r\n    // PROCESSING MEASUREMENT MESSAGES\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * Apply the values in a new measurement message to the state values that control\r\n     * what is displayed in the UI taken from the WebSocket service.\r\n     *\r\n     * @param message   A \"measurement\" message from one of the attached devices.\r\n     */\r\n    const processMeasurementMessage = (message) => {\r\n//        log.trace(\"processMeasurementMessage \"+JSON.stringify(message))\r\n        applyMeasurementToState(message)\r\n    }\r\n\r\n    /**\r\n     */\r\n    const applyEventToState = (msg) => {\r\n//        log.debug(\"msg: applying event \" + JSON.stringify(msg))\r\n        if (msg.sensor_name === 'tamper_sensor') {\r\n            if (tilt.currently_tilted === false) {\r\n                play_tilt()\r\n            }\r\n            let x = { currently_tilted: true, last_tilt: moment().unix()}\r\n            setTilt(x)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Apply the values in a new measurement message to the state values that control\r\n     * what is displayed in the UI taken from the WebSocket service.\r\n     *\r\n     * @param msg   A \"measurement\" message from one of the attached devices.\r\n     */\r\n        /// TODO this looks like a dupe of processMeasurement - get rid of one of them\r\n    const applyMeasurementToState = (msg) => {\r\n//        log.debug(\"applyMeasurementToState \"+JSON.stringify(msg))\r\n            if (typeof msg.value === 'undefined' ) {\r\n                log.error(\"msg: BAD measurement message \" + JSON.stringify(msg))\r\n            } else {\r\n                if (msg.measurement_name === 'water_level') {\r\n                    sensor_readings['water_level'] = sprintf.sprintf(\"%.1f\", msg.value)\r\n                }\r\n                if( typeof sensor_readings === 'undefined') {\r\n                    log.error(\"WTF\")\r\n                }\r\n                sensor_readings[msg.measurement_name] = msg.value\r\n                sensor_readings[msg.measurement_name + \"_direction\"] = msg.direction\r\n                sensor_readings[msg.measurement_name + \"_units\"] = msg.units\r\n                log.trace(\"msg: applying \" + msg.value + \" \" + sensor_readings[msg.measurement_name + \"_direction\"] + \" to \" + msg.measurement_name)\r\n            }\r\n        }\r\n\r\n    /**\r\n     * Handle a single message that came to the UI from a device via the WebSocket\r\n     * @param event The formatted message\r\n     */\r\n    const handleWebSocketMessage = (event) => {\r\n        log.trace(\"ws: handling websocket message \" + JSON.stringify(event.data))\r\n        let msg = JSON.parse(event.data)\r\n        if (typeof (msg.status) === 'undefined' || msg.status === null) {\r\n            if (typeof (msg.message_type) === 'undefined' || msg.message_type === null) {\r\n                log.error(\"ws: received invalid message \" + event.data)\r\n            } else {\r\n                log.trace(\"ws: received message type \" + msg.message_type);\r\n                switch (msg.message_type) {\r\n                    case \"measurement\":\r\n                        because = \"mmt \" + msg.measurement_name + \" \" + msg.sample_timestamp\r\n                        log.trace(\"ws: received measurement\");\r\n                        applyMeasurementToState(msg)\r\n                        break;\r\n                    case \"switch_event\":\r\n                        because = \"switch_evt \" + msg.switch_name\r\n                        log.trace(\"ws: received switch_event \" + JSON.stringify(msg));\r\n                        toggleSwitchTo(msg.switch_name, msg.on)\r\n                        break;\r\n                    case \"event\":\r\n                        because = \"evt msg \" + msg.sample_timestamp\r\n                        log.trace(\"ws: received event \");\r\n                        applyEventToState(msg)\r\n                        break;\r\n                    case \"picture_event\":\r\n                        because = \"picture evt msg \" + msg.sample_timestamp\r\n                        log.trace(\"ws: received picture event\");\r\n//                        shutter_sound.play()\r\n                        setLastPicture(last_picture + 1)\r\n                        break;\r\n                    default:\r\n                        because = msg.message_type + \" message \" + msg.sample_timestamp\r\n                        log.debug(\"ws: unknown msg type \" + msg.message_type)\r\n                        break;\r\n                }\r\n            }\r\n        } else {\r\n            log.error(\"ws: AAAAAAAAAAAAAAAAAAAAAAAAAAAHHHHHHHHHHHHHHHHHHHHHHHHH   Received valid status message\")\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The WebSocket hook that defines how we handle WebSocket messages - sendJsonMessage is our sender, lastJsonMessage is the last\r\n     * message received, readyState is the state of the connection.\r\n     */\r\n    const {\r\n        sendJsonMessage,\r\n        lastJsonMessage,\r\n        readyState,\r\n    } = useWebSocket(socketUrl, {\r\n        reconnectAttempts: 10000000, // Infinity - what's max value? Number.MAX_VALUE doesn't work.\r\n        reconnectInterval: 30000,   // Why 30 seconds?  Seems long. Trying 3.\r\n        onOpen: () => {\r\n            getDeviceStatus();\r\n            log.trace('ws: websocket opened');\r\n        },\r\n        //Will attempt to reconnect on all close events, such as server shutting down\r\n        shouldReconnect: (closeEvent) => true,\r\n        onMessage: (event) => handleWebSocketMessage(event), // This relies on receiving a \"state\" object from the server\r\n    });\r\n\r\n    /**\r\n     *  The memo hook that ????\r\n     */\r\n    messageHistory.current = useMemo(() =>\r\n        messageHistory.current.concat(lastJsonMessage), [lastJsonMessage]);\r\n\r\n    /**\r\n     * Respond to a test button by sending a random status request message over the websocket\r\n     * @type {function(): void}\r\n     */\r\n//    const handleClickSendMessage = useCallback(() => {\r\n//        getDeviceStatus()\r\n//    },[]);\r\n\r\n    const handleClickSendMessage = () => {\r\n        log.trace(\"ws: handleClickSendMessage\")\r\n        getDeviceStatus()\r\n    }\r\n    //\r\n    //\r\n    //\r\n    // RANDOM UTILITIES\r\n    //\r\n    //\r\n    //\r\n    function getDeviceStatus() {\r\n        log.trace(\"aq: getDeviceStatus()\")\r\n        for( let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++ ) {\r\n            let cmd = {\r\n                command: STATUS_COMMAND,\r\n                userid: userid,\r\n                deviceid: site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            }\r\n            sendJsonMessage(cmd)\r\n        }\r\n    }\r\n\r\n    //\r\n    //\r\n    //\r\n    // CHANGING STATE FROM CHILD COMPONENTS - THESE ARE PASSED TO CHILDREN\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * Change the state of the specified switch to the specified value and\r\n     * save to useState for a rerender.\r\n     *\r\n     * @param switch_name   The name of the switch from switch_names enum\r\n     * @param on    True/false on/off\r\n     */\r\n    function toggleSwitchTo(switch_name, on) {\r\n        log.trace(\"button: toggleSwitchTo \" + switch_name + \" to \" + on)\r\n        if (typeof (switch_name) === 'undefined') {\r\n            return\r\n        }\r\n        let new_switch_state = JSON.parse(JSON.stringify(switch_state))\r\n//        console.log(\"switch_state = \" + JSON.stringify(switch_state))\r\n\r\n        if( typeof(new_switch_state[switch_name] === 'undefined')) {\r\n            new_switch_state[switch_name] = { on: on, changing: false}\r\n        }\r\n        new_switch_state[switch_name].on = on\r\n//        console.log(\"Clearing changing new_switch_state[\" + switch_name + \"] to false\")\r\n        new_switch_state[switch_name].changing = false\r\n        setSwitchState(new_switch_state)\r\n    }\r\n\r\n\r\n    /**\r\n     * Set a state variable with the specified station_settings object and cause rerender\r\n     *\r\n     * @param x a complete station_settings object - overwrites ALL values\r\n     */\r\n    async function setStationSettingsStateFromChild(x) {\r\n\r\n        let changed_station = JSON.parse(JSON.stringify(x))\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"automatic_control\", changed_station.automatic_control)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"humidifier\", changed_station.humidifier)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"humidity_sensor_internal\", changed_station.humidity_sensor_internal)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"humidity_sensor_external\", changed_station.humidity_sensor_external)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"humidifier\", changed_station.humidifier)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"water_heater\", changed_station.water_heater)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"heater\", changed_station.heater)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"thermometer_top\", changed_station.thermometer_top)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"thermometer_middle\", changed_station.thermometer_middle)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"thermometer_bottom\", changed_station.thermometer_bottom)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"thermometer_external\", changed_station.thermometer_external)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"thermometer_water\", changed_station.thermometer_water)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"water_pump\", changed_station.water_pump)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"air_pump\", changed_station.air_pump)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"light_sensor_internal\", changed_station.light_sensor_internal)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"light_sensor_external\", changed_station.light_sensor_external)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"station_door_sensor\", changed_station.station_door_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"outer_door_sensor\", changed_station.outer_door_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"movement_sensor\", changed_station.movement_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"pressure_sensors\", changed_station.pressure_sensors)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"root_ph_sensor\", changed_station.root_ph_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"water_level_sensor\", changed_station.water_level_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"intake_fan\", changed_station.intake_fan)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"exhaust_fan\", changed_station.exhaust_fan)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"heat_lamp\", changed_station.heat_lamp)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"heating_pad\", changed_station.heating_pad)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"light_bloom\", changed_station.light_bloom)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"light_vegetative\", changed_station.light_vegetative)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"light_germinate\", changed_station.light_germinate)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"height_sensor\", changed_station.height_sensor)\r\n\r\n        let changed_site = { stations: [JSON.parse(JSON.stringify(x))] }\r\n        let new_site = { ...site, ...changed_site};\r\n        setSite(new_site)\r\n    }\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the automation state of the current station.\r\n     *\r\n     * @param current_stage   The name of the stage we're changing to\r\n     */\r\n    function setCurrentAutomationStageFromChild(current_stage) {\r\n//        console.log(\"setCurrentAutomationStageFromChild current_stage \"+current_stage)\r\n        let cmd = {\r\n            userid: userid,\r\n            command: STAGE_COMMAND,\r\n            stage_name: current_stage\r\n        }\r\n        changeStage(servers.api_server_host, servers.api_server_port, site.stations[currentStationIndex].stationid,site.stations[currentStationIndex].current_stage, current_stage )\r\n        site.stations[currentStationIndex].current_stage = current_stage\r\n\r\n        for( let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++ ) {\r\n            cmd.deviceid = site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            sendJsonMessage(cmd)\r\n        }\r\n        setSite(JSON.parse(JSON.stringify(site)))\r\n    }\r\n\r\n    function setSelectedAutomationStageFromChild(new_selected_stage) {\r\n        log.trace(\"selected stage value AthenticateApp selected_stage from \"+selected_stage+\" to \"+new_selected_stage)\r\n        setSelectedStage(new_selected_stage)\r\n    }\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the automation state of the current station.\r\n     *\r\n     * @param new_automation_settings   An entire automation_settings to replace the current one\r\n     *\r\n     */\r\n    /// TODO this many API calls obviously not ideal - fix\r\n    function setSelectedStageSettingsFromChild(new_automation_settings) {\r\n        log.trace(\"setAutomationSettingsFromChild \"+JSON.stringify(new_automation_settings))\r\n        saveAutomationSettings(servers.api_server_host, servers.api_server_port, site.userid,\r\n            site.stations[currentStationIndex].stationid,\r\n            new_automation_settings.stage_name,\r\n            new_automation_settings)\r\n        setSelectedAutomationSettings(new_automation_settings )\r\n    }\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the automation state of the current station.\r\n     *\r\n     * @param stagename The name of the stage we're updating\r\n     * @param new_automation_settings   The entire stage\r\n     */\r\n    /// TODO this many API calls obviously not ideal - fix\r\n    function updateStageFromChild(stagename, new_automation_settings) {\r\n        log.trace(\"updateStageFromChild \"+JSON.stringify(new_automation_settings))\r\n        let x = JSON.parse(JSON.stringify(site))\r\n        x.stations[currentStationIndex].automation_settings = new_automation_settings\r\n        setSite(x)\r\n    }\r\n\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the state of a controllable switch on a device.\r\n     *\r\n     * @param x ???\r\n     * @param switch_name   The name of the switch we're changing the state of\r\n     * @param on    True/false on/off\r\n     */\r\n    function setSwitchStateFromChild(x, switch_name, on) {\r\n        log.trace(\"setSwitchStateFromChild \"+switch_name +\",\"+on)\r\n        let new_switch_state = JSON.parse(JSON.stringify(switch_state))\r\n        let sw_name = switch_name\r\n        if (switch_name === \"growLight\") {\r\n            sw_name = \"lightBloom\"\r\n        }\r\n        if (typeof new_switch_state[switch_name] === 'undefined') {\r\n            console.error(\"button: bad switch_name \" + switch_name)\r\n            return\r\n        }\r\n        new_switch_state[switch_name].changing = true\r\n        new_switch_state[switch_name].on = on\r\n        setSwitchState(new_switch_state)\r\n\r\n        let cmd = {\r\n            userid: userid,\r\n            command: SWITCH_COMMAND,\r\n            switch_name: sw_name,\r\n            on: on\r\n        }\r\n        log.trace(\"sendJsonMessage ???? \"+sw_name+\" from userid/deviceid \"+cmd.userid+\"/\"+cmd.deviceid)\r\n        for( let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++ ) {\r\n            cmd.deviceid = site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            log.trace(\"sendJsonMessage \"+sw_name+\" from userid/deviceid \"+cmd.userid+\"/\"+cmd.deviceid)\r\n            sendJsonMessage(cmd)\r\n        }\r\n    }\r\n\r\n    const applyMapChange = (value) => {\r\n        log.trace(\"button: AuthenticatedApp applyMapChange \"+JSON.stringify(value));\r\n        /// TODO FINISH!\r\n    }\r\n\r\n    /**\r\n     * Apply a font-family change from the display settings screen\r\n     *\r\n     * @param value the name of the new font-family\r\n     */\r\n    const applyFontChange = (value) => {\r\n        let x = JSON.parse(JSON.stringify(bubbles_theme));\r\n        log.trace(\"button: AuthenticatedApp applyFontChange from \" + bubbles_theme.global.font.family + \" to \" + current_font + \" value \" + value)\r\n        x.global.font.family = current_font;\r\n        log.trace(\"button: AuthenticatedApp should rerender to font \" + x.global.font.family)\r\n        setBubblesTheme(x)\r\n    }\r\n\r\n    /**\r\n     * Change the value of the current font from within this component\r\n     * @param value The font object we need to change to??\r\n     */\r\n    const localFontChange = (value) => {\r\n        log.trace(\"button: AuthenticatedApp localFontChange from \" + current_font + \" to \" + value)\r\n        setCurrentFont(value)\r\n    }\r\n\r\n    /**\r\n     * The effect hook that casues a refetch of the SITE and rerender if nodeEnv changes\r\n     */\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let z = await getSite(servers.api_server_host, servers.api_server_port, site.siteid)\r\n            log.trace(\"useEffect stationid = \" + z.stations[0].stationid)\r\n            log.info(\"useEffect \" + JSON.stringify(z))\r\n            z.stations[0].automation_settings = z.stations[0].automation_settings[0] // returned as array from server\r\n\r\n            setSite(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    }, [nodeEnv])     // eslint-disable-line react-hooks/exhaustive-deps\r\n    // ONLY CALL ON MOUNT - empty array arg causes this\r\n\r\n\r\n    /**\r\n     * Set the local state values that control what this app displays based on the NODE_ENV.\r\n     *\r\n     * @param value The value of NODE_ENV\r\n     */\r\n    let setEnvironment = (value) => {\r\n        log.trace(\"button: AuthenticatedApp.setEnvironment(\" + value + \")\")\r\n        const theNodeEnvironment = value;\r\n        servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n        log.trace(\"button: setting state db to \" + theNodeEnvironment + \" port to \" + servers.api_server_port)\r\n        setSocketUrl('ws://' + servers.websocket_server_host + ':' + servers.websocket_server_port)\r\n        setNodeEnv(theNodeEnvironment);\r\n        setApiPort(servers.api_server_port);\r\n    }\r\n\r\n    log.trace(\"AuthenticatedApp Rendering App with props = \" + JSON.stringify(props))\r\n    // reset tilt if older than 30 seconds\r\n    if (tilt.currently_tilted) {\r\n        let now = moment().unix()\r\n        if (now - tilt.last_tilt > 30) {\r\n            log.trace(\"turning currently_tilted off because 30 seconds have expired\")\r\n            setTilt({ currently_tilted: false, last_tilt: 0 })\r\n        }\r\n    }\r\n//    let merged_theme = deepMerge(grommet, bubbles_theme)\r\n//    setBubblesTheme(JSON.parse(JSON.stringify(merged_theme)))\r\n    if (lastJsonMessage !== null && typeof (lastJsonMessage.status) !== 'undefined' && lastJsonMessage.status !== null) {\r\n        lastCompleteStatusMessage = JSON.parse(JSON.stringify(lastJsonMessage))\r\n    } else {\r\n        if (lastJsonMessage !== null && typeof (lastJsonMessage.message_type) !== 'undefined' && lastJsonMessage.message_type !== null &&\r\n            lastJsonMessage.message_type === 'measurement') {\r\n//            log.debug(\"msg: Last json message was a measurement \" + (lastJsonMessage ? JSON.stringify(lastJsonMessage) : 'null'))\r\n            processMeasurementMessage(lastJsonMessage)\r\n        } else {\r\n//            log.warn(\"msg: Last json message not a measurement! \" + (lastJsonMessage ? JSON.stringify(lastJsonMessage) : 'null'))\r\n        }\r\n    }\r\n\r\n    let thestate = JSON.parse(JSON.stringify(local_state))\r\n//    console.log(\"thestate = \" + JSON.stringify(thestate))\r\n\r\n    if (typeof (lastCompleteStatusMessage) !== 'undefined' && lastCompleteStatusMessage !== null) {\r\n        thestate = JSON.parse(JSON.stringify(lastCompleteStatusMessage))\r\n    }\r\n\r\n    /** TODO fix this - needed for sidebar\r\n     *\r\n     * @type {string}\r\n     */\r\n    site.site_name = props.site.stations[props.stationindex].site_name\r\n    site.siteid = props.site.stations[props.stationindex].siteid\r\n\r\n//    thestate.station_settings = props.site.stations[props.stationindex]\r\n//    console.log(\"STATION: site \" + JSON.stringify(site))\r\n/*\r\n            <Sidebar gridArea=\"sidebar\" background=\"#477CBC\" round=\"small\"\r\n                     header={\r\n                         <Avatar src=\"//s.gravatar.com/avatar/03e2a5b132702f8c65e793b743be4418?s=80\"/>\r\n                     }\r\n                     footer={\r\n                         <Button icon={<Help/>} hoverIndicator/>\r\n                     }>\r\n                <Nav gap=\"small\">\r\n                    <Text >{site.stations[currentStationIndex].station_name}</Text>\r\n                    <RenderSiteStationMenu currentStationIndex={currentStationIndex}\r\n                                           site={site}\r\n                                           setCurrentStationIndex={setStation}/>\r\n                </Nav>\r\n            </Sidebar>\r\n */\r\n//    console.log(\"rendering with station.current_stage={\"+site.stations[currentStationIndex].current_stage+\"}\")\r\n    log.trace(\"rendering AA with selected_automation_settings=\"+JSON.stringify(selected_automation_settings))\r\n    return <div className=\"App\">\r\n        <Header tilt={tilt.currently_tilted} siteName={props.site.stations[props.stationindex].site_name} setNodeEnv={setEnvironment}\r\n                station={site.stations[currentStationIndex]} nodeEnv={nodeEnv} readyState={readyState}\r\n                handleClickSendMessage={handleClickSendMessage}\r\n                logout={props.logout}\r\n                    />\r\n        <Dialog open={open} onClose={handleToClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Add a station</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    To add a station to this site, enter a unique station name here.\r\n                </DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    id=\"new_station_name\"\r\n                    label=\"Station Name\"\r\n                    fullWidth\r\n                    onChange={updateNewName}\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleToClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleToAdd} color=\"primary\">\r\n                    Add\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n\r\n        <Grid\r\n            margin={\"medium\"}\r\n            justify={'center'}\r\n            round={'xxsmall'}\r\n            direction={'horizontal'}\r\n            fill\r\n            areas={[\r\n                {name: 'main', start: [0, 0], end: [0, 0]},\r\n            ]}\r\n            columns={['xlarge']}\r\n            rows={['800px']}\r\n            gap={\"small\"}\r\n        >\r\n\r\n            <Tabs gridArea=\"main\" margin=\"medium\" flex=\"shrink\">\r\n                <Tab title=\"Station Control\">\r\n                    <RenderControlTab nodeEnv={nodeEnv}\r\n                                      apiPort={apiPort}\r\n                                      theme={bubbles_theme}\r\n                                      station={site.stations[currentStationIndex]}\r\n                                      state={thestate}\r\n                                      switch_state={switch_state}\r\n                                      sensor_readings = {sensor_readings}\r\n                                      setStateFromChild={setSwitchStateFromChild}\r\n                                      setCurrentStage={setCurrentAutomationStageFromChild}\r\n                                      display_settings={props.display_settings}\r\n                                      because={because}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Look Inside\">\r\n                    <RenderCameraTab nodeEnv={nodeEnv}\r\n                                     apiPort={apiPort}\r\n                                     theme={bubbles_theme}\r\n                                     station={site.stations[currentStationIndex]}\r\n                                     lastpicture={last_picture}\r\n                                     onFontChange={applyFontChange}\r\n                                     takeAPicture={takeAPicture}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Status\">\r\n                    <RenderStatusTab nodeEnv={nodeEnv}\r\n                                     apiPort={apiPort}\r\n                                     theme={bubbles_theme}\r\n                                     sensor_readings = {sensor_readings}\r\n                                     station={site.stations[currentStationIndex]}\r\n                                     display_settings={props.display_settings}\r\n                                     automation_settings={props.automation_settings}\r\n                                     various_dates={various_dates}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Station Setup\">\r\n                    <RenderSettings saveSetting={saveSetting}\r\n                                    nodeEnv={nodeEnv}\r\n                                    apiPort={apiPort}\r\n                                    theme={bubbles_theme}\r\n                                    station={site.stations[currentStationIndex]}\r\n                                    display_settings={props.display_settings}\r\n                                    setStateFromChild={setStationSettingsStateFromChild}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Device Map\">\r\n                    <RenderDeviceMap nodeEnv={nodeEnv}\r\n                                     apiPort={apiPort}\r\n                                     apiHost={servers.api_server_host}\r\n                                     theme={bubbles_theme}\r\n                                     onMapChange={applyMapChange}\r\n                                     station={site.stations[currentStationIndex]}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Automation\">\r\n                    <RenderStageTab nodeEnv={nodeEnv}\r\n                                    apiPort={apiPort}\r\n                                    theme={bubbles_theme}\r\n                                    station={site.stations[currentStationIndex]}\r\n                                    display_settings={props.display_settings}\r\n                                    updateStageFromChild={updateStageFromChild}\r\n                                    setSelectedStageFromChild={setSelectedAutomationStageFromChild}\r\n                                    setSelectedStageSettingsFromChild={setSelectedStageSettingsFromChild}\r\n                                    automation_settings={selected_automation_settings}\r\n                                    selected_stage={selected_stage}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Events\">\r\n                    <RenderEvents\r\n                        nodeEnv={nodeEnv}\r\n                        apiHost={servers.api_server_host}\r\n                        apiPort={apiPort}\r\n                        theme={bubbles_theme}\r\n                        station={site.stations[currentStationIndex]}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Display Settings\">\r\n                    <RenderDisplaySettings nodeEnv={nodeEnv}\r\n                                           apiPort={apiPort}\r\n                                           theme={bubbles_theme}\r\n                                           station={site.stations[currentStationIndex]}\r\n                                           display_settings={props.display_settings}\r\n                                           onApplyFontChange={applyFontChange}\r\n                                           onLocalFontChange={localFontChange}\r\n                    />\r\n                </Tab>\r\n            </Tabs>\r\n        </Grid>\r\n    </div>\r\n}\r\n\r\nexport default AuthenticatedApp","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {useState} from 'react';\r\nimport React from 'react'\r\nimport '../App.css';\r\nimport {Button} from \"rendition\";\r\nimport {Text, Box, TextInput, Markdown} from \"grommet\";\r\nimport util from \"../util\";\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderUnauthenticatedOverview (props) {\r\n\r\n    const md = `\r\n### Bubbles Controller\r\nEnter your username and password to start configuring and controlling your Bubbles installation.\r\n                        \r\nClick here to see first-time setup instructions.\r\n`;\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    async function loginUser(credentials) {\r\n        log.trace(\"loginUser env=(\"+props.nodeEnv+\") calling out to api on port \"+servers.api_server_port+\" for token\")\r\n        let url = 'http://'+servers.api_server_host+':'+servers.api_server_port+'/api/auth/login'\r\n        log.trace(\"url = \" + url)\r\n        log.trace(\"creds = \" + JSON.stringify(credentials))\r\n        return new Promise( async (resolve, reject) => {\r\n            const response = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(credentials)\r\n            });\r\n            if(response.ok) {\r\n                let loginstate = await response.json();\r\n                log.trace(\"Got loginstate \" + JSON.stringify(loginstate));\r\n                resolve(loginstate)\r\n            } else {\r\n                log.trace(\"error \" + response.status)\r\n                reject( response.status )\r\n            }\r\n        })\r\n    }\r\n\r\n    const [username, setUserName] = useState();\r\n    const [password, setPassword] = useState(\"\");   // Set to a value so that controlled-uncontrolled error doesn't get thrown\r\n    const [failed, setFailed] = useState(false);\r\n\r\n    const handleSubmit = async e => {\r\n        /*\r\n                e.preventDefault();\r\n        */\r\n        log.trace(\"handleSubmit - calling out for token for user \"+username)\r\n        /// TODO this hardwired port number is because api_server_port is showing up undefined here!\r\n        await loginUser( {\r\n            username: username,\r\n            password: password\r\n        })\r\n            .then((loginstate) =>{\r\n                log.trace(\"Calling set token with \" + loginstate.token)\r\n                loginstate.auth=true;\r\n                props.processLoginResult(loginstate);   // Will re-render grandparent\r\n            })\r\n            .catch((err) => {\r\n                log.trace(\"login failed = \" + err)\r\n                /// TODO if processlogin rerenders grandparent, these 2 rerenders are not helpful\r\n                setFailed(true)\r\n                setPassword(\"\")\r\n                props.processLoginResult({auth: false});\r\n            });\r\n    };\r\n\r\n    let login_status = <Box><Text>login failed</Text></Box>\r\n    if( !failed ) {\r\n        login_status = <></>\r\n    }\r\n\r\n    let ret =\r\n        <Box direction=\"column\" >\r\n            <form  onSubmit={handleSubmit}>\r\n            <Box direction=\"row\" margin=\"xlarge\" >\r\n                <Box round=\"small\" direction=\"column\" background=\"#aabbff\">\r\n                    <Box gap=\"xlarge\">\r\n                      <Box margin=\"large\" direction=\"column\" gap=\"medium\" width=\"medium\" >\r\n                          <Text size=\"xlarge\">Username:</Text>\r\n                          <Box>\r\n                              <TextInput defaultValue={username} onChange={e => setUserName(e.target.value)}/>\r\n                          </Box>\r\n                          <Text size=\"xlarge\">Password:</Text>\r\n                          <Box gap=\"small\">\r\n                              <TextInput type={\"password\"} value={password} onChange={e => setPassword(e.target.value)}/>\r\n                              <Button alignSelf=\"center\"\r\n\r\n                                      width={'medium'} round={'large'}\r\n                                      active={true}\r\n                                      onClick={handleSubmit} label={\"Log in\"} />\r\n                          </Box >\r\n                          {login_status}\r\n                      </Box>\r\n                    </Box>\r\n                </Box>\r\n                <Box margin=\"medium\">\r\n                    <Markdown  children={md}>\r\n                     </Markdown>\r\n                </Box>\r\n            </Box>\r\n            </form>\r\n        </Box>\r\n    return (ret);\r\n}\r\n\r\nexport default RenderUnauthenticatedOverview;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction UnauthenticatedHeader (props) {\r\n    log.trace(\"BubblesApp render props = \" + JSON.stringify(props))\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"BubblesApp-header\" style={{'width': '100%'}} >\r\n                <span style={{\r\n                    'width': '25%',\r\n                    'alignItems': 'flex-start',\r\n                    'marginLeft': '25px'\r\n                }}>Bubbles</span>\r\n                <span style={{'width': '75%'}} >\r\n                    <div id=\"animated-gif-container\" />\r\n                </span>\r\n            </header>\r\n        </div>\r\n   );\r\n}\r\n\r\nexport default UnauthenticatedHeader","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport RenderUnauthenticatedOverview from \"./components/UnauthenticatedOverviewFunctional\";\r\nimport UnauthenticatedHeader from \"./components/UnauthenticatedHeader\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\n\r\nfunction UnauthenticatedApp(props) {\r\n    return (\r\n        <>\r\n        <UnauthenticatedHeader data-testid=\"animated-gif-container\" nodeEnv={process.env.REACT_APP_NODE_ENV}/>\r\n        <RenderUnauthenticatedOverview nodeEnv={process.env.REACT_APP_NODE_ENV} processLoginResult={props.processLoginResult}/>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default UnauthenticatedApp\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport * as React from 'react'\r\n//import {useUser,login} from './context/UserContext'\r\nimport AuthenticatedApp from './AuthenticatedApp'\r\nimport UnauthenticatedApp from './UnauthenticatedApp'\r\nimport SetupApp from './SetupApp'\r\n\r\nimport useToken from './useToken';\r\nimport {useEffect, useState} from \"react\";\r\nimport {getSite} from \"./api/utils\";\r\nimport log from \"roarr\";\r\nimport util from \"./util\";\r\n\r\nimport initial_display_settings from './initial_display_settings.json'\r\nimport options_units from './options_units.json'\r\nimport options_pressure_units from './options_pressure_units.json'\r\nimport options_enclosure from './options_enclosure.json'\r\nimport options_language from './options_languages.json'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction App(props) {\r\n\r\n        let initial_station_state = {\r\n            station_settings: {\r\n                humidifier: true,\r\n                humidity_sensor_internal: true,\r\n                humidity_sensor_external: true,\r\n                heater: true,\r\n                thermometer_top: true,\r\n                thermometer_middle: true,\r\n                thermometer_bottom: true,\r\n                thermometer_external: true,\r\n                thermometer_water: true,\r\n                water_pump: true,\r\n                air_pump: true,\r\n                station_door_sensor: true,\r\n                outer_door_sensor: true,\r\n                movement_sensor: true,\r\n                pressure_sensors: true,\r\n                root_ph_sensor: true,\r\n                enclosure_type: \"Cabinet\",\r\n                water_level_sensor: true,\r\n                tub_depth: 18.0,\r\n                tub_volume: 20.0,\r\n                intake_fan: true,\r\n                exhaust_fan: true,\r\n                heat_lamp: true,\r\n                heating_pad: true,\r\n                light_sensor_internal: true,\r\n                light_sensor_external: true,\r\n                light_bloom: true,\r\n                light_vegetative: true,\r\n                light_germinate: true\r\n            }\r\n        }\r\n\r\n        let initial_sensor_readings = {\r\n            temp_air_external: 0.0,\r\n            temp_air_external_direction: \"\",\r\n            temp_air_top: 0.0,\r\n            temp_air_top_direction: \"\",\r\n            temp_air_middle: 0.0,\r\n            temp_air_middle_direction: \"\",\r\n            temp_air_bottom: 0.0,\r\n            temp_air_bottom_direction: \"\",\r\n            temp_water: 0.0,\r\n            temp_water_direction: \"\",\r\n            root_ph: 0.0,\r\n            root_ph_direction: \"\",\r\n            humidity_internal: 0.0,\r\n            humidity_internal_direction: \"\",\r\n            light_internal: 0.0,\r\n            light_internal_direction: \"\",\r\n            humidity_external: 0.0,\r\n            humidity_external_direction: \"\",\r\n            plant_height: 0.0,\r\n            start_date_current_stage: \"25 days ago\",\r\n            start_date_next_stage: \"10 days from now\",\r\n            outer_door_open: false,\r\n            station_door_open: false,\r\n            pressure_external: 0.0,\r\n            pressure_internal: 0.0,\r\n            pressure_external_direction: \"\",\r\n            pressure_internal_direction: \"\",\r\n            date_last_training: \"never\",\r\n            date_last_filter_change: \"never\",\r\n            water_level: 0.0\r\n        }\r\n\r\n        let initial_switch_state = {\r\n            automaticControl: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            heatLamp: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            heatingPad: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            lightVegetative: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            lightBloom: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            humidifier: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            waterHeater: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            heater: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            airPump: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            waterPump: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            intakeFan: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            exhaustFan: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            currentGrowLight: {\r\n                on: false,\r\n                changing: true\r\n            }\r\n        }\r\n\r\n    const [site, setSite] = useState({});\r\n\r\n        console.log(\"App.js NODE_ENV = \" + process.env.NODE_ENV+\" REACT_APP_NODE_ENV = \" + process.env.REACT_APP_NODE_ENV)\r\n    let servers = util.get_server_ports_for_environment(process.env.REACT_APP_NODE_ENV)\r\n    let needs_setup = false\r\n\r\n    const { token, setToken } = useToken();\r\n\r\n    function processLoginResult(loginResult) {\r\n        log.trace(\"App: processLoginResult \"+JSON.stringify(loginResult))\r\n        if(loginResult.auth === true ) {\r\n            log.trace(\"Setting token to \" + JSON.stringify(loginResult))\r\n            loginResult.units_options = options_units\r\n            loginResult.pressure_units_options = options_pressure_units\r\n            loginResult.languageOptions = options_language\r\n            loginResult.enclosure_options = options_enclosure\r\n            setToken(loginResult)  // this inspires the rerender that gets us the authenticatedApp\r\n\r\n//            setLocalToken(loginResult.token)\r\n        }\r\n    }\r\n    function doLogout() {\r\n        setToken({auth:false})\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            log.trace(\"selected stage value fetching\")\r\n            let z = await getSite(servers.api_server_host, servers.api_server_port, 1)\r\n            setSite(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    },[]);    // eslint-disable-line react-hooks/exhaustive-deps\r\n    // ONLY CALL ON MOUNT - empty array arg causes this\r\n\r\n//    console.log(\"App: Rendering App with token set to \" + JSON.stringify(token))\r\n    if( needs_setup ) {\r\n        return <SetupApp readyState={true}/>\r\n    }\r\n\r\n    let selectedStationIndex = 0\r\n\r\n//    console.log(\"App: Rendering App with site set to \" + JSON.stringify(site))\r\n    if( typeof site.stations === 'undefined') {\r\n        return <></>\r\n    }\r\n    initial_station_state.station_settings.display_settings = initial_display_settings\r\n    if(typeof site.automation_settings != 'undefined') {\r\n        site.automation_settings = site.automation_settings[0] // returned as array from server\r\n    } else {\r\n        site.automation_settings = {}\r\n    }\r\n    log.info(\"hostname = \" + window.location.hostname)\r\n    log.info(JSON.stringify(site))\r\n    return (token?.auth === true) ? <AuthenticatedApp\r\n                                                      stationindex={selectedStationIndex}\r\n                                                      initial_station_state={initial_station_state}\r\n                                                      initial_switch_state = {initial_switch_state}\r\n                                                      initial_sensor_readings = {initial_sensor_readings}\r\n                                                      nodeEnv={process.env.REACT_APP_NODE_ENV}\r\n                                                      site={site}\r\n                                                      automation_settings={site.stations[selectedStationIndex].automation_settings}\r\n                                                      display_settings={token}\r\n                                                      user={token}\r\n                                                      logout={doLogout}\r\n                                    /> :\r\n        <UnauthenticatedApp nodeEnv={process.env.REACT_APP_NODE_ENV} processLoginResult={processLoginResult}/>\r\n}\r\n\r\nexport default App","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        try {\r\n            const tokenString = sessionStorage.getItem('token');\r\n            const userToken = JSON.parse(tokenString);\r\n            log.trace(\"Returning saved token \" + JSON.stringify(userToken))\r\n\r\n            return userToken\r\n        } catch( err ) {\r\n            log.trace(\"auth token err \" + err)\r\n            return({auth: false})\r\n        }\r\n    };\r\n    const [token, setToken] = useState(getToken());\r\n\r\n    const saveToken = userToken => {\r\n        sessionStorage.setItem('token', JSON.stringify(userToken));\r\n        setToken(userToken);    // Forces a rerender\r\n    };\r\n\r\n    log.trace(\"Returning token \" + JSON.stringify(token))\r\n    return {\r\n        setToken: saveToken,\r\n        token\r\n    }\r\n\r\n}","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider as RenditionProvider } from 'rendition';\r\nimport {IntlProvider} from \"react-intl\";\r\nimport App from './App';\r\nimport locale_en from \"./translations/en.json\";\r\nimport locale_nl from \"./translations/nl.json\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\n\r\nconst data = {\r\n    'nl': locale_nl,\r\n    'en': locale_en\r\n};\r\n\r\n// function getComputation(a, b){\r\n//    return a + b;\r\n//\r\n// }\r\n\r\nconst language = navigator.language.split(/[-_]/)[0];\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <IntlProvider locale={language} messages={data[language]}>\r\n            <RenditionProvider >\r\n                <App />\r\n            </RenditionProvider>\r\n        </IntlProvider>\r\n    </React.StrictMode>,\r\n\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n"],"sourceRoot":""}