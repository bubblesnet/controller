{"version":3,"sources":["images/thermometer-icon.png","types.js","util.js","images/humidityicon.png","serviceWorker.js","components/EnvironmentPickerFunctional.js","components/TiltFunctional.js","components/Header.js","components/ControlTab/WaterHeaterFunctional.js","components/ControlTab/IntakeFanFunctional.js","components/ControlTab/ExhaustFanFunctional.js","components/ControlTab/AirPumpFunctional.js","components/ControlTab/ThermometerFunctional.js","components/ControlTab/HygrometerFunctional.js","components/ControlTab/LightMeterFunctional.js","components/ControlTab/BarometerFunctional.js","components/ControlTab/CO2Functional.js","components/ControlTab/VOCFunctional.js","components/ControlTab/GrowLightFunctional.js","components/ControlTab/WaterPumpFunctional.js","components/ControlTab/HeaterFunctional.js","components/ControlTab/HumidifierFunctional.js","components/ControlTab/DeviceSwitchFunctional.js","components/StageTabs/StageSelector.js","components/ControlTab/SwitchPanelFunctional.js","components/ControlTab/ExternalMetricsFunctional.js","components/ControlTab/PhmeterFunctional.js","components/ControlTab/ControlTabFunctional.js","components/StatusTab/TemperatureMeterFunctional.js","components/StatusTab/HumidityMeterFunctional.js","components/StatusTab/PressureMeterFunctional.js","components/StatusTab/PhMeterFunctional.js","components/StatusTab/StateTextStatusFunctional.js","components/StatusTab/InterventionsTextStatusFunctional.js","components/StatusTab/SecurityTextStatusFunctional.js","components/StatusTab/EnvValueWithDirection.js","components/StatusTab/EnvironmentTextStatusFunctional.js","components/StatusTab/ADCValueWithDirection.js","components/StatusTab/ADCTextStatusFunctional.js","components/StatusTab/TextStatusFunctional.js","components/StatusTab/StatusTabFunctional.js","api/utils.js","components/FormActions.js","components/EventsTab/EventsFunctional.js","components/DisplaySettingsTab/DisplaySettingsTabFunctional.js","components/StationSettingsTab/StationSettingsTabFunctional.js","components/DeviceMapTab/DeviceMapTabFunctional.js","components/StageTabs/LightScheduleSelector.js","components/StageTabs/WaterTemperatureSelectorFunctional.js","components/StageTabs/AirTemperatureSelectorFunctional.js","components/StageTabs/HumiditySelectorFunctional.js","components/StageTabs/StageTabFunctional.js","components/CameraTab/CameraTabFunctional.js","components/CalibrationTab/CalibrationTabFunctional.js","components/NutesTab/NutesTabFunctional.js","AuthenticatedApp.js","components/UnauthenticatedOverviewFunctional.js","components/UnauthenticatedHeader.js","UnauthenticatedApp.js","App.js","useToken.js","index.js"],"names":["module","exports","measurement_name","temp_air_top","temp_air_middle","temp_air_bottom","temp_air_external","temp_water","humidity_internal","humidity_external","water_level","measurement_type","temperature_middle","pH","light_internal","water_temperature","co2","voc","temperature","humidity","level","message_type","measurement","switch_event","dispenser_event","picture_event","event","directions","up","down","none","sensor_name","thermometer_top","thermometer_middle","thermometer_bottom","thermometer_external","thermometer_water","humidity_sensor_internal","humidity_sensor_external","water_level_sensor","light_sensor_internal","light_sensor_external","station_door_sensor","outer_door_sensor","root_ph_sensor","height_sensor","voc_sensor","co2_sensor","ec_sensor","temperature_units","fahrenheit","celsius","kelvin","humidity_units","percent","liquid_volume_units","gallons","ounces","liters","milliliters","ac_device_name","humidifier","water_heater","heater","water_pump","air_pump","intake_fan","exhaust_fan","heat_lamp","heating_pad","light_bloom","light_vegetative","light_germinate","switch_name","growLight","lightBloom","fs","require","get_server_ports_for_environment","env_mixed","env_lower","toLowerCase","ports","api_server_host","websocket_server_host","activemq_server_host","ui_server_port","api_server_port","websocket_server_port","activemq_server_port","window","location","hostname","console","log","normalizePort","val","port","parseInt","isNaN","readJsonFile","filepath","data","readFileSync","JSON","parse","getRandomInt","max","Math","floor","random","Boolean","match","RenderEnvironmentPickerFunctional","props","RadioButtonGroup","padding","className","name","direction","options","value","nodeEnv","onChange","target","trace","handleClick","RenderTiltFunctional","ret","id","tilt","tile","Header","stringify","useState","setNodeEnv","apiPort","setApiPort","station","webSocketLabel","readyState","ReadyState","OPEN","style","siteName","current_stage","Button","color","width","round","label","onClick","logout","theNodeEnv","server_ports","Text","CropWeek","handleClickSendMessage","disabled","RenderWaterHeater","on","exists","RenderIntakeFan","RenderExhaustFan","RenderAirPump","RenderThermometer","sprintf","currentTemperature","units","RenderHygrometer","holderid","prefix","textid","currentHumidity","RenderLightMeter","directionClassName","iconClassName","RenderBarometer","RenderCO2","RenderVOC","RenderGrowLight","growlight_classname","empty_div_classname","airtemp_holder_id","textClassName","sensor_readings","display_settings","co2_units","co2_direction","voc_units","voc_direction","pressure_sensors","pressure_internal","pressure_units","pressure_internal_direction","light_units","light_internal_direction","temp_air_top_direction","temp_air_middle_direction","temp_air_bottom_direction","humidity_internal_direction","RenderWaterPump","RenderHeater","RenderHumidifier","slideclick_valid","Audio","slideclick_invalid","RenderDeviceSwitch","trackBackgroundColor","trackCheckedColor","buttonBackgroundColor","buttonCheckedColor","changing","automaticControl","off","TableRow","TableCell","onOff","styles","track","backgroundColor","trackChecked","button","buttonChecked","e","toggle","play","RenderStageSelector","local_station","setStation","automation_setting","stage_name","Grid","justify","fill","areas","start","end","columns","rows","gap","Box","gridArea","Select","stage_options","option","x","setSelectedStageFromChild","setSelectedStageValue","RenderSwitchPanel","value_name","toggle_style","switch_state","Table","switchControl","intakeFan","exhaustFan","airPump","waterPump","waterHeater","setCurrentStage","RenderExternalMetrics","light_sensor","light_external","temp_air_external_direction","humidity_external_direction","holderClassName","pressure_external","pressure_external_direction","RenderPhmeter","root_ph","root_ph_direction","RenderControlTab","wl","wlRuler","setStateFromChild","heatLamp","heatingPad","lightVegetative","currentGrowLight","temp_water_direction","water_level_text","tub_volume_units","water_level_height","water_level_top","Grommet","theme","fonts","font","global","family","RenderTemperatureMeter","valueText","height","minValue","automation_settings","temperature_min","maxValue","temperature_max","currentValueText","segments","segmentColors","customSegmentStops","customSegmentLabels","text","position","station_settings","RenderHumidityMeter","humidity_max","humidity_min","humidity_target_range_low","humidity_target_range_high","RenderPressureMeter","diff_float","RenderPhMeter","RenderStateTextStatus","plant_height","plant_height_units","current_lighting_schedule","various_dates","start_date_current_stage","start_date_next_stage","stage","lightSchedule","lastWaterChange","powerConsumption","stationDoor","outerDoor","lastTraining","lastFilterChange","currentStageStarted","nextStageStarts","airTempTop","airTempMiddle","airTempBottom","waterTemp","plantHeight","values","RenderSecurityTextStatus","outerdoor","outer_door_open","stationdoor","station_door_open","intpressure","extpressure","pressurediff","valuestr","RenderEnvValueWithDirection","info","label_area","value_area","direction_area","RenderEnvironmentTextStatus","ec","ec_units","ec_direction","RenderADCValueWithDirection","RenderADCTextStatus","adc_0_0_1_860","adc_0_0_1_860_units","adc_0_0_1_860_direction","adc_0_1_1_860","adc_0_1_1_860_units","adc_0_1_1_860_direction","adc_0_2_1_860","adc_0_2_1_860_units","adc_0_2_1_860_direction","adc_0_3_1_860","adc_0_3_1_860_units","adc_0_3_1_860_direction","adc_1_0_1_860","adc_1_0_1_860_units","adc_1_0_1_860_direction","adc_1_1_1_860","adc_1_1_1_860_units","adc_1_1_1_860_direction","adc_1_2_1_860","adc_1_2_1_860_units","adc_1_2_1_860_direction","adc_1_3_1_860","adc_1_3_1_860_units","adc_1_3_1_860_direction","RenderTextStatus","settings","RenderStatusTab","state","getContainerNames","host","a","Promise","resolve","reject","fetch","response","ok","json","status","getAutomationSetting","i","length","getStage","stationid","url","getModuleTypes","getSite","siteid","getCrop","getLastNEvents","count","saveSetting","userid","thing_name","present","debug","method","headers","body","addStation","station_name","RenderFormActions","applyDisabled","applyButtonState","resetDisabled","resetButtonState","defaultsDisabled","defaultsButtonState","margin","active","applyAction","type","resetAction","defaultsAction","RenderOverview","events","setEvents","reset_button_state","defaults_button_state","apply_button_state","apiHost","useEffect","fetchData","language","languageOptions","displaySettings","getEventrow","row","stringvalue","rawjson","key","eventid","moment","datetimemillis","format","deviceid_device","event_rows","map","RenderDisplaySettingsTab","current_font","setValues","setFonts","local_theme","setLocalTheme","setApplyButtonState","setResetButtonState","applyLocally","b","fontlist","forEach","item","push","onLocalFontChange","z","applyFontChangeLocally","colSpan","onApplyFontChange","RenderStationSettingsTab","changeState","s","setTubVolume","tub_volume","Number","toggleWaterPump","border","TextInput","enclosure_options","enclosure_type","setEnclosureType","time_between_pictures_in_seconds","error","time_between_sensor_polling_in_seconds","CheckBox","checked","movement_sensor","size","tamper_xmove","tamper_ymove","tamper_zmove","tub_depth","setTubDepth","tub_depth_units","water_dispenser","RenderDeviceMapTab","container_names","setContainerNames","module_types","setModuleTypes","getIncludedSensor","sensor","index","arr","device_type","getSensorsForModule","included_sensors","getModulerow","moduleid","device","deviceid","container_name","module_type","address","getAddress","sensors","module_rows","device_index","attached_devices","module_index","modules","getModules","RenderLightSelector","hours","light_type_options","current_light_type","setAutomationSettingFromChild","setLightTypeValue","lighting_schedule_options","hours_of_light","setLightScheduleValue","setHoursOfLightValue","light_on_start_hour","setLightOnHourValue","RenderWaterTemperatureSelector","min","water_temperature_min","water_temperature_max","target_water_temperature","align","Image","src","thermometer","align-content","RangeInput","step","setValue","RenderAirTemperatureSelector","target_temperature","RenderHumiditySelector","target_humidity","RenderStageTab","selected_stage","setSelectedStage","servers","util","setapplyButtonState","setresetButtonState","setAutomationSetting","selectedStage","setStageFromChild","setAutomationSettingsFromChild","updateStageFromChild","RenderCameraTab","Areas","Rows","ImageProps","indexes","rowcount","latest_picture_filename","picamera","picture_url","lastpicture","scale","zoomPosition","img","labelarea_index","picturearea_index","imageprops_index","takeAPicture","indexObject","latest_picture_datetimemillis","RenderCalibrationTab","getSensorrow","sensorid","isCalibratable","sensor_index","RenderNutesTab","React","dispensers","setDispensers","getNuterow","ON","onoff","dispenseml","dispenserid","dispenser_name","manufacturer_name","rel","href","spec_url","additive_name","bcm_pin_number","milliliters_per_millisecond","mlperms","amount","local_dispensers","setDispenseAmount","ms","trunc","dispense_function","handleDispense","nute_rows","because","AuthenticatedApp","lastCompleteStatusMessage","tilt_sound","user","site","setSite","stationindex","currentStationIndex","stations","selected_automation_settings","setSelectedAutomationSettings","initial_station_state","local_state","initial_switch_state","setSwitchState","currently_tilted","last_tilt","setTilt","deepMerge","grommet","initial_theme","bubbles_theme","setBubblesTheme","setCurrentFont","last_picture","setLastPicture","socketUrl","setSocketUrl","messageHistory","useRef","open","setOpen","handleToClose","handleToAdd","new_station_name","setNewStationName","applyEventToState","msg","unix","applyMeasurementToState","types","handleWebSocketMessage","sample_timestamp","toggleDispenserTo","new_switch_state","toggleSwitchTo","setLatestPictureFromChild","picture_filename","picture_datetime_millis","useWebSocket","reconnectAttempts","reconnectInterval","onOpen","getDeviceStatus","shouldReconnect","closeEvent","onMessage","sendJsonMessage","lastJsonMessage","cmd","command","latestpicture_filename","latestpicture_datetimemillis","j","local_site","changed_station","automatic_control","changed_site","new_site","current","useMemo","concat","applyFontChange","thestate","site_name","elapsed_millis","now","crop","startdatetime_millis","theNodeEnvironment","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","fullWidth","DialogActions","Tabs","flex","Tab","title","sw_name","oldstage","newstage","onFontChange","date_last_training","date_last_filter_change","onMapChange","stagename","new_automation_settings","new_selected_stage","setSelectedStageSettingsFromChild","saveAutomationSettings","intms","alert","milliseconds","RenderUnauthenticatedOverview","loginUser","credentials","loginstate","username","setUserName","password","setPassword","failed","setFailed","handleSubmit","then","token","auth","processLoginResult","catch","err","login_status","onSubmit","background","defaultValue","alignSelf","Markdown","children","UnauthenticatedHeader","UnauthenticatedApp","data-testid","process","necessary_environment","App","tokenString","sessionStorage","getItem","userToken","getToken","setToken","setItem","useToken","initial_display_settings","missing_var","configured","initial_sensor_readings","loginResult","units_options","options_units","pressure_units_options","options_pressure_units","options_language","options_enclosure","locale_en","navigator","split","ReactDOM","render","StrictMode","locale","messages","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"iHAAAA,EAAOC,QAAU,kmH,iBCoIjBD,EAAOC,QAAU,CACbC,iBAzGqB,CACrBC,aAAc,eACdC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,WAAY,aACZC,kBAAmB,oBACnBC,kBAAmB,oBACnBC,YAAa,eAkGbC,iBA9FqB,CACrBC,mBAAoB,qBACpBJ,kBAAmB,oBACnBK,GAAI,KACJC,eAAgB,iBAChBJ,YAAa,cACbK,kBAAmB,oBACnBC,IAAK,MACLC,IAAK,MAGLC,YAAa,cACbC,SAAU,WACVC,MAAO,SAkFPC,aA/EiB,CACjBC,YAAa,cACbC,aAAc,eACdC,gBAAiB,kBACjBC,cAAe,gBAEfC,MAAO,SA0EPC,WAvEe,CACfC,GAAI,KACJC,KAAM,OACNC,KAAM,IAqENC,YAlEgB,CAChBC,gBAAiB,kBACjBC,mBAAoB,qBACpBC,mBAAoB,qBACpBC,qBAAsB,uBACtBC,kBAAmB,oBACnBC,yBAA0B,2BAC1BC,yBAA0B,2BAC1BC,mBAAoB,qBAGpBC,sBAAuB,wBACvBC,sBAAuB,wBACvBC,oBAAqB,sBACrBC,kBAAmB,oBACnBC,eAAgB,iBAChBC,cAAe,gBACfC,WAAY,aACZC,WAAY,aACZC,UAAW,aAgDXC,kBA9BsB,CACtBC,WAAY,IACZC,QAAS,IACTC,OAAQ,KA4BRC,eAzBmB,CACnBC,QAAS,KAyBTC,oBAtBwB,CACxBC,QAAS,UACTC,OAAQ,KACRC,OAAQ,SACRC,YAAa,MAmBbC,eAhDmB,CACnBC,WAAY,aACZC,aAAc,eACdC,OAAQ,SACRC,WAAY,aACZC,SAAU,WACVC,WAAY,aACZC,YAAa,cACbC,UAAW,YACXC,YAAa,cACbC,YAAa,cACbC,iBAAkB,mBAClBC,gBAAiB,mBAqCjBC,YAhBgB,CAChBC,UAAW,YACXC,WAAY,gB,46ECnGhB,IAAMC,EAAKC,EAAQ,KAyFnB7E,EAAOC,QAAU,CACb6E,iCAvFJ,SAA0CC,GAEtC,IAAIC,EAAYD,EAAUE,cACtBC,EAAQ,CACRC,gBAAiB,QACjBC,sBAAuB,QACvBC,qBAAsB,QACtBC,eAAgB,EAChBC,gBAAiB,EACjBC,sBAAuB,EACvBC,qBAAsB,GAG1B,OAAOT,GACH,IAAK,cACDE,EAAMI,eAAiB,KACvBJ,EAAMK,gBAAkB,KACxBL,EAAMC,gBAAkBO,OAAOC,SAASC,SACxCV,EAAME,sBAAwBM,OAAOC,SAASC,SAC9CV,EAAMM,sBAAwB,KAC9BN,EAAMO,qBAAuB,MAC7BP,EAAMG,qBAAuB,WAC7B,MACJ,IAAK,OACDH,EAAMI,eAAiB,KACvBJ,EAAMK,gBAAkB,KACxBL,EAAMM,sBAAwB,KAC9BN,EAAMO,qBAAuB,MAC7BP,EAAMC,gBAAkBO,OAAOC,SAASC,SACxCV,EAAME,sBAAwBM,OAAOC,SAASC,SAC9CV,EAAMG,qBAAuBK,OAAOC,SAASC,SAC7C,MACJ,IAAK,KACDV,EAAMI,eAAiB,KACvBJ,EAAMK,gBAAkB,KACxBL,EAAMC,gBAAkB,YACxBD,EAAME,sBAAwB,YAC9BF,EAAMM,sBAAwB,KAC9BN,EAAMO,qBAAuB,MAC7BP,EAAMG,qBAAuB,YAC7B,MACJ,IAAK,aACDH,EAAMI,eAAiB,KACvBJ,EAAMK,gBAAkB,KACxBL,EAAMC,gBAAkBO,OAAOC,SAASC,SACxCV,EAAME,sBAAwBM,OAAOC,SAASC,SAC9CV,EAAMM,sBAAwB,KAC9BN,EAAMO,qBAAuB,MAC7BP,EAAMG,qBAAuB,WAC7B,MACJ,QACIQ,QAAQC,IAAI,gCAAkCd,GAItD,OAAQE,GAiCRa,cA9BJ,SAAuBC,GACnB,IAAMC,EAAOC,SAASF,EAAK,IAE3B,OAAIG,MAAMF,GAECD,EAGPC,GAAQ,GAEDA,GAqBXG,aAXJ,SAAsBC,GAElB,IAAMC,EAAO1B,EAAG2B,aAAaF,EAAU,QAEvC,OAAOG,KAAKC,MAAMH,IAQlBI,aAhBJ,SAAsBC,GAClB,OAAOC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMF,O,ywlKC3GjD3G,EAAOC,QAAU,k5L,0rCCmCG8G,QACa,cAA7BrB,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASoB,MACrB,2D,2HCUOC,MArBf,SAA2CC,GAOnC,OACA,6BACI,kBAACC,EAAA,EAAD,CACIC,QAAQ,OACRC,UAAU,oCACVC,KAAK,cACLC,UAAU,iBACVC,QAAS,CAAC,cAAe,OAAQ,cACjCC,MAAOP,EAAMQ,QAASC,SAAU,SAACjG,GAAD,OAb1B+F,EAagD/F,EAAMkG,OAAOH,MAZ3E3B,IAAI+B,MAAM,oCAAsCJ,QAChDP,EAAMY,YAAaL,GAFN,IAACA,O,MCaPM,MAjBf,SAA+Bb,GAE3B,IAAIc,EAAM,oCACN,yBAAKC,GAAG,wBAWZ,OARkB,IAAff,EAAMgB,KACLF,EAAM,sCAEa,IAAfd,EAAMiB,OACNH,EAAM,2BAAId,EAAMgB,OAIhBF,G,2CCiDGI,MApDf,SAAiBlB,GACbpB,IAAI+B,MAAM,4BAA4BrB,KAAK6B,UAAUnB,IACrD,MAA4BoB,mBAASpB,EAAMQ,SAA3C,mBAAKA,EAAL,KAAca,EAAd,KACA,EAA4BD,qBAA5B,mBAAKE,EAAL,KAAcC,EAAd,KAIA5C,QAAQC,IAAI,QAAUU,KAAK6B,UAAUnB,EAAMwB,UAG3C,IAWIC,EAAe,sBAMnB,OALIzB,EAAM0B,aAAeC,aAAWC,OAChCH,EAAiB,yBAKjB,6BACI,4BAAQtB,UAAU,oBAAoB0B,MAAO,CAAC,MAAS,SACnD,8BACI,yBAAKd,GAAG,4BAEZ,0BAAMc,MAAO,CACT,WAAc,aACd,WAAc,SAFlB,aAGc7B,EAAM8B,SAHpB,OAGkCtB,EAHlC,OAG+CR,EAAMwB,QAAQO,eAC7D,0BAAMF,MAAO,CAAC,MAAS,QACnB,kBAAC,EAAD,CAAsBb,KAAMhB,EAAMgB,OAClC,kBAACgB,EAAA,EAAD,CAAQ7B,UAAU,gBAAgB8B,MAAO,6BAA8BC,MAAO,SAAUC,MAAO,QAASC,MAAO,SAAUC,QAASrC,EAAMsC,WAG5I,kBAAC,EAAD,CAAmC9B,QAASA,EAASc,QAASA,EAC/BV,YAjCtB,SAACL,GAClB3B,IAAI+B,MAAM,yBAA2BJ,EAAQ,KAC7C,IAAIgC,EAAahC,EAAMxC,cAGvBsD,EAAWkB,GACX,IAAIC,EAAe5E,2CAAiC2C,GACpDgB,EAAWiB,EAAanE,iBACxB2B,EAAMqB,WAAWd,MA0Bb,kBAACkC,EAAA,EAAD,kBAAkBzC,EAAM0C,SAAxB,KACA,4BAAQL,QAASrC,EAAM2C,uBAAwBC,SAAU5C,EAAM0B,aAAeC,aAAWC,MAAQH,GACjG,4BAAQY,QAASrC,EAAM2C,wBAA0B,cACjD,4BAAQN,QAASrC,EAAM2C,wBAA0B,c,YC7C9CE,MAdf,SAA4B7C,GAExB,IAAIc,EASJ,OAPIA,GADa,IAAbd,EAAM8C,GACA,yBAAK/B,GAAG,2BAER,yBAAKA,GAAG,2BAEE,IAAjBf,EAAM+C,SACLjC,EAAM,sCAEFA,GCYGkC,MAtBf,SAA0BhD,GAGtB,IAAIc,EAgBJ,OAdQA,GADa,IAAbd,EAAM8C,GAEF,6BACI,yBAAK/B,GAAG,0BAGV,6BACF,yBAAKA,GAAG,mCACR,yBAAKA,GAAG,oCAGA,IAAjBf,EAAM+C,SACLjC,EAAM,sCAGFA,GCGGmC,MAvBf,SAA2BjD,GAEvB,IAAIc,EAkBJ,OAhBIA,GADa,IAAbd,EAAM8C,GAEF,6BACI,yBAAK/B,GAAI,uBACT,yBAAKA,GAAG,mCAGV,6BACF,yBAAKA,GAAI,uBACT,yBAAKA,GAAG,mCACR,yBAAKA,GAAG,sCAGI,IAAjBf,EAAM+C,SACLjC,EAAM,sCAGFA,GCSGoC,MA5Bf,SAAwBlD,GACpB,IAAIc,EAwBJ,OAtBQA,GADa,IAAbd,EAAM8C,GAEF,yBAAK3C,UAAU,WACX,yBAAKA,UAAU,wBAEf,yBAAKA,UAAU,4BAKnB,yBAAKA,UAAU,WACf,yBAAKA,UAAU,uBAEf,yBAAKA,UAAU,qBAEf,yBAAKA,UAAU,4BAIP,IAAjBH,EAAM+C,SACLjC,EAAM,sCAGFA,G,iBCDGqC,MAvBf,SAA4BnD,GACxB,IAAIG,EAAU,GACO,OAAlBH,EAAMK,YACLF,EAAU,gBAEO,SAAlBH,EAAMK,YACLF,EAAU,kBAEd,IAAII,EAAQ6C,IAAQA,QAAQ,OAAQpD,EAAMqD,oBAEtCvC,EAAM,oCACN,yBAAKX,UAAWA,IAChB,yBAAKA,UAAU,gBACf,yBAAKA,UAAW,+BAAgCI,EAAOP,EAAMsD,QAOjE,OAJoB,IAAjBtD,EAAM+C,SACLjC,EAAM,sCAGFA,GCYGyC,MAhCf,SAA2BvD,GAEvB,IAAIwD,EAAWxD,EAAMyD,OAAS,kBAC1BC,EAAS1D,EAAMyD,OAAS,sBAExBlD,EAAQ6C,IAAQA,QAAQ,QAASpD,EAAM2D,iBACvCxD,EAAY,GACQ,OAApBH,EAAMK,YACNF,EAAYiD,IAAQA,QAAQ,uBAAwBpD,EAAMyD,SAEtC,SAApBzD,EAAMK,YACNF,EAAYiD,IAAQA,QAAQ,yBAA0BpD,EAAMyD,SAIhE,IAAI3C,EAAM,oCACN,yBAAKC,GAAIyC,GACR,yBAAKzC,GAAI2C,GACJnD,GAEL,yBAAKQ,GAhBG,gCAiBT,yBAAKZ,UAAWA,MAQpB,OAJqB,IAAjBH,EAAM+C,SACNjC,EAAM,sCAGFA,GCJG8C,MAzBf,SAA2B5D,GACvB,IAAI6D,EAAmB,GACF,OAAlB7D,EAAMK,YACLwD,EAAmB,gBAEF,SAAlB7D,EAAMK,YACLwD,EAAmB,kBAEvB,IAAItD,EAAQ6C,IAAQA,QAAQ,OAAQpD,EAAMO,OAEtCO,EAAM,yBAAKX,UAAWH,EAAMG,WAC5B,yBAAKA,UAAW0D,IAChB,yBAAK1D,UAAWH,EAAM8D,gBACtB,yBAAK3D,UAAW,gBACXI,EADL,IACaP,EAAMsD,QAQvB,OAJoB,IAAjBtD,EAAM+C,SACLjC,EAAM,sCAGFA,GCGGiD,MAzBf,SAA0B/D,GACtB,IAAI6D,EAAmB,GACF,OAAlB7D,EAAMK,YACLwD,EAAmB,yBAEF,SAAlB7D,EAAMK,YACLwD,EAAmB,2BAEvB,IAAItD,EAAQ6C,IAAQA,QAAQ,OAAQpD,EAAMO,OAEtCO,EAAM,oCACN,yBAAKX,UAAW,gBACXI,EADL,IACaP,EAAMsD,OAEnB,yBAAKnD,UAAWH,EAAM8D,gBACtB,yBAAK3D,UAAW0D,KAOpB,OAJoB,IAAjB7D,EAAM+C,SACLjC,EAAM,sCAGFA,GCMGkD,MA5Bf,SAAoBhE,GAChB,IAAI6D,EAAmB,GACnB/C,EAAM,qCAEV,IAAoB,IAAjBd,EAAM+C,OAEL,OADApE,QAAQC,IAAI,wBAA0BoB,EAAM+C,QACpCjC,EAGW,OAApBd,EAAMK,YACLwD,EAAmB,mBAEA,SAApB7D,EAAMK,YACLwD,EAAmB,qBAEvB,IAAItD,EAAQ6C,IAAQA,QAAQ,OAAQpD,EAAMO,OAU1C,OATA5B,QAAQC,IAAI,0BAA4B2B,GACvCO,EAAM,oCACH,yBAAKX,UAAW,wBAAhB,OACSI,EADT,IACiBP,EAAMsD,OAEtB,yBAAKnD,UAAW0D,MCKVI,MA1Bf,SAAoBjE,GAChB,IAAI6D,EAAmB,GACnB/C,EAAM,qCAEV,IAAoB,IAAjBd,EAAM+C,OACL,OAAQjC,EAGS,OAAlBd,EAAMK,YACLwD,EAAmB,mBAEF,SAAlB7D,EAAMK,YACLwD,EAAmB,qBAEvB,IAAItD,EAAQ6C,IAAQA,QAAQ,OAAQpD,EAAMO,OAS1C,OAPAO,EAAM,oCACF,yBAAKX,UAAW,wBAAhB,OACSI,EADT,IACiBP,EAAMsD,OAEvB,yBAAKnD,UAAW0D,MC6DTK,MA5Ef,SAA0BlE,GACtB,IACImE,EAAsB,yBACtBC,EAAsB,eACtBC,EAAoB,qBAqExB,OAnEiB,IAAbrE,EAAM8C,KACLqB,EAAsB,0BACtBC,EAAsB,gBACtBC,EAAoB,wBAEzB1F,QAAQC,IAAI,mBAAqBU,KAAK6B,UAAUnB,EAAMwB,UAElD,yBAAKrB,UAAWgE,GACZ,yBAAKhE,UAAU,cACX,kBAAC,EAAD,CAAW4C,OAAQ/C,EAAMwB,QAAQ3F,WACtByI,cAAe,kBACfR,cAAe,kBACfvD,MAAOP,EAAMuE,gBAAgBzK,IAC7BwJ,MAAOtD,EAAMwE,iBAAiBC,UAC9BpE,UAAWL,EAAMuE,gBAAgBG,iBAEhD,yBAAKvE,UAAU,cACX,kBAAC,EAAD,CAAW4C,OAAQ/C,EAAMwB,QAAQ5F,WACtB0I,cAAe,kBACfR,cAAe,kBACfvD,MAAOP,EAAMuE,gBAAgBxK,IAC7BuJ,MAAOtD,EAAMwE,iBAAiBG,UAC9BtE,UAAWL,EAAMuE,gBAAgBK,iBAEhD,yBAAKzE,UAAU,mBACX,kBAAC,EAAD,CAAiB4C,OAAQ/C,EAAMwB,QAAQqD,iBACtBP,cAAe,uBACfR,cAAe,uBACfvD,MAAOP,EAAMuE,gBAAgBO,kBAC7BxB,MAAOtD,EAAMwE,iBAAiBO,eAC9B1E,UAAWL,EAAMuE,gBAAgBS,+BAEtD,kBAAC,EAAD,CACI7E,UAAW,oBACX2D,cAAe,oBACff,OAAQ/C,EAAMwB,QAAQlG,sBACtBiF,MAAOP,EAAMuE,gBAAgB3K,eAC7B0J,MAAOtD,EAAMwE,iBAAiBS,YAC9B5E,UAAWL,EAAMuE,gBAAgBW,2BACrC,yBAAK/E,UAAU,wBACf,yBAAKA,UAAWiE,IAChB,yBAAKjE,UAAU,iBACf,yBAAKY,GAAIsD,GACL,yBAAKtD,GAAG,0BACJ,kBAAC,EAAD,CAAmBgC,OAAQ/C,EAAMwB,QAAQ1G,gBACtBuI,mBAAoBrD,EAAMuE,gBAAgBtL,aAC1CqK,MAAOtD,EAAMwE,iBAAiBzI,kBAC9BsE,UAAWL,EAAMuE,gBAAgBY,0BAExD,yBAAKpE,GAAG,6BACJ,kBAAC,EAAD,CAAmBgC,OAAQ/C,EAAMwB,QAAQzG,mBACtBsI,mBAAoBrD,EAAMuE,gBAAgBrL,gBAC1CoK,MAAOtD,EAAMwE,iBAAiBzI,kBAC9BsE,UAAWL,EAAMuE,gBAAgBa,6BAExD,yBAAKrE,GAAG,6BACJ,kBAAC,EAAD,CAAmBgC,OAAQ/C,EAAMwB,QAAQxG,mBACtBqI,mBAAoBrD,EAAMuE,gBAAgBpL,gBAC1CmK,MAAOtD,EAAMwE,iBAAiBzI,kBAC9BsE,UAAWL,EAAMuE,gBAAgBc,8BAG5D,kBAAC,EAAD,CAAkB5B,OAAQ,GAAIV,OAAQ/C,EAAMwB,QAAQrG,yBAClCwI,gBAAiB3D,EAAMuE,gBAAgBjL,kBACvCgK,MAAOtD,EAAMwE,iBAAiBrI,eAC9BkE,UAAWL,EAAMuE,gBAAgBe,gCC1DhDC,MApBf,SAA0BvF,GACtB,IAAIc,EAgBJ,OAdIA,GADa,IAAbd,EAAM8C,GAEF,yBAAK/B,GAAG,kBAIR,yBAAKA,GAAG,gBACJ,yBAAKA,GAAG,oBAIA,IAAjBf,EAAM+C,SACLjC,EAAM,sCAGFA,GCHG0E,MAdf,SAAuBxF,GAEnB,IAAIc,EASJ,OAPIA,GADa,IAAbd,EAAM8C,GACA,yBAAK/B,GAAG,sBAER,yBAAKA,GAAG,sBAEE,IAAjBf,EAAM+C,SACLjC,EAAM,sCAEFA,GCGG2E,MAdf,SAA2BzF,GACvB,IAAIc,EAUJ,OARIA,GADa,IAAbd,EAAM8C,GACA,yBAAK/B,GAAG,0BAER,yBAAKA,GAAG,0BAEE,IAAjBf,EAAM+C,SACLjC,EAAM,sCAGFA,G,oCCNR4E,G,OAAmB,IAAIC,MAAM,yBAC7BC,EAAqB,IAAID,MAAM,0BAgEpBE,MAxDf,SAA6B7F,GAYzB,IAAI8F,EAAuB,MACvBC,EAAoB,QACpBC,EAAwB,SACxBC,EAAqB,SAsCzB,OApCuB,IAAnBjG,EAAMkG,UAAqBlG,EAAMmG,mBAAqBnG,EAAMoG,KAC5DN,EAAuB,OACvBC,EAAoB,OACpBC,EAAwB,WACxBC,EAAqB,YACdjG,EAAMmG,mBAAqBnG,EAAM8C,KACxCgD,EAAuB,MACvBC,EAAoB,QACpBC,EAAwB,MACxBC,EAAqB,UAKJ,IAAjBjG,EAAM+C,OACA,qCAGF,kBAACsD,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAYtG,EAAMoC,OAAkB,kBAACkE,EAAA,EAAD,KAC1C,kBAAC,IAAD,CAAQxD,GAAI9C,EAAM8C,GAAIsD,IAAKpG,EAAMoG,IAAK7F,MAAOP,EAAMuG,MAC3CC,OAAQ,CACJC,MAAO,CACHC,gBAAiBZ,GAErBa,aAAc,CACVD,gBAAiBX,GAErBa,OAAQ,CACJF,gBAAiBV,GAErBa,cAAe,CACXH,gBAAiBT,IAEtBxF,SAjDvB,SAAgBqG,GACZlI,IAAI+B,MAAM,cAAgBX,EAAMkG,UAC5BlG,EAAMmG,mBAAqBnG,EAAMoG,MAA0B,IAAnBpG,EAAMkG,UAC9ClG,EAAM+G,OAAOD,GATrBpB,EAAiBsB,SAYTpI,IAAI+B,MAAM,cAAgBX,EAAMkG,SAAW,uBAAyBlG,EAAMmG,kBATlFP,EAAmBoB,c,4BC0CRC,OAjDf,SAA8BjH,GAkB1B,MAAoCoB,mBAAS9B,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,WAA7E,mBAAO0F,EAAP,KAAsBC,EAAtB,KA4BA,OA1BAvI,IAAI+B,MAAM,yBAAyBX,EAAMoH,mBAAmBC,WAAW,KAC7D,oCACF,kBAACC,EAAA,EAAD,CACIC,QAAS,SACTpF,MAAO,UACP9B,UAAW,aACXmH,MAAI,EACJC,MAAO,CACH,CAAErH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,aAAcsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAElDC,QAAS,CAAC,QAAQ,QAAQ,SAC1BC,KAAM,CAAC,QACPC,IAAI,WAGJ,kBAACC,EAAA,EAAD,CAAKR,QAAS,SAAUS,SAAU,QAAS9F,MAAO,QAASC,MAAO,UAAlE,gBAGA,kBAAC4F,EAAA,EAAD,CAAKR,QAAS,SAAUS,SAAU,QAAS9F,MAAO,QAASC,MAAO,UAC9D,kBAAC8F,EAAA,EAAD,CAAQ3H,QAAS4H,GAAe3H,MAAOP,EAAMoH,mBAAmBC,WACxD5G,SAAU,mBAhClC,SAA+B0H,GAC3B,IAAIC,EAAIlB,EACRtI,IAAI+B,MAAM,wBAAyByH,EAAErG,cAAgB,oBAAsBoG,GAC3EC,EAAErG,cAAgBoG,EAClBnI,EAAMqI,0BAA0BF,GAChChB,EAAWiB,GA2BmCE,CAAhB,EAAGH,eCxCrCzC,GAAmB,IAAIC,MAAM,wBAuElB4C,OAjEf,SAA4BvI,GACxB,IACIwI,EAAa,KAKbC,EAAe,CACfhC,MAAO,CACHC,gBANmB,OAQvBC,aAAc,CACVD,gBARgB,SAUpBE,OAAQ,CACJF,gBAVoB,UAYxBG,cAAe,CACXH,gBAZiB,WAuDzB,OA5DyB1G,EAAM0I,aAAavC,iBAAiBrD,KAiCzD0F,EAAa,OAEP,oCACF,kBAACG,EAAA,EAAD,KAAQ,+BACZ,kBAACtC,EAAA,EAAD,KAAW,kBAACC,EAAA,EAAD,0BACP,kBAACA,EAAA,EAAD,KACA,kBAAC,IAAD,CAAQ7F,SAbhB,SAAyBqG,GACrBlI,IAAI+B,MAAM,oBA/Bd+E,GAAiBsB,OAiCbhH,EAAM4I,cAAczC,iBAAiBY,OAAOD,IAULhE,GAAG,KAAKsD,IAAI,MAAM7F,MAAOiI,EAAYhC,OAAQiC,MAIpF,kBAAC,EAAD,CAAoB1F,OAAQ/C,EAAM0I,aAAa/L,WAAYoK,OAAQ/G,EAAM4I,cAAcjM,WAAWoK,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAa/L,WAAWmG,GAAG,KAAK,MAAOV,MAAM,aAAa+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAa/L,WAAWuJ,WACzQ,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAa7L,OAAQkK,OAAQ/G,EAAM4I,cAAc/L,OAAOkK,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAa7L,OAAOiG,GAAG,KAAK,MAAOV,MAAM,SAAS+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAa7L,OAAOqJ,WACrP,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAa1L,WAAY+J,OAAQ/G,EAAM4I,cAAcC,UAAU9B,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAaG,UAAU/F,GAAG,KAAK,MAAOV,MAAM,aAAc+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAaG,UAAU3C,WACvQ,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAazL,YAAa8J,OAAQ/G,EAAM4I,cAAcE,WAAW/B,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAaI,WAAWhG,GAAG,KAAK,MAAOV,MAAM,cAAe+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAaI,WAAW5C,WAC5Q,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAa3L,SAAUgK,OAAQ/G,EAAM4I,cAAcG,QAAQhC,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAaK,QAAQjG,GAAG,KAAK,MAAOV,MAAM,WAAY+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAaK,QAAQ7C,WAC7P,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAa5L,WAAYiK,OAAQ/G,EAAM4I,cAAcI,UAAUjC,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAaM,UAAUlG,GAAG,KAAK,MAAOV,MAAM,aAAc+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAaM,UAAU9C,WACvQ,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAatL,YAAa2J,OAAQ/G,EAAM4I,cAAcnL,WAAWsJ,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAajL,WAAWqF,GAAG,KAAK,MAAOV,MAAM,YAAa+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAajL,WAAWyI,WAC1Q,kBAAC,EAAD,CAAoBnD,OAAQ/C,EAAM0I,aAAa9L,aAAcmK,OAAQ/G,EAAM4I,cAAcK,YAAYlC,OAAQjE,GAAG,KAAKsD,IAAI,MAAMG,MAAOvG,EAAM0I,aAAaO,YAAYnG,GAAG,KAAK,MAAOV,MAAM,eAAgB+D,iBAAkBqC,EAAYtC,SAAUlG,EAAM0I,aAAaO,YAAY/C,aAGjR,kBAAC,GAAD,CAAqB1E,QAASxB,EAAMwB,QACfgD,iBAAkBxE,EAAMwE,iBACxB6D,0BAlCzB,SAA0BD,GACtBxJ,IAAI+B,MAAM,oBAAsBrB,KAAK6B,UAAUiH,IAC/CpI,EAAMkJ,gBAAgBd,IAiCDhB,mBAAoB,CAACC,WAAYrH,EAAMwB,QAAQO,mBCzB7DoH,OAxCf,SAAgCnJ,GAC5B,IAAIO,EAAQ,GACR6I,EAAe,qCAmCnB,OAlC4C,IAAxCpJ,EAAMwB,QAAQjG,uBAAkF,oBAAzCyE,EAAMuE,gBAAgB8E,iBAC7E9I,EAAQ6C,IAAQA,QAAQ,OAAQpD,EAAMuE,gBAAgB8E,gBACtDD,EAAe,6BAAK,yBAAKrI,GAAI,yBAAyB,yBAAKZ,UAAW,+BAAgCI,EAAhD,UAItD,oCACK6I,EACD,yBAAKrI,GAAG,0BACJ,kBAAC,EAAD,CAAmBgC,OAAQ/C,EAAMwB,QAAQvG,qBACtBuJ,iBAAkBxE,EAAMwE,iBACxBnB,mBAAoBrD,EAAMuE,gBAAgBnL,kBAC1CkK,MAAOtD,EAAMwE,iBAAiBzI,kBAC9BsE,UAAWL,EAAMuE,gBAAgB+E,+BAExD,yBAAKvI,GAAG,gCACJ,kBAAC,EAAD,CAAkB0C,OAAQ,WACRV,OAAQ/C,EAAMwB,QAAQpG,yBACtBoJ,iBAAkBxE,EAAMwE,iBACxBb,gBAAiB3D,EAAMuE,gBAAgBhL,kBACvC+J,MAAOtD,EAAMwE,iBAAiBrI,eAC9BkE,UAAWL,EAAMuE,gBAAgBgF,+BAEvD,yBAAKpJ,UAAU,2BACX,kBAAC,EAAD,CAAiB4C,OAAQ/C,EAAMwB,QAAQqD,iBACtBL,iBAAkBxE,EAAMwE,iBACxBgF,gBAAiB,kBACjBlF,cAAe,uBAC5BR,cAAe,uBACfvD,MAAOP,EAAMuE,gBAAgBkF,kBAC7BnG,MAAOtD,EAAMwE,iBAAiBO,eAC9B1E,UAAWL,EAAMuE,gBAAgBmF,iC,8BCdtCC,OAvBf,SAAwB3J,GACpB,IAAIO,EAAQ6C,IAAQA,QAAQ,QAASpD,EAAMuE,gBAAgBqF,SACvDzJ,EAAY,GACgC,OAA5CH,EAAMuE,gBAAgBsF,oBACtB1J,EAAYiD,IAAQA,QAAQ,yBAEgB,SAA5CpD,EAAMuE,gBAAgBsF,oBACtB1J,EAAYiD,IAAQA,QAAQ,2BAIhC,IAAItC,EAAM,0CACGP,EACT,yBAAKJ,UAAWA,KAOpB,OAJqB,IAAjBH,EAAM+C,SACNjC,EAAM,sCAGFA,GC4NGgJ,OA5Nf,SAA0B9J,GAEtB,IAyGI+J,EACAC,EA1GApB,EAAgB,CACZzC,iBAAkB,CAACY,OAyB3B,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEjC,iBAAiBrD,IAAM9C,EAAM0I,aAAavC,iBAAiBrD,GAC7DlE,IAAI+B,MAAM,wBAA0BX,EAAM0I,aAAavC,iBAAiBrD,GAAK,OAASsF,EAAEjC,iBAAiBrD,IACzG9C,EAAMiK,kBAAkB7B,EAAG,mBAAoBA,EAAEjC,iBAAiBrD,MA5B9DnG,WAAY,CAACuJ,UAAU,EAAOa,OA2CtC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEzL,WAAWmG,IAAM9C,EAAM0I,aAAa/L,WAAWmG,GACjD9C,EAAMiK,kBAAkB7B,EAAE,aAAaA,EAAEzL,WAAWmG,MA7ChDjG,OAAQ,CAACqJ,UAAU,EAAOa,OAkElC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEvL,OAAOiG,IAAM9C,EAAM0I,aAAa7L,OAAOiG,GACzC9C,EAAMiK,kBAAkB7B,EAAE,SAASA,EAAEvL,OAAOiG,MApExCoH,SAAU,CAAChE,UAAU,EAAOa,OA+CpC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAE8B,SAASpH,IAAM9C,EAAM0I,aAAawB,SAASpH,GAC7C9C,EAAMiK,kBAAkB7B,EAAE,WAAWA,EAAE8B,SAASpH,MAjD5CqH,WAAY,CAACjE,UAAU,EAAOa,OAoDtC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAE+B,WAAWrH,IAAM9C,EAAM0I,aAAayB,WAAWrH,GACjD9C,EAAMiK,kBAAkB7B,EAAE,aAAaA,EAAE+B,WAAWrH,MAtDhDmG,YAAa,CAAC/C,UAAU,EAAOa,OAyDvC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEa,YAAYnG,IAAM9C,EAAM0I,aAAaO,YAAYnG,GACnD9C,EAAMiK,kBAAkB7B,EAAE,cAAcA,EAAEa,YAAYnG,MA3DlDrF,WAAY,CAACyI,UAAU,EAAOa,OA0BtC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAE3K,WAAWqF,IAAM9C,EAAM0I,aAAajL,WAAWqF,GACjD9C,EAAMiK,kBAAkB7B,EAAE,aAAaA,EAAE3K,WAAWqF,MA5BhDsH,gBAAiB,CAAClE,UAAU,EAAOa,OA+B3C,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEgC,gBAAgBtH,IAAM9C,EAAM0I,aAAa0B,gBAAgBtH,GAC3D9C,EAAMiK,kBAAkB7B,EAAE,kBAAkBA,EAAEgC,gBAAgBtH,MAjC1DiG,QAAS,CAAC7C,UAAU,EAAOa,OAoFnC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEW,QAAQjG,IAAM9C,EAAM0I,aAAaK,QAAQjG,GAC3C9C,EAAMiK,kBAAkB7B,EAAE,UAAUA,EAAEW,QAAQjG,MAtF1CkG,UAAW,CAAC9C,UAAU,EAAOa,OAyFrC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEY,UAAUlG,IAAM9C,EAAM0I,aAAaM,UAAUlG,GAC/C9C,EAAMiK,kBAAkB7B,EAAE,YAAYA,EAAEY,UAAUlG,MA3F9C+F,UAAW,CAAC3C,UAAU,EAAOa,OAgErC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAES,UAAU/F,IAAM9C,EAAM0I,aAAaG,UAAU/F,GAC/C9C,EAAMiK,kBAAkB7B,EAAE,YAAYA,EAAES,UAAU/F,MAlE9CgG,WAAY,CAAC5C,UAAU,EAAOa,OAqEtC,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEU,WAAWhG,IAAM9C,EAAM0I,aAAaI,WAAWhG,GACjD9C,EAAMiK,kBAAkB7B,EAAE,aAAaA,EAAEU,WAAWhG,MAvEhDuH,iBAAkB,CAACnE,UAAU,EAAOa,OA0E5C,WACI,IAAIqB,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM0I,eACxCN,EAAEiC,iBAAiBvH,IAAM9C,EAAM0I,aAAa2B,iBAAiBvH,GAC7D9C,EAAMiK,kBAAkB7B,EAAE,YAAYA,EAAEiC,iBAAiBvH,OAiB7D,IAAyC,IAArC9C,EAAMwB,QAAQnG,mBACd0O,EAAK,qCACLC,EAAU,yCACP,CAEHA,EAAU,yBAAKjJ,GAAG,oBACd,kBAAC,EAAD,CAAmBgC,OAAQ/C,EAAMwB,QAAQtG,kBACtBiF,UAAU,yBAAyBkD,mBAAoBrD,EAAMuE,gBAAgBlL,WAC7EiK,MAAOtD,EAAMwE,iBAAiBzI,kBAC9BsE,UAAWL,EAAMuE,gBAAgB+F,wBAGxD,IAAIC,EAAmBnH,IAAQA,QAAQ,OAAOpD,EAAMuE,gBAAgB/K,aACpEoF,IAAI+B,MAAM,+BAAiC4J,GAC3CR,EAAK,yBAAKhJ,GAAG,2BACRwJ,EADA,IACmBvK,EAAMwE,iBAAiBgG,kBAGnD,IAEIC,EADyB,KADHzK,EAAMuE,gBAAgB/K,YAAY,IAGxDkR,EAFyB,IAEiBD,EAAsB,KAuFpE,OApFI,kBAACE,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM9K,EAAM4K,MAAMG,OAAOD,KAAKE,WAK1C,yBAAK7K,UAAU,qBACX,yBAAKY,GAAG,gBACJ,yBAAKA,GAAG,OACJ,yBAAKA,GAAG,mBAER,yBAAKA,GAAG,qBAAqBc,MAAO,CAAC,OAAU4I,EAAmB,IAAOC,KAExEX,EACAC,EACD,yBAAKjJ,GAAI,kBACL,kBAAC,GAAD,CAAegC,OAAQ/C,EAAMwB,QAAQ9F,eAAgB6I,gBAAiBvE,EAAMuE,mBAEhF,yBAAKpE,UAAU,eACX,kBAAC,EAAD,CAAmB4C,OAAQ/C,EAAMwB,QAAQ5E,aAAckG,GAAI9C,EAAM0I,aAAaO,YAAYnG,OAIlG,yBAAK/B,GAAG,YAER,yBAAKZ,UAAU,SACX,yBAAKA,UAAU,gBACX,uBAAGA,UAAU,WAAb,UAGJ,yBAAKA,UAAU,SACX,yBAAKA,UAAU,oBAGnB,yBAAKA,UAAU,SACX,yBAAKA,UAAU,sBAIvB,kBAAC,EAAD,CACIqB,QAASxB,EAAMwB,QACf+C,gBAAmBvE,EAAMuE,gBACzBC,iBAAkBxE,EAAMwE,iBACxBzB,OAAQ/C,EAAMwB,QAAQnE,kBAAoB2C,EAAMwB,QAAQpE,aAAe4C,EAAMwB,QAAQlE,gBACrFwF,GAAI9C,EAAM0I,aAAajL,WAAWqF,IAAM9C,EAAM0I,aAAa0B,gBAAgBtH,KAE/E,kBAAC,EAAD,CAAcC,OAAQ/C,EAAMwB,QAAQ3E,OAAQiG,GAAI9C,EAAM0I,aAAa7L,OAAOiG,KAC1E,kBAAC,EAAD,CAAkBC,OAAQ/C,EAAMwB,QAAQ7E,WAAYmG,GAAI9C,EAAM0I,aAAa/L,WAAWmG,KACtF,yBAAK3C,UAAU,WACX,yBAAKA,UAAU,iCACX,kBAAC,EAAD,CAAkB4C,OAAQ/C,EAAMwB,QAAQvE,YAAa6F,GAAI9C,EAAM0I,aAAaI,WAAWhG,OAG/F,yBAAK3C,UAAU,QACX,yBAAKA,UAAU,oBACX,kBAAC,EAAD,CAAiB4C,OAAQ/C,EAAMwB,QAAQxE,WAAY8F,GAAI9C,EAAM0I,aAAaG,UAAU/F,OAI5F,kBAAC,EAAD,CAAiBC,OAAQ/C,EAAMwB,QAAQ1E,WAAYgG,GAAI9C,EAAM0I,aAAaM,UAAUlG,KACpF,kBAAC,EAAD,CAAeC,OAAQ/C,EAAMwB,QAAQzE,SAAU+F,GAAI9C,EAAM0I,aAAaK,QAAQjG,KAC9E,yBAAK/B,GAAG,8BAGZ,yBAAKA,GAAI,4BACL,kBAAC,GAAD,CAAuByD,iBAAkBxE,EAAMwE,iBACxBhD,QAASxB,EAAMwB,QACf+C,gBAAiBvE,EAAMuE,mBAGlD,yBAAKxD,GAAG,0BACJ,kBAAC,GAAD,CAAmByD,iBAAkBxE,EAAMwE,iBACxBhD,QAASxB,EAAMwB,QACfkH,aAAc1I,EAAM0I,aACpBE,cAAeA,EACfxB,mBAAoBpH,EAAMwB,QAC1B0H,gBAAiBlJ,EAAMkJ,sB,oBC7M/C+B,OA1Bf,SAAiCjL,GAC7B,IAAIkL,EAAY9H,IAAQA,QAAQ,SAAUpD,EAAMuE,gBAAgBrL,gBAAiB8G,EAAMwE,iBAAiBzI,mBACpG+E,EACI,yBAAKX,UAAWH,EAAMG,WAClB,uBAAGA,UAAU,cAAcH,EAAMoC,OACjC,kBAAC,KAAD,CACIF,MAAO,IAAKiJ,OAAQ,IACpB5K,MAAOP,EAAMuE,gBAAgBrL,gBAAiBkS,SAAUpL,EAAMqL,oBAAoBC,gBAAiBC,SAAUvL,EAAMqL,oBAAoBG,gBACvIC,iBAAkBP,EAClBQ,SAAU,EACVC,cAAe,CAAC,OAAO,QAAQ,OAC/BC,mBAAoB,CAAC5L,EAAMqL,oBAAoBC,gBAAiB,GAAI,GAAItL,EAAMqL,oBAAoBG,iBAClGK,oBAAqB,CACjB,CAACC,KAAM,WAAYC,SAAU,SAAU9J,MAAO,SAC9C,CAAC6J,KAAM,KAAMC,SAAU,SAAU9J,MAAO,SACxC,CAAC6J,KAAM,MAAOC,SAAU,SAAU9J,MAAO,aAQ7D,OAJkD,IAA9CjC,EAAMgM,iBAAiBjR,qBACvB+F,EAAM,sCAGFA,GCMGmL,OA5Bf,SAA8BjM,GAC1B,IAAIkL,EAAY9H,IAAQA,QAAQ,SAAUpD,EAAMuE,gBAAgBjL,kBAAmB0G,EAAMwE,iBAAiBrI,gBACtG2E,EACA,yBAAKX,UAAWH,EAAMG,WAClB,uBAAGA,UAAU,cAAcH,EAAMoC,OAC7B,kBAAC,KAAD,CACIF,MAAO,IAAKiJ,OAAQ,IACpB5K,MAAOP,EAAMuE,gBAAgBjL,kBAAmBiS,SAAUvL,EAAMqL,oBAAoBa,aACpFT,iBAAkBP,EAClBQ,SAAU,EACVC,cAAe,CAAC,OAAO,QAAQ,OAC/BC,mBAAoB,CAAC5L,EAAMqL,oBAAoBc,aAAcnM,EAAMqL,oBAAoBe,0BAA2BpM,EAAMqL,oBAAoBgB,2BAA4BrM,EAAMqL,oBAAoBa,cAClML,oBAAqB,CACjB,CAACC,KAAM,UAAWC,SAAU,SAAU9J,MAAO,SAC7C,CAAC6J,KAAM,KAAMC,SAAU,SAAU9J,MAAO,SACxC,CAAC6J,KAAM,GAAIC,SAAU,SAAU9J,MAAO,UAE1C9B,UAAWH,EAAMG,aAQrC,OAJyB,IAAjBH,EAAM+C,SACNjC,EAAM,sCAGNA,GCGOwL,OA7Bf,SAA8BtM,GAE1B,IAAIuM,EAAcvM,EAAMuE,gBAAgBkF,kBAAoBzJ,EAAMuE,gBAAgBO,kBAE9EoG,EADc9H,IAAQA,QAAQ,OAAQmJ,GACd,IAAIvM,EAAMwE,iBAAiBO,eACnDjE,EACA,yBAAKX,UAAWH,EAAMG,WAClB,uBAAGA,UAAU,cAAcH,EAAMoC,OACjC,kBAAC,KAAD,CACIF,MAAO,IAAKiJ,OAAQ,IACpB5K,MAAOgM,EAAYnB,UAAW,GAAIG,SAAU,GAC5CE,iBAAkBP,EAClBQ,SAAU,EACVC,cAAe,CAAC,MAAM,SACtBC,mBAAoB,EAAE,GAAI,EAAG,IAC7BC,oBAAqB,CACb,CAACC,KAAM,cAAeC,SAAU,SAAU9J,MAAO,SACjD,CAAC6J,KAAM,UAAWC,SAAU,SAAU9J,MAAO,UAErD9B,UAAWH,EAAMG,aAO7B,OAJqB,IAAjBH,EAAM+C,SACNjC,EAAM,sCAGFA,GCEG0L,OA5Bf,SAAwBxM,GAEpB,IAAIkL,EAAY9H,IAAQA,QAAS,OAAQpD,EAAMuE,gBAAgBqF,SAC3D9I,EACA,yBAAKX,UAAWH,EAAMG,WAClB,uBAAGA,UAAU,cAAcH,EAAMoC,OAC7B,kBAAC,KAAD,CACIF,MAAO,IAAKiJ,OAAQ,IACpB5K,MAAOP,EAAMuE,gBAAgBqF,QAASwB,SAAU,EAAGG,SAAU,EAC7DE,iBAAkBP,EAClBQ,SAAU,EACVC,cAAe,CAAC,MAAM,QAAQ,UAC9BC,mBAAoB,CAAC,EAAG,IAAK,IAAK,GAClCC,oBAAqB,CACjB,CAACC,KAAM,OAAQC,SAAU,SAAU9J,MAAO,SAC1C,CAAC6J,KAAM,KAAMC,SAAU,SAAU9J,MAAO,SACxC,CAAC6J,KAAM,OAAQC,SAAU,SAAU9J,MAAO,UAE9C9B,UAAWH,EAAMG,aAOjC,OAJqB,IAAjBH,EAAM+C,SACNjC,EAAM,sCAGFA,G,MCSG2L,OA9Bf,SAAgCzM,GAE5BpB,IAAI+B,MAAM,yBACV,IAAI+L,EAAetJ,IAAQA,QAAQ,OAAQpD,EAAMuE,gBAAgBmI,cAwBjE,OAtBC,kBAACpF,EAAA,EAAD,CAAMnH,UAAW,sBAAuBgC,MAAO,QAAS9B,UAAW,WAChEoH,MAAO,CACH,CAAErH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC/C,CAAEvH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACpG,CAAEvH,KAAM,uBAAwBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,uBAAwBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACtH,CAAEvH,KAAM,oBAAqBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,oBAAqBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAChH,CAAEvH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACpG,CAAEvH,KAAM,sBAAuBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,sBAAuBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACpH,CAAEvH,KAAM,mBAAoBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,mBAAoBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAElHC,QAAS,CAAC,SAAU,QAAS,WAC7BC,KAAM,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QACjDC,IAAK,WAEL,kBAACC,EAAA,EAAD,CAAKC,SAAU,eAAf,uBACA,kBAACD,EAAA,EAAD,CAAKC,SAAU,eAAf,gBAAgD,kBAACD,EAAA,EAAD,CAAKC,SAAU,eAAgB0E,EAA/B,IAA8C1M,EAAMwE,iBAAiBmI,oBACrH,kBAAC5E,EAAA,EAAD,CAAKC,SAAU,wBAAf,kBAA2D,kBAACD,EAAA,EAAD,CAAKC,SAAU,wBAAyBhI,EAAMqL,oBAAoBuB,2BAC5H,kBAAC7E,EAAA,EAAD,CAAKC,SAAU,qBAAf,sBAA4D,kBAACD,EAAA,EAAD,CAAKC,SAAU,qBAAsB,aAClG,kBAACD,EAAA,EAAD,CAAKC,SAAU,eAAf,iBAAiD,kBAACD,EAAA,EAAD,CAAKC,SAAU,eAAgBhI,EAAMwB,QAAQO,eAC9F,kBAACgG,EAAA,EAAD,CAAKC,SAAU,uBAAf,yBAAiE,kBAACD,EAAA,EAAD,CAAKC,SAAU,uBAAwBhI,EAAM6M,cAAcC,0BAC5H,kBAAC/E,EAAA,EAAD,CAAKC,SAAU,oBAAf,qBAA0D,kBAACD,EAAA,EAAD,CAAKC,SAAU,oBAAqBhI,EAAM6M,cAAcE,yBCc3GN,OA1Cf,SAAgCzM,GAC5B,IAkBA,EAAeoB,mBAlBE,CACb4L,MAAO,aACPC,cAAe,QACfC,gBAAiB,cACjBC,iBAAkB,MAClBC,YAAa,SACbC,UAAW,SACXC,aAAc,cACdC,iBAAkB,QAClBC,oBAAqB,cACrBC,gBAAiB,UACjBC,WAAY,MACZC,cAAe,MACfC,cAAe,MACfC,UAAW,MACXC,YAAa,SAGZC,EAAL,oBAoBA,OAjBI,kBAACzG,EAAA,EAAD,CAAMnH,UAAW,sBACXgC,MAAO,QACP9B,UAAW,WACXoH,MAAO,CACH,CAAErH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC/C,CAAEvH,KAAM,iBAAkBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,iBAAkBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzG,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACjH,CAAEvH,KAAM,sBAAuBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,sBAAuBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAEvHC,QAAS,CAAC,SAAS,QAAQ,WAC3BC,KAAM,CAAC,OAAO,OAAO,OAAO,OAAO,QACnCC,IAAK,WACC,kBAACC,EAAA,EAAD,CAAKC,SAAU,eAAf,iBACA,kBAACD,EAAA,EAAD,CAAKC,SAAU,kBAAf,iBAAoD,kBAACD,EAAA,EAAD,CAAKC,SAAU,kBAAmB+F,EAAOT,cAC7F,kBAACvF,EAAA,EAAD,CAAKC,SAAU,sBAAf,qBAA4D,kBAACD,EAAA,EAAD,CAAKC,SAAU,sBAAuB+F,EAAOb,iBACzG,kBAACnF,EAAA,EAAD,CAAKC,SAAU,uBAAf,sBAA8D,kBAACD,EAAA,EAAD,CAAKC,SAAU,uBAAwB+F,EAAOR,oBCUjHS,OA9Cf,SAAmChO,GAE/B,IAAIiO,EAAY,qCACbjO,EAAMgM,iBAAiBvQ,oBACtBwS,EAAY,oCAAE,kBAAClG,EAAA,EAAD,CAAKC,SAAU,oBAAf,cAAmD,kBAACD,EAAA,EAAD,CAAKC,SAAU,oBAAqBhI,EAAMuE,gBAAgB2J,gBAAgB,OAAO,YAEtJ,IAAIC,EAAc,qCACfnO,EAAMgM,iBAAiBxQ,sBACtB2S,EAAc,oCAAE,kBAACpG,EAAA,EAAD,CAAKC,SAAU,sBAAf,gBAAuD,kBAACD,EAAA,EAAD,CAAKC,SAAU,sBAAuBhI,EAAMuE,gBAAgB6J,kBAAkB,OAAO,YAEhK,IAAIC,EAAc,qCACdC,EAAc,qCACdC,EAAe,qCACfC,EAAW,GA8Bf,OA7BGxO,EAAMgM,iBAAiBnH,mBACrB2J,EAAWpL,IAAQA,QAAS,UAAWpD,EAAMuE,gBAAgBkF,kBAAmBzJ,EAAMwE,iBAAiBO,gBACxGuJ,EAAc,oCAAE,kBAACvG,EAAA,EAAD,CAAKC,SAAU,2BAAf,qBAAiE,kBAACD,EAAA,EAAD,CAAKC,SAAU,2BAA4BwG,IAC3HA,EAAWpL,IAAQA,QAAS,UAAWpD,EAAMuE,gBAAgBO,kBAAmB9E,EAAMwE,iBAAiBO,gBACxGsJ,EAAc,oCAAE,kBAACtG,EAAA,EAAD,CAAKC,SAAU,2BAAf,qBAAiE,kBAACD,EAAA,EAAD,CAAKC,SAAU,2BAA4BwG,IAC3HA,EAAWpL,IAAQA,QAAS,UAAWpD,EAAMuE,gBAAgBkF,kBAAkBzJ,EAAMuE,gBAAgBO,kBAAmB9E,EAAMwE,iBAAiBO,gBAChJwJ,EAAe,oCAAE,kBAACxG,EAAA,EAAD,CAAKC,SAAU,+BAAf,wBAAwE,kBAACD,EAAA,EAAD,CAAKC,SAAU,+BAAgCwG,KAIxI,kBAAClH,EAAA,EAAD,CAAMnH,UAAW,sBAAuBgC,MAAO,QAAS9B,UAAW,WAC7DoH,MAAO,CACH,CAAErH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC/C,CAAEvH,KAAM,mBAAoBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,mBAAoBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC7G,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACjH,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC3H,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC3H,CAAEvH,KAAM,8BAA+BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,8BAA+BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,kCAAmCsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE/MC,QAAS,CAAC,SAAS,QAAQ,WAC3BC,KAAM,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,QAC1CC,IAAK,WACP,kBAACC,EAAA,EAAD,CAAKC,SAAU,eAAf,YACCiG,EACAE,EACAG,EACAD,EACAE,ICNEE,OAjCf,SAAsCzO,GAClCpB,IAAI8P,KAAK,+BAAgC1O,EAAMoC,MAAO,YAAcpC,EAAMsD,OAE1E,IAAIxC,EAAK,GACL6N,EAAW,GAAD,OAAK3O,EAAMgI,SAAX,UACV4G,EAAW,GAAD,OAAK5O,EAAMgI,SAAX,UACV6G,EAAe,GAAD,OAAK7O,EAAMgI,SAAX,cAClB,IAAqB,IAAjBhI,EAAM+C,OACNjC,EAAM,oCACF,kBAACiH,EAAA,EAAD,CAAKC,SAAU2G,GAAa3O,EAAMoC,OAClC,kBAAC2F,EAAA,EAAD,CAAKC,SAAU4G,IACf,kBAAC7G,EAAA,EAAD,CAAKC,SAAU6G,SAEhB,CACH,IAAI1O,EAAY,GACO,OAApBH,EAAMK,YACLF,EAAU,qBAES,SAApBH,EAAMK,YACLF,EAAU,uBAEd,IAAIqO,EAAWpL,IAAQA,QAAS,UAAWpD,EAAMO,MAAOP,EAAMsD,OAE9DxC,EAAM,oCACF,kBAACiH,EAAA,EAAD,CAAKC,SAAU2G,GAAa3O,EAAMoC,OAClC,kBAAC2F,EAAA,EAAD,CAAKC,SAAU4G,GAAaJ,GAC5B,kBAACzG,EAAA,EAAD,CAAKC,SAAU6G,GACX,yBAAK1O,UAAWA,MAI5B,OAAQW,GCqBGgO,OApDf,SAAsC9O,GAiDlC,OA/CApB,IAAI+B,MAAM,8BAA8BX,EAAMuE,gBAAgBrL,iBAG1D,kBAACoO,EAAA,EAAD,CAAMnH,UAAW,sBACXgC,MAAO,QACP9B,UAAW,WACXoH,MAAO,CACH,CAAErH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC/C,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,8BAA+BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACjM,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,yBAA0BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAClL,CAAEvH,KAAM,wBAAyBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,wBAAyBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,4BAA6BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC1L,CAAEvH,KAAM,wBAAyBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,wBAAyBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,4BAA6BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC1L,CAAEvH,KAAM,mBAAoBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,mBAAoBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,uBAAwBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC3K,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,oBAAqBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAClK,CAAEvH,KAAM,iBAAkBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,iBAAkBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,qBAAsBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACrK,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,0BAA2BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,8BAA+BsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAChM,CAAEvH,KAAM,WAAYsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,WAAYsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAK,CAAEvH,KAAM,eAAgBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACnJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,IAAKC,IAAK,CAAC,EAAG,KAAO,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,IAAKC,IAAK,CAAC,EAAG,KAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,IAAKC,IAAK,CAAC,EAAG,KAC3J,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,IAAKC,IAAK,CAAC,EAAG,KAAO,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,IAAKC,IAAK,CAAC,EAAG,KAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,IAAKC,IAAK,CAAC,EAAG,MAE/JC,QAAS,CAAC,SAAU,QAAQ,WAC5BC,KAAM,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QACpFC,IAAK,WACP,kBAACC,EAAA,EAAD,CAAKC,SAAU,eAAf,eACA,kBAAC,GAAD,CAA6BjF,OAAQ/C,EAAMgM,iBAAiB/Q,qBAAsB+M,SAAU,oBAAqB5F,MAAM,oBAAoB7B,MAAOP,EAAMuE,gBAAgBnL,kBAC3IkK,MAAOtD,EAAMwE,iBAAiBzI,kBAAmBsE,UAAWL,EAAMuE,gBAAgB+E,8BAC/G,kBAAC,GAAD,CAA6BvG,OAAQ/C,EAAMgM,iBAAiBlR,gBAAiBkN,SAAU,eAAgB5F,MAAM,eAAe7B,MAAOP,EAAMuE,gBAAgBtL,aAC5HqK,MAAOtD,EAAMwE,iBAAiBzI,kBAAmBsE,UAAWL,EAAMuE,gBAAgBY,yBAC/G,kBAAC,GAAD,CAA6BpC,OAAQ/C,EAAMgM,iBAAiBjR,mBAAoBiN,SAAU,kBAAmB5F,MAAM,kBAAkB7B,MAAOP,EAAMuE,gBAAgBrL,gBACrIoK,MAAOtD,EAAMwE,iBAAiBzI,kBAAmBsE,UAAWL,EAAMuE,gBAAgBa,4BAC/G,kBAAC,GAAD,CAA6BrC,OAAQ/C,EAAMgM,iBAAiBhR,mBAAoBgN,SAAU,kBAAmB5F,MAAM,kBAAkB7B,MAAOP,EAAMuE,gBAAgBpL,gBACrImK,MAAOtD,EAAMwE,iBAAiBzI,kBAAmBsE,UAAWL,EAAMuE,gBAAgBc,4BAC/G,kBAAC,GAAD,CAA6BtC,OAAQ/C,EAAMgM,iBAAiB9Q,kBAAmB8M,SAAU,aAAc5F,MAAM,aAAa7B,MAAOP,EAAMuE,gBAAgBlL,WAC1HiK,MAAOtD,EAAMwE,iBAAiBzI,kBAAmBsE,UAAWL,EAAMuE,gBAAgB+F,uBAC/G,kBAAC,GAAD,CAA6BvH,OAAQ/C,EAAMgM,iBAAiBtQ,eAAgBsM,SAAU,UAAW5F,MAAM,UAAU7B,MAAOP,EAAMuE,gBAAgBqF,QACjHtG,MAAO,GAAIjD,UAAWL,EAAMuE,gBAAgBsF,oBACzE,kBAAC,GAAD,CAA6B9G,OAAQ/C,EAAMgM,iBAAiB7Q,yBAA0B6M,SAAU,WAAY5F,MAAM,WAAW7B,MAAOP,EAAMuE,gBAAgBjL,kBAC7HgK,MAAOtD,EAAMwE,iBAAiBrI,eAAgBkE,UAAWL,EAAMuE,gBAAgBe,8BAC5G,kBAAC,GAAD,CAA6BvC,OAAQ/C,EAAMgM,iBAAiB5Q,yBAA0B4M,SAAU,oBAAqB5F,MAAM,oBAAoB7B,MAAOP,EAAMuE,gBAAgBhL,kBAC/I+J,MAAOtD,EAAMwE,iBAAiBrI,eAAgBkE,UAAWL,EAAMuE,gBAAgBgF,8BAC5G,kBAAC,GAAD,CAA6BxG,OAAQ/C,EAAMgM,iBAAiBlQ,UAAWkM,SAAU,KAAM5F,MAAM,KAAK7B,MAAOP,EAAMuE,gBAAgBwK,GAClGzL,MAAOtD,EAAMwE,iBAAiBwK,SAAU3O,UAAWL,EAAMuE,gBAAgB0K,eACtG,kBAAC,GAAD,CAA6BlM,OAAQ/C,EAAMgM,iBAAiBpQ,WAAYoM,SAAU,MAAO5F,MAAM,MAAM7B,MAAOP,EAAMuE,gBAAgBxK,IACrGuJ,MAAOtD,EAAMwE,iBAAiBG,UAAWtE,UAAWL,EAAMuE,gBAAgBK,gBACvG,kBAAC,GAAD,CAA6B7B,OAAQ/C,EAAMgM,iBAAiBnQ,WAAYmM,SAAU,MAAO5F,MAAM,MAAM7B,MAAOP,EAAMuE,gBAAgBzK,IACrGwJ,MAAOtD,EAAMwE,iBAAiBC,UAAWpE,UAAWL,EAAMuE,gBAAgBG,kBCfpGwK,OAlCf,SAAsClP,GAElC,IAAI2O,EAAW,GAAD,OAAK3O,EAAMgI,SAAX,UACV4G,EAAW,GAAD,OAAK5O,EAAMgI,SAAX,UACV6G,EAAe,GAAD,OAAI7O,EAAMgI,SAAV,cAEd7H,EAAY,GACO,OAApBH,EAAMK,YACLF,EAAU,qBAES,SAApBH,EAAMK,YACLF,EAAU,uBAEd,IAAIqO,EAAW,GAmBf,MAlB2B,qBAAhBxO,EAAMO,QACbiO,EAAWpL,IAAQA,QAAS,UAAWpD,EAAMO,MAAOP,EAAMsD,SAIzC,IAAjBtD,EAAM+C,OAEA,qCAGA,oCACF,kBAACgF,EAAA,EAAD,CAAKC,SAAU2G,GAAa3O,EAAMoC,OAClC,kBAAC2F,EAAA,EAAD,CAAKC,SAAU4G,GAAaJ,GAC5B,kBAACzG,EAAA,EAAD,CAAKC,SAAU6G,GACX,yBAAK1O,UAAWA,OCIjBgP,OAhCf,SAA8BnP,GA6B1B,OA3BI,kBAACsH,EAAA,EAAD,CAAMnH,UAAW,sBACXgC,MAAO,QACP9B,UAAW,WACXoH,MAAO,CACH,CAAErH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC/C,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvJ,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAAM,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE3JC,QAAS,CAAC,SAAU,QAAQ,WAC5BC,KAAM,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QAC/DC,IAAK,WACP,kBAACC,EAAA,EAAD,CAAKC,SAAU,eAAf,OACA,kBAAC,GAAD,CAA6BA,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgB6K,cAAe9L,MAAOtD,EAAMuE,gBAAgB8K,oBAAqBhP,UAAWL,EAAMuE,gBAAgB+K,0BAC/L,kBAAC,GAAD,CAA6BtH,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgBgL,cAAejM,MAAOtD,EAAMuE,gBAAgBiL,oBAAqBnP,UAAWL,EAAMuE,gBAAgBkL,0BAC/L,kBAAC,GAAD,CAA6BzH,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgBmL,cAAepM,MAAOtD,EAAMuE,gBAAgBoL,oBAAqBtP,UAAWL,EAAMuE,gBAAgBqL,0BAC/L,kBAAC,GAAD,CAA6B5H,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgBsL,cAAevM,MAAOtD,EAAMuE,gBAAgBuL,oBAAqBzP,UAAWL,EAAMuE,gBAAgBwL,0BAC/L,kBAAC,GAAD,CAA6B/H,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgByL,cAAe1M,MAAOtD,EAAMuE,gBAAgB0L,oBAAqB5P,UAAWL,EAAMuE,gBAAgB2L,0BAC/L,kBAAC,GAAD,CAA6BlI,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgB4L,cAAe7M,MAAOtD,EAAMuE,gBAAgB6L,oBAAqB/P,UAAWL,EAAMuE,gBAAgB8L,0BAC/L,kBAAC,GAAD,CAA6BrI,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgB+L,cAAehN,MAAOtD,EAAMuE,gBAAgBgM,oBAAqBlQ,UAAWL,EAAMuE,gBAAgBiM,0BAC/L,kBAAC,GAAD,CAA6BxI,SAAU,MAAO5F,MAAM,YAAY7B,MAAOP,EAAMuE,gBAAgBkM,cAAenN,MAAOtD,EAAMuE,gBAAgBmM,oBAAqBrQ,UAAWL,EAAMuE,gBAAgBoM,4BCuC5LC,OA7Df,SAA2B5Q,GA0DvB,OAzDApB,IAAI+B,MAAM,oBAEV/B,IAAI8P,KAAK,qDAAuD1O,EAAMwE,iBAAiBC,WAEnF,kBAAC6C,EAAA,EAAD,CAAMnF,MAAO,QAAS9B,UAAW,WAC3BoH,MAAO,CACH,CAAErH,KAAM,cAAesH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC/C,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,WAAYsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC5C,CAAEvH,KAAM,gBAAiBsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACjD,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE3CC,QAAS,CAAC,SACVC,KAAM,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,SACvCC,IAAK,WAEP,kBAACC,EAAA,EAAD,CAAKC,SAAU,eACX,kBAAC,GAAD,CAA6BgE,iBAAkBhM,EAAMwB,QACxB+C,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMqL,oBAC3BwF,SAAU7Q,EAAM6Q,YAGjD,kBAAC9I,EAAA,EAAD,CAAKC,SAAU,SACX,kBAAC,GAAD,CAAuBxG,QAASxB,EAAMwB,QACf+C,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMqL,oBAC3BwF,SAAU7Q,EAAM6Q,SAChBhE,cAAe7M,EAAM6M,iBAEhD,kBAAC9E,EAAA,EAAD,CAAKC,SAAU,YACX,kBAAC,GAAD,CAA0BgE,iBAAkBhM,EAAMwB,QACxB+C,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMqL,oBAC3BwF,SAAU7Q,EAAM6Q,YAG9C,kBAAC9I,EAAA,EAAD,CAAKC,SAAU,iBACX,kBAAC,GAAD,CAA+BgE,iBAAkBhM,EAAMwB,QACxB+C,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMqL,oBAC3BwF,SAAU7Q,EAAM6Q,YAGnD,kBAAC9I,EAAA,EAAD,CAAKC,SAAU,OACX,kBAAC,GAAD,CAAqBgE,iBAAkBhM,EAAMwB,QACxB+C,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMqL,oBAC3BwF,SAAU7Q,EAAM6Q,cCMtCC,OA1Df,SAA0B9Q,GAuDtB,OAtDApB,IAAI8P,KAAK,gDAAkD1O,EAAMwE,iBAAiBC,WAK1E,kBAACkG,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM9K,EAAM4K,MAAMG,OAAOD,KAAKE,WAI1C,yBAAK7K,UAAU,qBACX,yBAAKA,UAAU,eACX,kBAAC,GAAD,CACwBoE,gBAAiBvE,EAAMuE,gBACvByH,iBAAkBhM,EAAMwB,QACxBgD,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMwB,QAAQ6J,oBACnCtI,OAAQ/C,EAAMwB,QAAQtI,gBACtBiH,UAAU,WAAWiC,MAAM,oBAEnD,kBAAC,GAAD,CACqBmC,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMwB,QAAQ6J,oBACnCtI,OAAQ/C,EAAMwB,QAAQrG,yBACtBgF,UAAU,cAAciC,MAAM,aAEnD,kBAAC,GAAD,CACqBmC,gBAAiBvE,EAAMuE,gBACvBC,iBAAkBxE,EAAMwE,iBACxBzB,OAAQ/C,EAAMwB,QAAQqD,iBACtB1E,UAAU,cAAciC,MAAM,4BAEnD,kBAAC,GAAD,CACemC,gBAAiBvE,EAAMuE,gBACvBxB,OAAQ/C,EAAMwB,QAAQ9F,eACtByE,UAAU,cAAciC,MAAM,aAGjD,yBAAKjC,UAAU,gBACX,kBAAC,GAAD,CACIoE,gBAAiBvE,EAAMuE,gBACvB/C,QAASxB,EAAMwB,QACf6J,oBAAqBrL,EAAMwB,QAAQ6J,oBACnC7G,iBAAkBxE,EAAMwE,iBACxBqM,SAAU7Q,EAAMwB,QAChBuP,MAAO/Q,EAAM+Q,MACblE,cAAe7M,EAAM6M,oBC7D1C,SAAemE,GAAtB,qC,8CAAO,WAAiCC,EAAMlS,GAAvC,SAAAmS,EAAA,6DACHtS,IAAI+B,MAAM,wCADP,kBAGI,IAAIwQ,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,iBAAAH,EAAA,sEACOI,MAAM,UAAUL,EAAK,IAAIlS,EAAK,0BADrC,YACVwS,EADU,QAEJC,GAFI,iCAGED,EAASE,OAHX,OAGRrJ,EAHQ,OAIZxJ,IAAI+B,MAAM,uBAAyBrB,KAAK6B,UAAUiH,IAClDgJ,EAAQhJ,GALI,wBAOZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QARL,4CAAb,0DAHJ,4C,sBAgBA,SAASC,GAAsBtG,EAAqBhE,GACvD,IAAK,IAAIuK,EAAI,EAAGA,EAAIvG,EAAoBwG,OAAQD,IAC5C,GAAIvG,EAAoBuG,GAAGvK,aAAeA,EACtC,OAAQgE,EAAoBuG,GAGpC,MAAO,GAGJ,SAAeE,GAAtB,yC,8CAAO,WAAwBb,EAAMlS,EAAMgT,EAAW/E,GAA/C,SAAAkE,EAAA,+EAEI,IAAIC,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACZc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,gBAAgBgT,EAAU,UAAU/E,EACtEpO,IAAI+B,MAAM,+BAA+BqR,GAFzB,SAGOV,MAAMU,GAHb,YAGVT,EAHU,QAIJC,GAJI,iCAKED,EAASE,OALX,OAKRrJ,EALQ,OAMZxJ,IAAI+B,MAAM,sBAAwBrB,KAAK6B,UAAUiH,IACjDgJ,EAAQhJ,GAPI,wBASZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QAVL,4CAAb,0DAFJ,4C,sBAkBA,SAAeO,GAAtB,qC,8CAAO,WAA8BhB,EAAMlS,GAApC,SAAAmS,EAAA,6DACHtS,IAAI+B,MAAM,qCADP,kBAGI,IAAIwQ,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,iBAAAH,EAAA,sEACOI,MAAM,UAAUL,EAAK,IAAIlS,EAAK,uBADrC,YACVwS,EADU,QAEJC,GAFI,iCAGED,EAASE,OAHX,OAGRrJ,EAHQ,OAIZxJ,IAAI+B,MAAM,oBAAsBrB,KAAK6B,UAAUiH,IAC/CgJ,EAAQhJ,GALI,wBAOZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QARL,4CAAb,0DAHJ,4C,sBAwBA,SAAeQ,GAAtB,uC,8CAAO,WAAwBjB,EAAMlS,EAAMoT,GAApC,SAAAjB,EAAA,6DACHtS,IAAI+B,MAAM,8BADP,kBAGI,IAAIwQ,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACZc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,aAAaoT,EAC/CvT,IAAI8P,KAAK,mBAAmBsD,GAFZ,SAGOV,MAAMU,GAHb,UAGVT,EAHU,OAKhB3S,IAAI+B,MAAM,8BACP4Q,EAASC,GANI,iCAQED,EAASE,OARX,OAQRrJ,EARQ,OAUZgJ,EAAQhJ,GAVI,wBAYZxJ,IAAI+B,MAAM,iBAAmB4Q,EAASG,QACtCL,EAAQE,EAASG,QAbL,4CAAb,0DAHJ,4C,sBA6BA,SAAeU,GAAtB,uC,8CAAO,WAAwBnB,EAAMlS,EAAMgT,GAApC,SAAAb,EAAA,6DACHvS,QAAQC,IAAI,8BADT,kBAGI,IAAIuS,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACZc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,gBAAgBgT,EAAU,QAC5DpT,QAAQC,IAAI,mBAAmBoT,GAFf,SAGOV,MAAMU,GAHb,UAGVT,EAHU,OAKhB3S,IAAI+B,MAAM,8BACP4Q,EAASC,GANI,iCAQED,EAASE,OARX,OAQRrJ,EARQ,OAUZgJ,EAAQhJ,GAVI,wBAYZxJ,IAAI+B,MAAM,iBAAmB4Q,EAASG,QACtCL,EAAQE,EAASG,QAbL,4CAAb,0DAHJ,4C,sBAuBA,SAAeW,GAAtB,yC,8CAAO,WAA+BpB,EAAMlS,EAAMgT,EAAWO,GAAtD,SAAApB,EAAA,6DACHtS,IAAI+B,MAAM,qCADP,kBAGI,IAAIwQ,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACZc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,gBAAgBgT,EAAU,WAC5DnT,IAAI+B,MAAMqR,GAFM,SAGOV,MAAMU,GAHb,UAGVT,EAHU,OAIhB3S,IAAI+B,MAAM,uBAAyBrB,KAAK6B,UAAUoQ,KAC/CA,EAASC,GALI,iCAMED,EAASE,OANX,OAMRrJ,EANQ,OASZgJ,EAAQhJ,GATI,wBAWZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QAZL,4CAAb,0DAHJ,4C,sBA+DA,IA0BMa,GAAc,SAAEtB,EAAMlS,EAAMyT,EAAQT,EAAWU,EAAYC,GAEpE,OAAO,IAAIvB,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACVc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,eAAeyT,EAAO,IAAIT,EAAU,WAAWU,EAAW,IAAIC,EAClG9T,IAAI+T,MAAM,qBAAuBX,GAFjB,SAGOV,MAAMU,EAAK,CAC9BY,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMxT,KAAK6B,UAAU,MART,YAGVoQ,EAHU,QAUJC,GAVI,iCAWED,EAASE,OAXX,OAWRrJ,EAXQ,OAcZgJ,EAAQhJ,GAdI,wBAgBZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QAjBL,4CAAb,0DAiFEqB,GAAU,uCAAG,WAAQ9B,EAAMlS,EAAMoT,EAAQa,GAA5B,SAAA9B,EAAA,6DACtBtS,IAAI+B,MAAM,kCADY,kBAGf,IAAIwQ,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACVc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,qBAAqBoT,EAAO,IAAIa,EACpEpU,IAAI+B,MAAM,YAAcqR,GAFR,SAGOV,MAAMU,EAAK,CAC9BY,OAAQ,MACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMxT,KAAK6B,UAAU,MART,YAGVoQ,EAHU,QAUJC,GAVI,iCAWED,EAASE,OAXX,OAWRrJ,EAXQ,OAYZxJ,IAAI+B,MAAMrB,KAAK6B,UAAUiH,IACzBxJ,IAAI+B,MAAM,eAAiBrB,KAAK6B,UAAUiH,IAC1CgJ,EAAQhJ,GAdI,wBAgBZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QAjBL,4CAAb,0DAHe,2CAAH,4DClPRuB,OAlDf,SAA4BjT,GACxB,MAAcoB,mBAASpB,EAAM+Q,OAAxBA,EAAL,oBAWImC,GAAgB,GACW,IAA3BlT,EAAMmT,mBACND,GAAc,GAElB,IAAIE,GAAgB,GACW,IAA3BpT,EAAMqT,mBACND,GAAc,GAElB,IAAIE,GAAmB,EA2BvB,OA1BkC,IAA9BtT,EAAMuT,sBACND,GAAiB,GAGX,oCACF,kBAAChM,EAAA,EAAD,CACIkM,OAAQ,SACRjM,QAAS,SACTpF,MAAO,UACP9B,UAAW,aACXmH,MAAI,EACJC,MAAO,CACH,CAAErH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,WAAYsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAEhDC,QAAS,CAAC,QAAQ,QAAQ,SAC1BC,KAAM,CAAC,QACPC,IAAK,SAGL,kBAAC9F,EAAA,EAAD,CAAQgG,SAAU,QAAS/F,MAAO,6BAA8BW,SAAUsQ,EAAehR,MAAO,SAAUC,MAAO,QAASsR,OAAQzT,EAAMmT,iBAAkB/Q,MAAO,QAASC,QAjCtL,WACIrC,EAAM0T,YAAY3C,MAiCV,kBAAC/O,EAAA,EAAD,CAAQgG,SAAU,QAAS/F,MAAO,6BAA8BW,SAAUwQ,EAAelR,MAAO,SAAUC,MAAO,QAASwR,KAAM,QAASF,OAAQzT,EAAMqT,iBAAkBjR,MAAO,QAASC,QArCrM,WACIrC,EAAM4T,iBAqCE,kBAAC5R,EAAA,EAAD,CAAQgG,SAAU,WAAY/F,MAAO,6BAA8BW,SAAU0Q,EAAkBpR,MAAO,SAAUC,MAAO,QAASsR,OAAQzT,EAAMuT,oBAAqBnR,MAAO,WAAYC,QAzClM,WACIrC,EAAM6T,uB,oBCuHCC,OArHf,SAAyB9T,GACrB,MAAkBoB,mBAAS9B,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,WAApDA,EAAP,oBACA,EAA2BJ,mBAAS,IAApC,mBAAO2S,EAAP,KAAcC,EAAd,KACA,EAA6B5S,oBAAS,GAA/B6S,EAAP,oBACA,EAAgC7S,oBAAS,GAAlC8S,EAAP,oBACA,EAA6B9S,oBAAS,GAA/B+S,EAAP,oBACA,EAAkB/S,mBAASpB,EAAMoU,SAA1BA,EAAP,oBACA,EAAkBhT,mBAASpB,EAAMsB,SAA1BA,EAAP,oBAUA+S,qBAAU,WACNzV,IAAI8P,KAAK,sBACM,uCAAG,4BAAAwC,EAAA,6DACdtS,IAAI+B,MAAM,aADI,SAIA0R,GAAe+B,EAAS9S,EAASE,EAAQuQ,UAAW,KAJpD,OAIV3J,EAJU,OAKdxJ,IAAI+B,MAAM,UAAYrB,KAAK6B,UAAUiH,IACrC4L,EAAU5L,GANI,2CAAH,oDAQfkM,KACD,IAEH1V,IAAI+B,MAAM,mBACV,MAAwBS,mBAAS,CAACkC,MAAO,WAAYiR,SAAU,QAASC,gBAAgB,CAAC,QAAQ,MAAO5J,MAAO5K,EAAM4K,QAAhH6J,EAAL,oBAEA,SAASC,EAAaC,GAElB,IAAIvU,EAAOuU,EAAInM,WACXjI,EAAQoU,EAAIC,YAChB,GAAiB,gBAAbD,EAAIhB,KAAwB,CAC5B,IAAIvL,EAAI9I,KAAKC,MAAMoV,EAAIE,SACvBjW,IAAI+B,MAAM,oBAAsBrB,KAAK6B,UAAUiH,IAC/ChI,EAAOgI,EAAE7K,YACTgD,GAAkB,IAAT6H,EAAEtF,GAAe,KAAK,MAGnC,OAAO,kBAACuD,EAAA,EAAD,CAAWyO,IAAKH,EAAII,SACvB,kBAACzO,EAAA,EAAD,KAAY0O,KAAOL,EAAIM,gBAAgBC,OAAO,QAC9C,kBAAC5O,EAAA,EAAD,KAAYqO,EAAIQ,iBAChB,kBAAC7O,EAAA,EAAD,KAAYqO,EAAIhB,MAChB,kBAACrN,EAAA,EAAD,KAAYlG,GACZ,kBAACkG,EAAA,EAAD,KAAY/F,GACZ,kBAAC+F,EAAA,EAAD,KAAYqO,EAAIrR,QA8BxB,IAAI8R,EAdUrB,EAAOsB,IAAIX,GAgDzB,OA9BI,kBAAC/J,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM2J,EAAgB7J,MAAMG,OAAOD,KAAKE,WAIpD,yBAAK7K,UAAU,qBACX,kBAACwI,EAAA,EAAD,CAAO5H,GAAG,gBACN,+BACA,kBAACsF,EAAA,EAAD,KACI,oCACA,yCACA,oCACA,0CACA,qCACA,sCAEH+O,IAGL,kBAAC,GAAD,CAAmB5T,QAASA,EAASkS,YApCjD,aAoC4EE,YAjC5E,aAkC+BC,eA/B/B,aAgC+BR,iBAAkBY,EAClBV,oBAAqBW,EACrBf,iBAAkBgB,O,mBCzBtCmB,OAjFf,SAAmCtV,GAE/BpB,IAAI+B,MAAM,4CAA8CX,EAAM4K,MAAMG,OAAOD,KAAKE,QAChF,MAA0B5J,mBAAS,CAACkC,MAAOtD,EAAMwE,iBAAiBlB,MAAOiR,SAAUvU,EAAMwE,iBAAiB+P,SAAUC,gBAAiBxU,EAAMwE,iBAAiBgQ,gBAAiB5J,MAAO5K,EAAM4K,MAAO2K,aAAcvV,EAAM4K,MAAMG,OAAOD,KAAKE,SAAvO,mBAAK+C,EAAL,KAAayH,EAAb,KACA,EAAwBpU,mBAAS,IAAjC,mBAAKyJ,EAAL,KAAY4K,EAAZ,KACA,EAAmCrU,mBAAS9B,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAM4K,SAA5E,mBAAK8K,EAAL,KAAkBC,EAAlB,KACA,EAA8CvU,oBAAS,GAAvD,mBAAK+R,EAAL,KAAuByC,EAAvB,KACA,EAA8CxU,oBAAS,GAAvD,mBAAKiS,EAAL,KAAuBwC,EAAvB,KACA,EAA4BzU,oBAAS,GAAhCmS,EAAL,oBAEInL,EAAI,GAQR,SAASwL,IACL4B,EAAUlW,KAAKC,MAAMD,KAAK6B,UAAU4M,KACpC8H,GAAoB,GAGxB,SAASC,EAAa1N,EAAG2N,GACrBP,EAAUpN,GACVyN,EAAoBE,GACpBH,EAAoBG,GAoDxB,OAnEoB,IAAjBlL,EAAMgH,SACLmE,GAASC,SAAQ,SAAUC,GACvB9N,EAAE+N,KAAKD,EAAKlL,WAEhByK,EAASrN,IAoCbxJ,IAAI8P,KAAK,mDAAqDgH,EAAY3K,OAAOD,KAAKE,QACtFpM,IAAI8P,KAAK,uEAAyE1O,EAAM4K,MAAMG,OAAOD,KAAKE,QAEtG,kBAACL,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM4K,EAAY3K,OAAOD,KAAKE,WAI1C,yBAAK7K,UAAU,qBACP,kBAACwI,EAAA,EAAD,CAAO5H,GAAG,gBACN,+BACC,kBAACsF,EAAA,EAAD,KACG,kBAACC,EAAA,EAAD,CAAWnG,UAAW,cAAtB,YAAwD,kBAACmG,EAAA,EAAD,CAAWnG,UAAW,cAAc,kBAAC8H,EAAA,EAAD,CAAQ3H,QAASyN,EAAOyG,gBAAiBjU,MAAOwN,EAAOwG,SAAU9T,SArCrL,SAAoCF,GAChC6H,EAAI2F,EACJA,EAAOwG,SAAWhU,EAClBuV,EAAa1N,GAAE,QAoCC,kBAAC/B,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,oBAAmC,kBAACA,EAAA,EAAD,CAAWnG,UAAW,cAAc,kBAAC8H,EAAA,EAAD,CAAQ3H,QAASuK,EAAOtK,MAAOwN,EAAOwH,aAAc9U,SAAU,mBAlC7J,SAAgCF,GAC5B,IAAI6H,EAAI2F,EACR3F,EAAEmN,aAAehV,EACjBP,EAAMoW,kBAAkBrI,EAAOwH,cAC/B,IAAIc,EAAIX,EACRW,EAAEtL,OAAOD,KAAKE,OAASzK,EACvBoV,EAAcU,GACdP,EAAa1N,GAAE,GA2B0JkO,CAAhB,EAAGnO,aAE5I,kBAAC9B,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAWiQ,QAAS,GAAG,kBAAC,GAAD,CAAmBpD,iBAAkBA,EAAkBE,iBAAkBA,EAAkBE,oBAAqBA,EAAqBG,YA3BpL,WACI1T,EAAMwW,kBAAkBzI,EAAOwH,cAC/BM,GAAoB,GACpBD,GAAoB,IAwBkM/B,eAAgBD,EAAaA,YAAaA,W,qCCoczP6C,OArdf,SAAmCzW,GAC/BpB,IAAI+B,MAAM,qDAAqDX,EAAMwE,kBACrE,MAAkCpD,mBAASpB,EAAMwB,SAAjD,mBAAK0F,EAAL,KAAoBC,EAApB,KACA,EAA+C/F,oBAAS,GAAxD,mBAAK6S,EAAL,KAAwB4B,EAAxB,KACA,EAA8BzU,oBAAS,GAAlC8S,EAAL,oBACA,EAA+C9S,oBAAS,GAAxD,mBAAK+S,EAAL,KAAwByB,EAAxB,KAgBA,SAASc,EAAYC,GACjBxP,EAAWwP,GACXf,GAAoB,GACpBC,GAAoB,GAqBxB,SAASe,EAAaD,GAClB/X,IAAI+B,MAAM,mBAAmBrB,KAAK6B,UAAUwV,IAC5C,IAAIvO,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAE9BkB,EAAEyO,WADI,KAANF,EACe,GAEAG,OAAOH,GAE1BD,EAAYtO,GAuHhB,SAAS2O,IACL,IAAI3O,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEtL,YAAcsL,EAAEtL,WAClB4Z,EAAYtO,GAmShB,OArNAxJ,IAAI+B,MAAM,4FAA6FX,EAAMwB,QAAQ7E,YAEjH,kBAACgO,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM9K,EAAM4K,MAAMG,OAAOD,KAAKE,WAI9C,yBAAK7K,UAAU,qBACf,kBAACwI,EAAA,EAAD,CAAO5H,GAAI,gBACK,+BACA,kBAACsF,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,sBACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,aACX,+BACA,kBAAClQ,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,aAAgB,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOP,EAAMwB,QAAQwR,aAAcvS,SAAU,SAAAjG,GAAK,OAAIoc,EAAapc,EAAMkG,OAAOH,eAKvH,kBAAC+F,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,wBACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,oBACX,+BAEA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAAC,KAAD,CAAkBlG,KAAK,iBAC9BE,QAASN,EAAMwE,iBAAiB0S,kBAChC3W,MAAOP,EAAMwB,QAAQ2V,eACrB1W,SAAU,SAAAjG,GAAK,OAlQ7D,SAA0Bmc,GACtB/X,IAAI+B,MAAM,uBAAuBrB,KAAK6B,UAAUwV,IAChD,IAAIvO,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,UACxC4G,EAAE+O,eAAiBR,EACnBD,EAAYtO,GA8PiDgP,CAAiB5c,EAAMkG,OAAOH,eAMvE,kBAAC+F,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,oBACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,gBACX,+BACA,kBAAClQ,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,wCAA2C,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOP,EAAMwB,QAAQ6V,iCAAkC5W,SAAU,SAAAjG,GAAK,OAhPxImc,EAgP2Jnc,EAAMkG,OAAOH,MA/O5L3B,IAAI0Y,MAAM,qBAAqBhY,KAAK6B,UAAUwV,GAAI,yBAElDD,EADQpX,KAAKC,MAAMD,KAAK6B,UAAU+F,KAFtC,IAAwByP,OAkPQ,kBAACtQ,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,4CAA+C,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOP,EAAMwB,QAAQ+V,uCAAwC9W,SAAU,SAAAjG,GAAK,OA9O/Imc,EA8OqKnc,EAAMkG,OAAOH,MA7OzM3B,IAAI0Y,MAAM,wBAAwBhY,KAAK6B,UAAUwV,GAAI,yBAErDD,EADQpX,KAAKC,MAAMD,KAAK6B,UAAU+F,KAFtC,IAA2ByP,WAoPP,kBAACtQ,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,kBACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,cACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,sBAAsB3B,SAvF3F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE5M,qBAAuB4M,EAAE5M,oBAC3Bkb,EAAYtO,IAoF8GqP,QAASvQ,EAAc1L,wBACrH,kBAAC6K,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,oBAAoB3B,SA9FzF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE3M,mBAAqB2M,EAAE3M,kBACzBib,EAAYtO,IA2F0GqP,QAASvQ,EAAczL,yBAIzH,kBAAC6K,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,cACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,oBACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KACN,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,2BAA2B3B,SA5H/E,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEsP,iBAAmBtP,EAAEsP,gBACvBhB,EAAYtO,IAyH+FqP,QAASvQ,EAAcwQ,oBAEtG,kBAACrR,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACA,kBAACqC,EAAA,EAAD,KACI,+BACA,kBAACtC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KAAY,kBAAC7D,EAAA,EAAD,iCACZ,kBAAC6D,EAAA,EAAD,KAAY,kBAAC2Q,GAAA,EAAD,CAAWU,KAAK,SAASpX,MAAOP,EAAMwB,QAAQoW,aAAcnX,SAAU,SAAAjG,GAAK,OArQ7Gmc,EAqQ8Hnc,EAAMkG,OAAOH,MApQ7J3B,IAAI0Y,MAAM,mBAAmBhY,KAAK6B,UAAUwV,GAAI,yBAEhDD,EADQpX,KAAKC,MAAMD,KAAK6B,UAAU+F,KAFtC,IAAsByP,WA2QU,kBAACtQ,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACqC,EAAA,EAAD,KACI,+BACA,kBAACtC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KAAY,kBAAC7D,EAAA,EAAD,kCACZ,kBAAC6D,EAAA,EAAD,KAAY,kBAAC2Q,GAAA,EAAD,CAAWU,KAAK,SAASpX,MAAOP,EAAMwB,QAAQqW,aAAcpX,SAAU,SAAAjG,GAAK,OA5QjHmc,EA4QkInc,EAAMkG,OAAOH,MA3QjK3B,IAAI0Y,MAAM,mBAAmBhY,KAAK6B,UAAUwV,GAAI,yBAEhDD,EADQpX,KAAKC,MAAMD,KAAK6B,UAAU+F,KAFtC,IAAsByP,WAkRU,kBAACtQ,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACqC,EAAA,EAAD,KACI,+BACA,kBAACtC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KAAY,kBAAC7D,EAAA,EAAD,oCACZ,kBAAC6D,EAAA,EAAD,KAAY,kBAAC2Q,GAAA,EAAD,CAAWU,KAAK,SAASpX,MAAOP,EAAMwB,QAAQsW,aAAcrX,SAAU,SAAAjG,GAAK,OAnRjHmc,EAmRkInc,EAAMkG,OAAOH,MAlRjK3B,IAAI0Y,MAAM,mBAAmBhY,KAAK6B,UAAUwV,GAAI,yBAEhDD,EADQpX,KAAKC,MAAMD,KAAK6B,UAAU+F,KAFtC,IAAsByP,cA4RE,kBAACrQ,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,cACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,kBACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,4BAA4B3B,SAxIjG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEvD,kBAAoBuD,EAAEvD,iBACxB6R,EAAYtO,IAqIkHqP,QAASvQ,EAAcrC,yBAKrI,kBAACwB,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAW0Q,OAAQ,UACf,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,eACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,WACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,mBAAmB3B,SA5IxF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE9K,iBAAmB8K,EAAE9K,gBACvBoZ,EAAYtO,IAyIwGqP,QAASvQ,EAAc5J,oBAC/G,kBAAC+I,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,aAAc3B,SAvInF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE/K,kBAAoB+K,EAAE/K,iBACxBqZ,EAAYtO,IAoIoGqP,QAASvQ,EAAc7J,qBAC3G,kBAACgJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,QAAQ3B,SAlI7E,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEhL,aAAegL,EAAEhL,YACnBsZ,EAAYtO,IA+HyFqP,QAASvQ,EAAc9J,gBAChG,kBAACiJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,iCAAiC3B,SAlMtG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE9M,uBAAyB8M,EAAE9M,sBAC7Bob,EAAYtO,IA+L2HqP,QAASvQ,EAAc5L,0BAClI,kBAAC+K,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,iCAAiC3B,SA7LtG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAC,uBAA6BA,EAAC,sBAC/BsO,EAAYtO,IA0L2HqP,QAASvQ,EAAc3L,6BAI1I,kBAAC+K,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAQ5H,GAAG,kBACP,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,SACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,aAAa3B,SAnRlF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEpL,YAAcoL,EAAEpL,WAClB0Z,EAAYtO,IAgR6FqP,QAAUvQ,EAAclK,eACrG,kBAACqJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,aAAa3B,SAhTlF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEzL,YAAcyL,EAAEzL,WAClB+Z,EAAYtO,IA6S8FqP,QAASvQ,EAAcvK,eACrG,kBAAC0J,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,2BAA2B3B,SAzQhG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEjN,0BAA4BiN,EAAEjN,yBAChCub,EAAYtO,IAsQwHqP,QAAUvQ,EAAc/L,6BAChI,kBAACkL,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,qBAAqB3B,SA7L1F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAExM,YAAcwM,EAAExM,WAClB8a,EAAYtO,IA0LqGqP,QAAUvQ,EAActL,eAC7G,kBAACyK,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,qBAAqB3B,SAzL1F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEvM,YAAcuM,EAAEvM,WAClB6a,EAAYtO,IAsLqGqP,QAAUvQ,EAAcrL,eAC7G,kBAACwK,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,cAAc3B,SA9RnF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEnL,aAAemL,EAAEnL,YACnByZ,EAAYtO,IA2R+FqP,QAAUvQ,EAAcjK,gBACvG,kBAACoJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,2BAA2B3B,SAvQhG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEhN,0BAA4BgN,EAAEhN,yBAChCsb,EAAYtO,IAoQwHqP,QAAUvQ,EAAc9L,gCAIxI,kBAACkL,EAAA,EAAD,CAAY0Q,OAAQ,UAChB,kBAACrO,EAAA,EAAD,CAAQ5H,GAAG,qBACP,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,UACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,SAAS3B,SA3O9E,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEvL,QAAUuL,EAAEvL,OACd6Z,EAAYtO,IAwOsFqP,QAAUvQ,EAAcrK,WAC9F,kBAACwJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,sBAAsB3B,SApQ3F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEtN,iBAAmBsN,EAAEtN,gBACvB4b,EAAYtO,IAiQ2GqP,QAAUvQ,EAAcpM,oBACnH,kBAACuL,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,yBAAyB3B,SA/P9F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAErN,oBAAsBqN,EAAErN,mBAC1B2b,EAAYtO,IA4PiHqP,QAAUvQ,EAAcnM,uBACzH,kBAACsL,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,yBAAyB3B,SA1P9F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEpN,oBAAsBoN,EAAEpN,mBAC1B0b,EAAYtO,IAuPiHqP,QAAUvQ,EAAclM,uBACzH,kBAACqL,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,2BAA2B3B,SA7QhG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEnN,sBAAwBmN,EAAEnN,qBAC5Byb,EAAYtO,IA0QqHqP,QAAUvQ,EAAcjM,6BAKzI,kBAACoL,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAW0Q,OAAQ,UACf,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,aACV,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,eACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,eAAkB,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOP,EAAMwB,QAAQqV,WAAYpW,SAAU,SAAAjG,GAAK,OAAIoc,EAAapc,EAAMkG,OAAOH,UAChHP,EAAMwE,iBAAiBgG,iBADlB,MAEV,kBAACnE,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,cAAiB,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOP,EAAMwB,QAAQuW,UAAWtX,SAAU,SAAAjG,GAAK,OA/XjH,SAAqBmc,GACjB/X,IAAI+B,MAAM,kBAAkBrB,KAAK6B,UAAUwV,IAC3C,IAAIvO,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAE9BkB,EAAE2P,UADI,KAANpB,EACc,GAEAG,OAAOH,GAEzBD,EAAYtO,GAuXqG4P,CAAYxd,EAAMkG,OAAOH,UAC7GP,EAAMwE,iBAAiByT,gBADlB,SAMd,kBAAC3R,EAAA,EAAD,CAAW0Q,OAAQ,UACf,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,eACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,WACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,kBAAkB3B,SAAUsW,EAAiBU,QAASvQ,EAAcgR,oBACzG,kBAAC7R,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,aAAa3B,SAAUsW,EAAiBU,QAASvQ,EAAcpK,eACpG,kBAACuJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,6BAA6B3B,SAvTlG,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE/M,oBAAsB+M,EAAE/M,mBAC1Bqb,EAAYtO,IAoToHqP,QAASvQ,EAAc7L,uBAC3H,kBAACgL,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,eAAe3B,SAhVpF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAExL,cAAgBwL,EAAExL,aACpB8Z,EAAYtO,IA6UiGqP,QAASvQ,EAActK,iBACxG,kBAACyJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,uBAAuB3B,SA/Q5F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAElN,mBAAqBkN,EAAElN,kBACzBwb,EAAYtO,IA4Q8GqP,QAASvQ,EAAchM,yBAI7H,kBAACoL,EAAA,EAAD,CAAW0Q,OAAQ,UACf,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,mBACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,oBACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,eAAe3B,SArQpF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAErL,UAAYqL,EAAErL,SAChB2Z,EAAYtO,IAkQ6FqP,QAASvQ,EAAcnK,aACpG,kBAACsJ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,yBAAyB3B,SApV9F,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAE1M,gBAAkB0M,EAAE1M,eACtBgb,EAAYtO,IAiV4GqP,QAASvQ,EAAcxL,mBACnH,kBAAC2K,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,eAAe3B,SAtOpF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEtM,WAAasM,EAAEtM,UACjB4a,EAAYtO,IAmO8FqP,QAASvQ,EAAcpL,kBAMjH,kBAACuK,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAW0Q,OAAQ,UACf,kBAACrO,EAAA,EAAD,CAAO5H,GAAG,kBACN,+BAAO,4BAAI,wBAAIZ,UAAU,sBAAsBoW,QAAQ,KAA5C,cACX,+BACA,kBAAClQ,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,KAAW,kBAACkR,GAAA,EAAD,CAAUpV,MAAM,mBAAmB3B,SA3WxF,WACI,IAAI2H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU+F,IAClCkB,EAAEzM,eAAiByM,EAAEzM,cACrB+a,EAAYtO,IAwWsGqP,QAASvQ,EAAcvL,wBAOrI,kBAAC,GAAD,CAAmBoV,MAAQ7J,EAAewM,YAnclD,WACIkC,GAAoB,GACpBC,GAAoB,GACpB7V,EAAMiK,kBAAkB/C,IAgciD0M,YA7b7E,WACIgC,GAAoB,GACpBC,GAAoB,GACpB,IAAIzN,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,UACxC2F,EAAWiB,IA0bYiL,iBAAkBY,EAClBV,oBAAqBW,EACrBf,iBAAkBgB,O,OCtYlCgE,OA1Hf,SAA6BnY,GACzB,MAAkBoB,mBAAS9B,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,WAApDA,EAAP,oBACA,EAA6BJ,oBAAS,GAA/B6S,EAAP,oBACA,EAAgC7S,oBAAS,GAAlC8S,EAAP,oBACA,EAA6B9S,oBAAS,GAA/B+S,EAAP,oBACA,EAA4C/S,qBAA5C,mBAAOgX,EAAP,KAAuBC,EAAvB,KACA,EAAsCjX,qBAAtC,mBAAOkX,EAAP,KAAoBC,EAApB,KACA,EAAkBnX,mBAASpB,EAAMQ,SAA1BA,EAAP,oBACA,EAAkBY,mBAASpB,EAAMoU,SAA1BA,EAAP,oBACA,EAAkBhT,mBAASpB,EAAMsB,SAA1BA,EAAP,oBAEA+S,qBAAU,YACS,uCAAG,4BAAAnD,EAAA,sEACAF,GAAkBoD,EAAS9S,GAD3B,cACV8G,EADU,OAEdxJ,IAAI+B,MAAM,cAAgBrB,KAAK6B,UAAUiX,IACzCC,EAAkBjQ,EAAEgQ,iBAHN,SAIJnG,GAAemC,EAAS9S,GAJpB,OAId8G,EAJc,OAKdxJ,IAAI+B,MAAM,WAAarB,KAAK6B,UAAUmX,IACtCC,EAAenQ,EAAEkQ,cANH,4CAAH,qDAQfhE,KACD,CAAC9T,IAEJ5B,IAAI+B,MAAM,sBACV,MAAwBS,mBAAS,CAACkC,MAAO,WAAYiR,SAAU,QAASC,gBAAgB,CAAC,QAAQ,MAAO5J,MAAO5K,EAAM4K,QAAhH6J,EAAL,oBAUA,SAAS+D,EAAmBC,EAAQC,EAAOC,GACvC,MAA2B,SAAvBF,EAAOG,YACAH,EAAO5d,YAAc,IAErB4d,EAAO5d,YAAc,IAAM4d,EAAOzf,iBAAmB,IAIpE,SAAS6f,EAAoB/f,GACzB,OAAQA,EAAOggB,iBAAiBzD,IAAImD,GAGxC,SAASO,EAAcpE,EAAK+D,EAAOC,GAC/B,OAAO,kBAACtS,EAAA,EAAD,CAAWyO,IAAKH,EAAI7b,OAAOkgB,UAC9B,kBAAC1S,EAAA,EAAD,KAAYqO,EAAIsE,OAAOC,UACvB,kBAAC5S,EAAA,EAAD,KAAYqO,EAAI7b,OAAOqgB,gBACvB,kBAAC7S,EAAA,EAAD,KAAYqO,EAAI7b,OAAOsgB,aACvB,kBAAC9S,EAAA,EAAD,KAzBR,SAAqBxN,GACjB,MAA2B,SAAvBA,EAAO8f,YACA,GAEA9f,EAAOugB,QAAU,IAqBZC,CAAW3E,EAAI7b,SAC3B,kBAACwN,EAAA,EAAD,KAAYqO,EAAI4E,UAkCxB,IAAIC,EAhCJ,WAGI,IADA,IAAIb,EAAM,GACDc,EAAe,EAAGA,EAAejY,EAAQkY,iBAAiB7H,OAAQ4H,IACvE,IAAK,IAAIE,EAAe,EAAGA,EAAenY,EAAQkY,iBAAiBD,GAAcG,QAAQ/H,OAAQ8H,IAC9FhB,EAAIxC,KAAK,CAAC+C,SAAU1X,EAAQkY,iBAAiBD,GAAe3gB,OAAQ0I,EAAQkY,iBAAiBD,GAAcG,QAAQD,GAC9GJ,QAASV,EAAoBrX,EAAQkY,iBAAiBD,GAAcG,QAAQD,IAAgBV,OAAQzX,EAAQkY,iBAAiBD,KAKzI,OAFA7a,IAAI+B,MAAM,SAAWrB,KAAK6B,UAAUwX,IAC1BA,EAAItD,IAAI0D,GAsBJc,GAiClB,OA7BI,kBAAClP,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM2J,EAAgB7J,MAAMG,OAAOD,KAAKE,WAIpD,yBAAK7K,UAAU,qBACX,kBAACwI,EAAA,EAAD,CAAO5H,GAAG,gBACN,+BACA,kBAACsF,EAAA,EAAD,KACI,sCACA,yCACA,2CACA,uCACA,iDAEHmT,IAGL,kBAAC,GAAD,CAAmBhY,QAASA,EAASkS,YAnCjD,aAmC4EE,YAhC5E,aAiC+BC,eA9B/B,aA+B+BR,iBAAkBY,EAClBV,oBAAqBW,EACrBf,iBAAkBgB,O,6BChCtC2F,OA9Ff,SAA8B9Z,GAE1B,IAAIM,EAAU,CACd,CAACF,KAAM,QAAS2Z,MAAO,IACvB,CAAC3Z,KAAM,cAAe2Z,MAAO,IAC7B,CAAC3Z,KAAM,eAAgB2Z,MAAO,IAC9B,CAAC3Z,KAAO,eAAgB2Z,MAAO,IAC/B,CAAC3Z,KAAO,eAAgB2Z,MAAO,IAC/B,CAAC3Z,KAAO,cAAe2Z,MAAO,GAC9B,CAAC3Z,KAAO,SAAU2Z,MAAO,IAkFzB,OAzCAnb,IAAI+B,MAAM,wBAA0BrB,KAAK6B,UAAUnB,EAAMoH,qBAC/C,oCACN,kBAACE,EAAA,EAAD,CACInF,MAAO,UACP9B,UAAW,aACXmH,MAAI,EACJC,MAAO,CACH,CAACrH,KAAM,OAAQsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAACvH,KAAM,WAAYsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC3C,CAACvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACxC,CAACvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE5CC,QAAS,CAAC,QAAS,QAAS,QAAS,SACrCC,KAAM,CAAC,QACPC,IAAI,WAGJ,kBAACC,EAAA,EAAD,CAAK7F,MAAO,QAASC,MAAO,QAAS6F,SAAS,QAA9C,aAEI,kBAACC,EAAA,EAAD,CAAQ3H,QAAS0Z,GAAoBzZ,MAAOP,EAAMoH,mBAAmB6S,mBAC7DxZ,SAzBI,SAAAjG,GAAK,OAlC7B,SAA2B+F,GACvB,IAAI6H,EAAIpI,EAAMoH,mBACdgB,EAAE6R,mBAAqB1Z,EACvBP,EAAMka,8BAA8B9R,GA+BP+R,CAAkB3f,EAAMkG,OAAOH,WA2BxD,kBAACwH,EAAA,EAAD,CAAK7F,MAAO,QAASC,MAAO,SAAU6F,SAAS,YAA/C,iBAEI,kBAACC,EAAA,EAAD,CAAQ3H,QAAS8Z,GACT7Z,MAAOP,EAAMoH,mBAAmBwF,0BAChCnM,SA7BQ,SAAAjG,GAAK,OA7BjC,SAA+B+F,GAC3B,IAAI6H,EAAIpI,EAAMoH,mBACdgB,EAAEwE,0BAA4BrM,EAC9B,IAAK,IAAIqR,EAAI,EAAGA,EAAItR,EAAQuR,OAAQD,IAChC,GAAItR,EAAQsR,GAAGxR,OAASG,EAAQ,CAC5B6H,EAAEiS,eAAiB/Z,EAAQsR,GAAGmI,MAC9B,MAGR/Z,EAAMka,8BAA8B9R,GAoBHkS,CAAsB9f,EAAMkG,OAAOH,WA+BhE,kBAACwH,EAAA,EAAD,CAAK7F,MAAO,QAASC,MAAO,QAAS6F,SAAS,SAA9C,iBAEI,kBAACiP,GAAA,EAAD,CAAW1W,MAAOP,EAAMoH,mBAAmBiT,eAChC5Z,SAnCI,SAAAjG,GAAK,OARhC,SAA8B+F,GAC1B,IAAI6H,EAAIpI,EAAMoH,mBACdgB,EAAEiS,eAAiB9Z,EACnBP,EAAMka,8BAA8B9R,GAKJmS,CAAqB/f,EAAMkG,OAAOH,WAqC9D,kBAACwH,EAAA,EAAD,CAAK7F,MAAO,QAASC,MAAO,QAAS6F,SAAS,SAA9C,mBAEI,kBAACiP,GAAA,EAAD,CAAW1W,MAAOP,EAAMoH,mBAAmBoT,oBACnC/Z,SAtCM,SAAAjG,GAAK,OAjB/B,SAA6B+F,GACzB,IAAI6H,EAAIpI,EAAMoH,mBACdgB,EAAEoS,oBAAsBja,EACxBP,EAAMka,8BAA8B9R,GAcLqS,CAAoBjgB,EAAMkG,OAAOH,c,yCCMzDma,OAtDf,SAAwC1a,GAMpC,IACMsD,EAAQtD,EAAMwE,iBAAiBzI,kBAC/B4e,EAAM3a,EAAMoH,mBAAmBwT,sBAC/Bnb,EAAMO,EAAMoH,mBAAmByT,sBAE/BC,EAA2B9a,EAAMoH,mBAAmB0T,yBAE1D,OACQ,kBAACxT,EAAA,EAAD,CACInF,MAAO,UACPqF,MAAI,EACJC,MAAO,CACH,CAAErH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,OAAQsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACxC,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAAEvH,KAAM,SAAUsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC1C,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE7CC,QAAS,CAAC,OAAQ,OAAQ,QAAS,QACnCC,KAAM,CAAC,OAAO,OAAQ,QACtBC,IAAI,WAEJ,kBAACC,EAAA,EAAD,CAAKC,SAAS,QAAQ/F,MAAO,SAAW8Y,MAAM,UACzC/a,EAAMoC,OAGX,kBAAC2F,EAAA,EAAD,CAAKC,SAAS,OAAQT,QAAS,UAC3B,kBAACyT,GAAA,EAAD,CAAOC,IAAKC,QAEhB,kBAACnT,EAAA,EAAD,CAAKC,SAAS,MAAMT,QAAS,UAAWoT,EAAKrX,GAC7C,kBAACyE,EAAA,EAAD,CAAKC,SAAS,SAAUT,QAAS,SAAU4T,gBAAe,UAClD,kBAACC,GAAA,EAAD,CACI/a,UAAU,aACVsa,IAAKA,EACLlb,IAAKA,EACL4b,KAAM,EACN9a,MAAOua,EACPra,SAtCH,SAAAjG,GAAK,OAL1B,SAAkB+F,GACd,IAAI6H,EAAIpI,EAAMoH,mBACdgB,EAAE0S,yBAAyBva,EAC3BP,EAAMka,8BAA8B9R,GAEVkT,CAAS9gB,EAAMkG,OAAOH,WAyCxC,kBAACwH,EAAA,EAAD,CAAKC,SAAS,MAAMT,QAAS,UAAW9H,EAAK6D,GAC7C,kBAACyE,EAAA,EAAD,CAAKC,SAAS,QAAQT,QAAS,SAAUwT,MAAM,UAC1CD,EAA0BxX,KCKhCiY,OAtDf,SAAsCvb,GAMlC,IACMsD,EAAQtD,EAAMwE,iBAAiBzI,kBAC/B4e,EAAM3a,EAAMoH,mBAAmBkE,gBAC/B7L,EAAMO,EAAMoH,mBAAmBoE,gBAE/BgQ,EAAqBxb,EAAMoH,mBAAmBoU,mBAEpD,OACI,kBAAClU,EAAA,EAAD,CACInF,MAAO,UACPqF,MAAI,EACJC,MAAO,CACH,CAAErH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,OAAQsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACxC,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAAEvH,KAAM,SAAUsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC1C,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE7CC,QAAS,CAAC,OAAQ,OAAQ,QAAS,QACnCC,KAAM,CAAC,OAAO,OAAQ,QACtBC,IAAI,WAEJ,kBAACC,EAAA,EAAD,CAAKC,SAAS,QAAQ/F,MAAO,SAAW8Y,MAAM,UACzC/a,EAAMoC,OAGX,kBAAC2F,EAAA,EAAD,CAAKC,SAAS,OAAQT,QAAS,UAC3B,kBAACyT,GAAA,EAAD,CAAOC,IAAKC,QAEhB,kBAACnT,EAAA,EAAD,CAAKC,SAAS,MAAMT,QAAS,UAAWoT,EAAKrX,GAC7C,kBAACyE,EAAA,EAAD,CAAKC,SAAS,SAAUT,QAAS,SAAU4T,gBAAe,UACtD,kBAACC,GAAA,EAAD,CACI/a,UAAU,aACVsa,IAAKA,EACLlb,IAAKA,EACL4b,KAAM,EACN9a,MAAOib,EACP/a,SAtCK,SAAAjG,GAAK,OAL1B,SAAkB+F,GACd,IAAI6H,EAAIpI,EAAMoH,mBACdgB,EAAEoT,mBAAmBjb,EACrBP,EAAMka,8BAA8B9R,GAEVkT,CAAS9gB,EAAMkG,OAAOH,WAyC5C,kBAACwH,EAAA,EAAD,CAAKC,SAAS,MAAMT,QAAS,UAAW9H,EAAK6D,GAC7C,kBAACyE,EAAA,EAAD,CAAKC,SAAS,QAAQT,QAAS,SAAUwT,MAAM,UAC1CS,EAAoBlY,K,qBCQtBmY,OAxDf,SAAgCzb,GAQ5B,IACM2a,EAAM3a,EAAMoH,mBAAmB+E,aAC/B1M,EAAMO,EAAMoH,mBAAmB8E,aAC/B5I,EAAQtD,EAAMwE,iBAAiBrI,eAC/Buf,EAAkB1b,EAAMoH,mBAAmBsU,gBAGjD,OAFA9c,IAAI+B,MAAM,8BAAgCrB,KAAK6B,UAAUnB,EAAMoH,qBAGvD,kBAACE,EAAA,EAAD,CACInF,MAAO,UACPqF,MAAI,EACJC,MAAO,CACH,CAAErH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,OAAQsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACxC,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAAEvH,KAAM,SAAUsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC1C,CAAEvH,KAAM,MAAOsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACvC,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE7CC,QAAS,CAAC,OAAQ,OAAQ,QAAS,QACnCC,KAAM,CAAC,OAAO,OAAQ,QACtBC,IAAI,WAEJ,kBAACC,EAAA,EAAD,CAAKC,SAAS,QAAQ/F,MAAO,SAAW8Y,MAAM,UACzC/a,EAAMoC,OAGX,kBAAC2F,EAAA,EAAD,CAAKC,SAAS,OAAQT,QAAS,UAC3B,kBAACyT,GAAA,EAAD,CAAOC,IAAKhhB,QAEhB,kBAAC8N,EAAA,EAAD,CAAKC,SAAS,MAAMT,QAAS,UAAWoT,EAAKrX,GAC7C,kBAACyE,EAAA,EAAD,CAAKC,SAAS,SAAUT,QAAS,SAAU4T,gBAAe,UAClD,kBAACC,GAAA,EAAD,CACI/a,UAAU,aACVsa,IAAKA,EACLlb,IAAKA,EACL4b,KAAM,EACN9a,MAAOmb,EACPjb,SAtCP,SAAAjG,GAAK,OAPtB,SAAkB+F,GACd,IAAI6H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMoH,qBACxCxI,IAAI+B,MAAM,4BAA8BrB,KAAK6B,UAAUiH,IACvDA,EAAEsT,gBAAkBnb,EACpBP,EAAMka,8BAA8B9R,GAGdkT,CAAS9gB,EAAMkG,OAAOH,WAyCpC,kBAACwH,EAAA,EAAD,CAAKC,SAAS,MAAMT,QAAS,UAAW9H,EAAK6D,GAC7C,kBAACyE,EAAA,EAAD,CAAKC,SAAS,QAAQT,QAAS,SAAUwT,MAAM,UAC1CW,EAAiBpY,KC0GvBqY,OAnJf,SAAyB3b,GAErBpB,IAAI+B,MAAM,6CAA+CrB,KAAK6B,UAAUwQ,GAAqB3R,EAAMqL,oBAAqBrL,EAAM4b,kBAE9H,MAA4Bxa,oBAAS,GAArC,mBAAKqW,EAAL,KACA,GADA,KACyCrW,mBAASpB,EAAM4b,iBAAxD,mBAAKA,EAAL,KAAqBC,EAArB,KACIC,EAAUC,IAAKne,iCAAiCoC,EAAMQ,SAa1D,SAAS0Z,EAA8B9R,GACnC4T,GAAoB,GACpBC,GAAoB,GACpBrd,IAAI+B,MAAM,iCAAiCrB,KAAK6B,UAAUiH,IAC1D8T,EAAqB5c,KAAKC,MAAMD,KAAK6B,UAAUiH,KAfnDiM,qBAAU,YACS,uCAAG,4BAAAnD,EAAA,6DACdtS,IAAI+B,MAAM,0CADI,SAEAmR,GAASgK,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiB2B,EAAMwB,QAAQuQ,UAAW6J,GAFpF,OAEVvF,EAFU,OAGdzX,IAAI+B,MAAM,6CAA+CrB,KAAK6B,UAAUkV,IACxE6F,EAAqB5c,KAAKC,MAAMD,KAAK6B,UAAUkV,KAJjC,2CAAH,qDAMf/B,KACF,CAACsH,IA0CH,MAA4Bxa,mBAASpB,EAAMwB,SAA3C,mBAAKA,EAAL,KAAc2F,EAAd,KACA,EAAiD/F,mBAASuQ,GAAqB3R,EAAMqL,oBAAqBuQ,IAA1G,mBAAKxU,EAAL,KAAyB8U,EAAzB,KACA,EAA8C9a,oBAAS,GAAvD,mBAAK+R,EAAL,KAAuB6I,EAAvB,KACA,EAA8C5a,oBAAS,GAAvD,mBAAKiS,EAAL,KAAuB4I,EAAvB,KACA,EAA4B7a,oBAAS,GAAhCmS,EAAL,oBAkFA,OAhFA3U,IAAI+B,MAAM,qCAAqCrB,KAAK6B,UAAUiG,IAEtD,kBAACuD,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM9K,EAAM4K,MAAMG,OAAOD,KAAKE,WAI1C,yBAAK7K,UAAU,qBACX,yBAAKA,UAAW,gBAChB,kBAACmH,EAAA,EAAD,CAAMnH,UAAW,sBAAuBY,GAAI,aACtCwG,QAAS,SACXpF,MAAO,QACP9B,UAAW,WACXmH,MAAI,EACJC,MAAO,CACH,CAAErH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,QAASsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACzC,CAAEvH,KAAM,OAAQsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IACxC,CAAEvH,KAAM,WAAYsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC5C,CAAEvH,KAAM,YAAasH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,IAC7C,CAAEvH,KAAM,UAAWsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE/CC,QAAS,CAAC,SACVC,KAAM,CAAC,SAAS,SAAS,QAAQ,QAAQ,QAAQ,SACjDC,IAAK,WAEL,kBAACC,EAAA,EAAD,CAAKC,SAAU,SACX,+BAAO,+BAAO,4BAAI,4BAClB,kBAAC,GAAD,CAAqBxG,QAASA,EACTgD,iBAAkBxE,EAAMwE,iBACxB4C,mBAAoBA,EACpBiB,0BAA2BwT,EAC3BM,cAAe/U,EAAmBC,kBAG3D,kBAACU,EAAA,EAAD,CAAKC,SAAU,SACX,kBAAC,GAAD,CAAqBxG,QAASA,EACTgD,iBAAkBxE,EAAMwE,iBACxBqM,SAAUrP,EACV4F,mBAAoBA,EACpB8S,8BAA+BA,KAExD,kBAACnS,EAAA,EAAD,CAAKC,SAAU,QACX,kBAAC,GAAD,CAA8BxG,QAASA,EACTgD,iBAAkBxE,EAAMwE,iBACxB4C,mBAAoBA,EACpBhF,MAAO,kBACP8X,8BAA+BA,KAEjE,kBAACnS,EAAA,EAAD,CAAKC,SAAU,YACX,kBAAC,GAAD,CAAwBxG,QAASA,EACTgD,iBAAkBxE,EAAMwE,iBACxB4C,mBAAoBA,EACpBhF,MAAO,kBACP8X,8BAA+BA,KAE3D,kBAACnS,EAAA,EAAD,CAAKC,SAAU,aACX,kBAAC,GAAD,CAAgCxG,QAASA,EACTgD,iBAAkBxE,EAAMwE,iBACxB4C,mBAAoBA,EACpBhF,MAAO,oBACP8X,8BAA+BA,KAEnE,kBAACnS,EAAA,EAAD,CAAKC,SAAU,WACX,kBAAC,GAAD,CAAmB6I,SAAUrP,EACVkS,YAtG3C,WACIsI,GAAoB,GACpBC,GAAoB,GACpBrd,IAAI+B,MAAM,gCAAkCa,EAAQO,eAChD0V,IACAzX,EAAMoc,kBAAkB5a,EAAQO,eAChC/B,EAAMqc,+BAA+B7a,EAAQ6J,sBAEjDrL,EAAMsc,qBAAqB9a,EAAQO,cAAcP,EAAQ6J,sBA+FlB8H,iBAAkBA,EAClBE,iBAAkBA,EAClBE,oBAAqBA,EACrBK,YAtF3C,WACIzM,EAAW7H,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,YAsFJqS,eAnF3C,WACI1M,EAAW7H,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,oB,qBCapC+a,OAzEf,SAAyBvc,GAWrB,IATA,IAEI8b,EAAUC,IAAKne,iCAAiCoC,EAAMQ,SAEtDgc,EAAQ,GACRC,EAAO,GACPC,EAAa,GACbC,EAAU,GACVC,EAAW,EACNhL,EAAI,EAAGA,EAAI5R,EAAMwB,QAAQkY,iBAAiB7H,OAAQD,IAEvD,GADAhT,IAAI8P,KAAK,oCAAoCkD,EAAE,+BAAiC5R,EAAMwB,QAAQkY,iBAAiB9H,GAAGiL,0BAC/D,IAA/C7c,EAAMwB,QAAQkY,iBAAiB9H,GAAGkL,SAAtC,CAGA,IAAIC,EAAc,UAAYjB,EAAQ7d,gBAAkB,IAAM6d,EAAQzd,gBAClE,IAAM2B,EAAMwB,QAAQkY,iBAAiB9H,GAAGiL,wBAA0B,IAAM7c,EAAMgd,YAElFpe,IAAI8P,KAAK,iCAAiCqO,GAC1CL,EAAWvG,KAAM,CAACjU,MAAO,IAAM+a,MAAO,IAAKC,aAAc,WAAYC,IAAKJ,IAC1EP,EAAMrG,KAAK,CAAE/V,KAAM,QAAQwc,EAAUlV,MAAO,CAAC,EAAGkV,GAAWjV,IAAK,CAAC,EAAGiV,KACpEH,EAAKtG,KAAK,QACVyG,IACAJ,EAAMrG,KAAK,CAAE/V,KAAM,UAAUwc,EAAUlV,MAAO,CAAC,EAAGkV,GAAWjV,IAAK,CAAC,EAAGiV,KACtEH,EAAKtG,KAAK,SACVyG,IACAD,EAAQxG,KAAK,CAACsD,aAAc7H,EAAGwL,gBAAiBR,EAAS,EAAGS,kBAAmBT,EAAS,EAAGU,iBAAkBV,EAAS,IA2C1H,OA7BAhe,IAAI8P,KAAKpP,KAAK6B,UAAUqb,IAEpB,kBAAC7R,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM9K,EAAM4K,MAAMG,OAAOD,KAAKE,WAK1C,yBAAK7K,UAAU,qBACX,kBAAC6B,EAAA,EAAD,CAAQC,MAAO,6BAA8BC,MAAO,SAAUC,MAAO,QAASsR,QAAQ,EAAMrR,MAAO,eAAgBC,QAASrC,EAAMud,eAClI,kBAACjW,EAAA,EAAD,CACIkM,OAAQ,SACRjM,QAAS,SACTpF,MAAO,UACP9B,UAAW,aACXmH,MAAI,EACJC,MAAO+U,EACP5U,QAAS,CAAC,SACVC,KAAM4U,EACN3U,IAAK,SAEJ6U,EAAQtH,KAlCzB,SAAsBmI,GAGlB,OAAQ,oCAAE,kBAAC/a,EAAA,EAAD,CAAMuF,SAAU,QAAQwV,EAAYJ,iBAAkBpd,EAAMwB,QAAQkY,iBAAiB8D,EAAY/D,cAAcP,SAAW,IAChIlE,KAAOhV,EAAMwB,QAAQkY,iBAAiB8D,EAAY/D,cAAcgE,+BAA+BvI,OAAO,SACtG,kBAACnN,EAAA,EAAD,CAAKC,SAAUwU,EAAMgB,EAAYH,mBAAmBjd,MAChD,kBAAC,KAAmBsc,EAAWc,EAAYF,4B,OCqG5CI,OAtIf,SAA+B1d,GAC3B,MAAkBoB,mBAAS9B,KAAKC,MAAMD,KAAK6B,UAAUnB,EAAMwB,WAApDA,EAAP,oBACA,EAA6BJ,oBAAS,GACtC,GADA,oBACgCA,oBAAS,IACzC,GADA,oBAC6BA,oBAAS,IACtC,GADA,oBACsCA,sBAAtC,mBAAOkX,EAAP,KAAoBC,EAApB,KACA,EAAkBnX,mBAASpB,EAAMQ,SAA1BA,EAAP,oBACA,EAAkBY,mBAASpB,EAAMoU,SAA1BA,EAAP,oBACA,EAAkBhT,mBAASpB,EAAMsB,SAA1BA,EAAP,oBAEA+S,qBAAU,YACS,uCAAG,4BAAAnD,EAAA,sEACAe,GAAemC,EAAS9S,GADxB,OACV8G,EADU,OAEdxJ,IAAI+B,MAAM,WAAarB,KAAK6B,UAAUmX,IACtCC,EAAenQ,EAAEkQ,cAHH,2CAAH,qDAKfhE,KACD,CAAC9T,IAEJ5B,IAAI+B,MAAM,sBACV,MAAwBS,mBAAS,CAACkC,MAAO,WAAYiR,SAAU,QAASC,gBAAgB,CAAC,QAAQ,MAAO5J,MAAO5K,EAAM4K,QAAhH6J,EAAL,oBAsBA,SAASkJ,EAAchJ,EAAK+D,EAAOC,GAE/B,OADA/Z,IAAI8P,KAAK,gBAAkBpP,KAAK6B,UAAUwT,EAAI8D,SACvC,kBAACpS,EAAA,EAAD,CAAWyO,IAAKH,EAAI8D,OAAOmF,UAC9B,kBAACtX,EAAA,EAAD,KAAYqO,EAAIsE,OAAOC,UACvB,kBAAC5S,EAAA,EAAD,KAAYqO,EAAI7b,OAAOsgB,aACvB,kBAAC9S,EAAA,EAAD,KAzBR,SAAqBxN,GACjB,MAA2B,SAAvBA,EAAO8f,YACA,GAEA9f,EAAOugB,QAAU,IAqBZC,CAAW3E,EAAI7b,SAC3B,kBAACwN,EAAA,EAAD,KAAYqO,EAAI8D,OAAO5d,aACvB,kBAACyL,EAAA,EAAD,KAAYqO,EAAI8D,OAAOzf,kBACvB,kBAACsN,EAAA,EAAD,cACA,kBAACA,EAAA,EAAD,KACI,kBAACtE,EAAA,EAAD,CAAQC,MAAO,6BAA8BC,MAAO,SAAUC,MAAO,QAASS,UAAWib,EAAelJ,EAAI8D,QAASrW,MAAO,gBAKxI,SAASyb,EAAepF,GACpB,MAA2B,cAAvBA,EAAO5d,YA8Cf,IAAI2e,EAxCJ,WAGI,IADA,IAAIb,EAAM,GACDc,EAAe,EAAGA,EAAejY,EAAQkY,iBAAiB7H,OAAQ4H,IACvE,IAAK,IAAIE,EAAe,EAAGA,EAAenY,EAAQkY,iBAAiBD,GAAcG,QAAQ/H,OAAQ8H,IAAgB,CAC7G,IAAItD,EAAI7U,EAAQkY,iBAAiBD,GAAcG,QAAQD,GAAcb,iBACrEla,IAAI8P,KAAK,WAAapP,KAAK6B,UAAUkV,IACrC,IAAK,IAAIyH,EAAe,EAAGA,EAAezH,EAAExE,OAAQiM,IAChDnF,EAAIxC,KAAK,CACL+C,SAAU1X,EAAQkY,iBAAiBD,GACnC3gB,OAAQ0I,EAAQkY,iBAAiBD,GAAcG,QAAQD,GACvDlB,OAAQpC,EAAEyH,GACV7E,OAAQzX,EAAQkY,iBAAiBD,KAOjD,OAFA7a,IAAI+B,MAAM,SAAWrB,KAAK6B,UAAUwX,IAC1BA,EAAItD,IAAIsI,GAsBJ9D,GA2BlB,OAvBI,kBAAClP,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM2J,EAAgB7J,MAAMG,OAAOD,KAAKE,WAIpD,yBAAK7K,UAAU,qBACX,kBAACwI,EAAA,EAAD,CAAO5H,GAAG,gBACN,+BACA,kBAACsF,EAAA,EAAD,KACI,sCACA,2CACA,uCACA,sCACA,2CACA,iDAEHmT,O,OCUNuE,OAxIf,SAAyB/d,GACrB,MAA6BoB,oBAAS,GAA/B6S,EAAP,oBACA,EAAgC7S,oBAAS,GAAlC8S,EAAP,oBACA,EAAkD9S,oBAAS,GAA3D,mBAAO+S,EAAP,KAA2ByB,EAA3B,KACA,EAAoCoI,IAAM5c,SAASpB,EAAMwB,QAAQyc,YAAjE,mBAAOA,EAAP,KAAmBC,EAAnB,KAEAtf,IAAI+B,MAAM,4BACV,MAAwBS,mBAAS,CAC7BkC,MAAO,WACPiR,SAAU,QACVC,gBAAiB,CAAC,QAAS,MAC3B5J,MAAO5K,EAAM4K,QAJZ6J,EAAL,oBA0CA,SAAS0J,EAAWxJ,EAAK+D,EAAOC,GAC5B,IAAIyF,EAAK,QAaT,OAZ6C,GAAzCpe,EAAMwB,QAAQyc,WAAWvF,GAAO2F,MAChCD,EAAK,KAEY,GAAbzJ,EAAI0J,QACJD,EAAK,IAGiB,qBAAnBzJ,EAAI2J,aACX3J,EAAI2J,WAAa,GAId,kBAACjY,EAAA,EAAD,CAAUyO,IAAKH,EAAI4J,aACtB,kBAACjY,EAAA,EAAD,KAAYqO,EAAIQ,iBAChB,kBAAC7O,EAAA,EAAD,KAAYqO,EAAI6J,gBAChB,kBAAClY,EAAA,EAAD,KAAYqO,EAAI8J,mBAChB,kBAACnY,EAAA,EAAD,KAAW,uBAAGoY,IAAI,sBAAsBhe,OAAO,SAASie,KAAMhK,EAAIiK,UAAWjK,EAAIkK,gBACjF,kBAACvY,EAAA,EAAD,KAAYqO,EAAI+D,OAChB,kBAACpS,EAAA,EAAD,KAAYqO,EAAImK,gBAChB,kBAACxY,EAAA,EAAD,KAAW,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOoU,EAAIoK,4BACXte,SAAU,SAAAjG,GAAK,OAAema,EAAI4J,YAvC/BS,EAuC4CxkB,EAAMkG,OAAOH,MAtCtF3B,IAAI8P,KAAK,4BAA8BsQ,QACvCpJ,GAAoB,GAFxB,IAAiCoJ,MAwCzB,kBAAC1Y,EAAA,EAAD,KAAW,kBAAC2Q,GAAA,EAAD,CAAW1W,MAAOoU,EAAI2J,WACX7d,SAAU,SAAAjG,GAAK,OApC7C,SAA2B+jB,EAAaU,GACpCrgB,IAAI8P,KAAK,6BAA+BuQ,GAExC,IADA,IAAIC,EAAmB5f,KAAKC,MAAMD,KAAK6B,UAAU8c,IACxCrM,EAAI,EAAGA,EAAIsN,EAAiBrN,OAAQD,IACzC,GAAIsN,EAAiBtN,GAAG2M,cAAgBA,EAAc,CAClDW,EAAiBtN,GAAG0M,WAAaW,EACjC,MAGRf,EAAcgB,GA2B+BC,CAAkBxK,EAAI4J,YAAa/jB,EAAMkG,OAAOH,WACzF,kBAAC+F,EAAA,EAAD,KAAW,kBAACtE,EAAA,EAAD,CAAQ7B,UAAU,kBAAkB8B,MAAO,6BACnCC,MAAO,SAAUC,MAAO,QAASC,MAAO,WACxCQ,UAAwB,IAAd+R,EAAI0J,MACdhc,QAAS,SAACyE,GAAD,OA5DpC,SAAwBoS,EAAUqF,EAAaC,EAAgBO,EAA6BjY,GACxFlI,IAAI8P,KAAK,kBAAoB6P,EAAc,IAAMC,EAAiB,QAAUY,EAAK,iBAEjF,IADA,IAAIH,EAAS,EACJrN,EAAI,EAAGA,EAAIqM,EAAWpM,OAAQD,IACnC,GAAIqM,EAAWrM,GAAG2M,cAAgBA,EAAc,CAC5C3f,IAAI8P,KAAK,+BAAiCuP,EAAWrM,GAAG0M,YACxDW,EAAShB,EAAWrM,GAAG0M,WACvB,MAGR,IAAIc,EAAK1f,KAAK2f,MAAMJ,EAAOF,GAC3BngB,IAAI8P,KAAK,cAAgBuQ,EAAQ,gCAAkCG,EAAK,iBACxEpf,EAAMsf,kBAAkBpG,EAAUsF,EAAgBY,GAgDXG,CAAe5K,EAAIQ,gBAAiBR,EAAI4J,YAAa5J,EAAI6J,eAAgB7J,EAAIoK,iCAChH,kBAACzY,EAAA,EAAD,KAAY8X,IAkBpB,IAAIoB,EAbUvB,EAAW5I,IAAI8I,GAkD7B,OAnCI,kBAACxT,GAAA,EAAD,CAASC,MAAO5K,EAAM4K,OAClB,kBAAC,KAAD,CACIC,MAAO,CACH,CACIC,KAAM2J,EAAgB7J,MAAMG,OAAOD,KAAKE,WAIpD,yBAAK7K,UAAU,qBACX,kBAACwI,EAAA,EAAD,CAAO5H,GAAG,gBACN,+BAEA,kBAACsF,EAAA,EAAD,KACI,yCACA,8CACA,4CACA,wCACA,qCACA,yCACA,iDACA,2CACA,8BAEHmZ,IAIL,kBAAC,GAAD,CAAmBhe,QAASxB,EAAMwB,QAASkS,YAtCvD,aAsCkFE,YAnClF,aAoC+BC,eAjC/B,aAkC+BR,iBAAkBY,EAClBV,oBAAqBW,EACrBf,iBAAkBgB,O,6GClGjDsL,GAAU,aA06BCC,OAl6Bf,SAA2B1f,GAEvB,IAuKI2f,EAvKAC,EAAa,IAAIja,MAAM,YAwE3B,EAA8BvE,mBAASpB,EAAMQ,SAA7C,mBAAOA,EAAP,KAAgBa,EAAhB,KAOIya,EAAUC,IAAKne,iCAAiCoC,EAAMQ,SAa1D,EAAiBY,mBAASpB,EAAM6f,KAAKrN,QAA9BA,EAAP,oBAOA,EAAwBpR,mBAASpB,EAAM8f,MAAvC,mBAAOA,EAAP,KAAaC,EAAb,KAMA,EAA8B3e,mBAASpB,EAAMggB,cAAtCC,EAAP,oBAEA,EAA2C7e,mBAAS0e,EAAKI,SAASD,GAAqBle,eAAvF,mBAAO6Z,EAAP,KAAuBC,EAAvB,KACA,EAAqEza,mBAASpB,EAAMqL,qBAApF,mBAAO8U,EAAP,KAAoCC,EAApC,KAKA,EAAsBhf,mBAASpB,EAAMqgB,uBAA9BC,EAAP,oBACA,EAAuClf,mBAASpB,EAAMugB,sBAAtD,mBAAO7X,EAAP,KAAqB8X,EAArB,KACA,EAA0Bpf,mBAtFI,CAC1BkC,MAAO,WACPlK,kBAAmB,EACnBkQ,4BAA6B,GAC7BrQ,aAAc,EACdkM,uBAAwB,GACxBjM,gBAAiB,EACjBkM,0BAA2B,GAC3BjM,gBAAiB,EACjBkM,0BAA2B,GAC3BhM,WAAY,EACZiR,qBAAsB,GACtBV,QAAS,EACTC,kBAAmB,GACnBvQ,kBAAmB,EACnBgM,4BAA6B,GAC7B1L,eAAgB,EAChBsL,yBAA0B,GAC1B3L,kBAAmB,EACnBgQ,4BAA6B,GAC7BmD,aAAc,EACdwB,iBAAiB,EACjBE,mBAAmB,EACnB3E,kBAAmB,EACnB3E,kBAAmB,EACnB4E,4BAA6B,GAC7B1E,4BAA6B,GAC7BxL,YAAa,EACbO,IAAK,EACL6K,cAAe,GACfD,UAAW,MACX7K,IAAK,EACL4K,cAAe,GACfD,UAAW,MACXsK,GAAI,EACJE,aAAc,GACdD,SAAU,KAkDPzK,EAAP,oBACA,EAAuBnD,mBAAS,CAAEqf,kBAAkB,EAAOC,UAAW,IAAtE,mBAAO1f,EAAP,KAAY2f,EAAZ,KAMA,EAA8Bvf,mBAAS0a,EAAQzd,iBAA/C,mBAAOiD,EAAP,KAAgBC,GAAhB,KAKA,GAAyCH,mBAASwf,qBAAUC,WAASC,KAArE,qBAAOC,GAAP,MAAsBC,GAAtB,MAKA,GAAuC5f,mBAAS0f,GAAc/V,OAAOD,KAAKE,QAA1E,qBAAOuK,GAAP,MAAqB0L,GAArB,MAIA,GAAuC7f,mBAAS,GAAhD,qBAAO8f,GAAP,MAAqBC,GAArB,MAUA,GAAkC/f,mBAAS,QAAU0a,EAAQ5d,sBAAwB,IAAM4d,EAAQxd,uBAAnG,qBAAO8iB,GAAP,MAAkBC,GAAlB,MAiBMC,GAAiBC,iBAAO,IAgB9B,GAAwBvD,IAAM5c,UAAS,GAAvC,qBAAOogB,GAAP,MAAaC,GAAb,MAcMC,GAAgB,WAClBD,IAAQ,IAKNE,GAAW,uCAAG,4BAAAzQ,EAAA,6DAEhBuQ,IAAQ,GAFQ,SAGF1O,GAAW+I,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiByhB,EAAK3N,OAAQyP,IAHxE,OAGZxZ,EAHY,OAIhBxJ,IAAI+B,MAAJ,6BAAgCyH,IAJhB,2CAAH,qDAOjB,GAA8ChH,mBAAS,IAAvD,qBAAOwgB,GAAP,MAAyBC,GAAzB,MAiEMC,GAAoB,SAACC,GAEvB,GAAwB,kBAApBA,EAAIlnB,YAAiC,EACP,IAA1BmG,EAAKyf,kBA/Qbb,EAAW5Y,OAkRP,IAAIoB,EAAI,CAAEqY,kBAAkB,EAAMC,UAAW1L,OAASgN,QACtDrB,EAAQvY,KAWV6Z,GAA0B,SAACF,GAEA,qBAAdA,EAAIxhB,MACX3B,IAAI0Y,MAAM,gCAAkChY,KAAK6B,UAAU4gB,KAEvDA,EAAI/oB,mBAAqBkpB,KAAMlpB,iBAAiBQ,cAChD+K,EAAgB2d,KAAMlpB,iBAAiBQ,aAAe4J,IAAQA,QAAQ,OAAQ2e,EAAIxhB,QAEvD,qBAApBgE,GACP3F,IAAI0Y,MAAM,OAEd/S,EAAgBwd,EAAI/oB,kBAAoB+oB,EAAIxhB,MAC5CgE,EAAgBwd,EAAI/oB,iBAAmB,cAAgB+oB,EAAI1hB,UAC3DkE,EAAgBwd,EAAI/oB,iBAAmB,UAAY+oB,EAAIze,MACvD1E,IAAI+B,MAAM,iBAAmBohB,EAAIxhB,MAAQ,IAAMgE,EAAgBwd,EAAI/oB,iBAAmB,cAAgB,OAAS+oB,EAAI/oB,oBAQzHmpB,GAAyB,SAAC3nB,GAC5BoE,IAAI+B,MAAM,kCAAoCrB,KAAK6B,UAAU3G,EAAM4E,OACnE,IAAI2iB,EAAMziB,KAAKC,MAAM/E,EAAM4E,MAC3B,GAA4B,qBAAhB2iB,EAAIrQ,QAA0C,OAAfqQ,EAAIrQ,OAC3C,GAAkC,qBAAtBqQ,EAAI5nB,cAAsD,OAArB4nB,EAAI5nB,aACjDyE,IAAI0Y,MAAM,gCAAkC9c,EAAM4E,WAGlD,OADAR,IAAI+B,MAAM,6BAA+BohB,EAAI5nB,cACrC4nB,EAAI5nB,cACR,KAAK+nB,KAAM/nB,aAAaC,YACpBqlB,GAAU,OAASsC,EAAI/oB,iBAAmB,IAAM+oB,EAAIK,iBACpDxjB,IAAI+B,MAAM,4BACVshB,GAAwBF,GACxB,MACJ,KAAKG,KAAM/nB,aAAaG,gBACpBmlB,GAAU,iBAAmBsC,EAAIvD,eACjC5f,IAAI8P,KAAK,gCAAkCpP,KAAK6B,UAAU4gB,IAzUhD,uCA0UVM,CAAkBN,EAAIvD,eAAgBuD,EAAIjf,IAC1C,MACJ,KAAKof,KAAM/nB,aAAaE,aACpBolB,GAAU,cAAgBsC,EAAIxkB,YAC9BqB,IAAI+B,MAAM,6BAA+BrB,KAAK6B,UAAU4gB,IAwH5E,SAAwBxkB,EAAauF,GAEjC,GADAlE,IAAI+B,MAAM,0BAA4BpD,EAAc,OAASuF,GAChC,qBAAjBvF,EACR,OAEJ,IAAI+kB,EAAmBhjB,KAAKC,MAAMD,KAAK6B,UAAUuH,IAGtC4Z,EAAiB/kB,GACxB+kB,EAAiB/kB,GAAe,CAAEuF,GAAIA,EAAIoD,UAAU,GAExDoc,EAAiB/kB,GAAauF,GAAKA,EAEnCwf,EAAiB/kB,GAAa2I,UAAW,EACzCsa,EAAe8B,GArICC,CAAeR,EAAIxkB,YAAawkB,EAAIjf,IACpC,MACJ,KAAKof,KAAM/nB,aAAaK,MACpBilB,GAAU,WAAasC,EAAIK,iBAC3BxjB,IAAI+B,MAAM,uBACVmhB,GAAkBC,GAClB,MACJ,KAAKG,KAAM/nB,aAAaI,cACpBklB,GAAU,mBAAqBsC,EAAIK,iBACnCxjB,IAAI+B,MAAM,8BAEV/B,IAAI8P,KAAK,iBAAmBpP,KAAK6B,UAAU4gB,IA1VjC,yCA2VVS,CAA0BT,EAAI7I,SAAS6I,EAAIU,iBAAkBV,EAAIW,yBAEjEvB,GAAeD,GAAe,GAC9B,MACJ,QACIzB,GAAUsC,EAAI5nB,aAAe,YAAc4nB,EAAIK,iBAC/CxjB,IAAI+T,MAAM,wBAA0BoP,EAAI5nB,mBAKpDyE,IAAI0Y,MAAM,6FAQlB,GAIIqL,IAAavB,GAAW,CACxBwB,kBAAmB,IACnBC,kBAAmB,IACnBC,OAAQ,WACJC,KACAnkB,IAAI+B,MAAM,yBAGdqiB,gBAAiB,SAACC,GAAD,OAAgB,GACjCC,UAAW,SAAC1oB,GAAD,OAAW2nB,GAAuB3nB,MAZ7C2oB,GADJ,GACIA,gBACAC,GAFJ,GAEIA,gBACA1hB,GAHJ,GAGIA,WAsCJ,SAASqhB,KACLnkB,IAAI+B,MAAM,yBACV,IAAK,IAAIiR,EAAI,EAAGA,EAAIkO,EAAKI,SAASD,GAAqBvG,iBAAiB7H,OAAQD,IAAM,CAClF,IAAIyR,EAAM,CACNC,QAzaK,SA0aL9Q,OAAQA,EACR0G,SAAU4G,EAAKI,SAASD,GAAqBvG,iBAAiB9H,GAAGsH,UAErEiK,GAAgBE,IA/ZM,8CAma9B,WAAyCnK,EAASqK,EAAwBC,GAA1E,mBAAAtS,EAAA,sDACItS,IAAI8P,KAAK,8DAAgEwK,EAAW,OAASqK,GAIpF3R,EAAI,EALjB,YAKoBA,EAAIkO,EAAKI,SAASrO,QALtC,iBAMiB4R,EAAI,EANrB,YAMwBA,EAAI3D,EAAKI,SAAStO,GAAG8H,iBAAiB7H,QAN9D,oBAOYjT,IAAI8P,KAAK,aAAeoR,EAAKI,SAAStO,GAAG8H,iBAAiB+J,GAAGvK,SAAW,OAASA,GAC7E4G,EAAKI,SAAStO,GAAG8H,iBAAiB+J,GAAGvK,WAAaA,EARlE,wBASoBwK,EAAapkB,KAAKC,MAAMD,KAAK6B,UAAU2e,KAChCI,SAAStO,GAAG8H,iBAAiB+J,GAAG5G,wBAA0B0G,EACrEG,EAAWxD,SAAStO,GAAG8H,iBAAiB+J,GAAGhG,8BAAgC+F,EAC3E5kB,IAAI8P,KAAK,8FAAgGwK,EAAW,OAASqK,GAC7H3kB,IAAI8P,KAAK,gBAAkBpP,KAAK6B,UAAUuiB,IAC1C3D,EAAQzgB,KAAKC,MAAMD,KAAK6B,UAAUuiB,KAdlD,2BAMsED,IANtE,uBAK8C7R,IAL9C,4DAna8B,oEA8d9B,WAAiC4M,EAAgB1b,GAAjD,iBAAAoO,EAAA,yDACItS,IAAI8P,KAAK,6BAA+B8P,EAAiB,OAAS1b,GAClC,qBAApB0b,EAFhB,iDAKa5M,EAAI,EALjB,YAKoBA,EAAIkO,EAAKI,SAASD,GAAqBhC,WAAWpM,QALtE,oBAMYiO,EAAKI,SAASD,GAAqBhC,WAAWrM,GAAG4M,iBAAmBA,EANhF,wBAOgBkF,EAAapkB,KAAKC,MAAMD,KAAK6B,UAAU2e,KAChCI,SAASD,GAAqBhC,WAAWrM,GAAGyM,MAAQvb,EAC/Did,EAAQzgB,KAAKC,MAAMD,KAAK6B,UAAUuiB,KAT9C,6BAK8E9R,IAL9E,4DA9d8B,oEA+f9B,WAAgDxJ,GAAhD,mBAAA8I,EAAA,6DAEQyS,EAAkBrkB,KAAKC,MAAMD,KAAK6B,UAAUiH,IAFpD,SAGUmK,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAW,oBAAqB4R,EAAgBC,mBAHnK,uBAIUrR,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeC,WAAYgnB,EAAgBhnB,YAJ/K,uBAKU4V,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYM,yBAA0BwoB,EAAgBxoB,0BAL1L,uBAMUoX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYO,yBAA0BuoB,EAAgBvoB,0BAN1L,wBAQUmX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeE,aAAc+mB,EAAgB/mB,cARjL,yBASU2V,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeG,OAAQ8mB,EAAgB9mB,QAT3K,yBAUU0V,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYC,gBAAiB6oB,EAAgB7oB,iBAVjL,yBAWUyX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYE,mBAAoB4oB,EAAgB5oB,oBAXpL,yBAYUwX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYG,mBAAoB2oB,EAAgB3oB,oBAZpL,yBAaUuX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYI,qBAAsB0oB,EAAgB1oB,sBAbtL,yBAcUsX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYK,kBAAmByoB,EAAgBzoB,mBAdnL,yBAeUqX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeI,WAAY6mB,EAAgB7mB,YAf/K,yBAgBUyV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeK,SAAU4mB,EAAgB5mB,UAhB7K,yBAiBUwV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYS,sBAAuBqoB,EAAgBroB,uBAjBvL,yBAkBUiX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYU,sBAAuBooB,EAAgBpoB,uBAlBvL,yBAmBUgX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYW,oBAAqBmoB,EAAgBnoB,qBAnBrL,yBAoBU+W,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYY,kBAAmBkoB,EAAgBloB,mBApBnL,yBAqBU8W,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAY6c,gBAAiBiM,EAAgBjM,iBArBjL,yBAsBUnF,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAW,mBAAoB4R,EAAgB9e,kBAtBlK,yBAuBU0N,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYa,eAAgBioB,EAAgBjoB,gBAvBhL,yBAwBU6W,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYQ,mBAAoBsoB,EAAgBtoB,oBAxBpL,yBAyBUkX,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeM,WAAY2mB,EAAgB3mB,YAzB/K,yBA0BUuV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeO,YAAa0mB,EAAgB1mB,aA1BhL,yBA2BUsV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeQ,UAAWymB,EAAgBzmB,WA3B9K,yBA4BUqV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeS,YAAawmB,EAAgBxmB,aA5BhL,yBA6BUoV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeU,YAAaumB,EAAgBvmB,aA7BhL,yBA8BUmV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeW,iBAAkBsmB,EAAgBtmB,kBA9BrL,yBA+BUkV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMxlB,eAAeY,gBAAiBqmB,EAAgBrmB,iBA/BpL,yBAgCUiV,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYc,cAAegoB,EAAgBhoB,eAhC/K,yBAiCU4W,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYe,WAAY+nB,EAAgB/nB,YAjC5K,yBAkCU2W,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYgB,WAAY8nB,EAAgB9nB,YAlC5K,yBAmCU0W,GAAYuJ,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiBmU,EAAQsN,EAAKI,SAASD,GAAqBlO,UAAWmQ,KAAMrnB,YAAYiB,UAAW6nB,EAAgB7nB,WAnC3K,QAqCQ+nB,EAAe,CAAE3D,SAAU,CAAC5gB,KAAKC,MAAMD,KAAK6B,UAAUiH,MACtD0b,EAtCR,2BAsCwBhE,GAAS+D,GAC7B9D,EAAQ+D,GAvCZ,6CA/f8B,sBAiY9BxC,GAAeyC,QAAUC,mBAAQ,kBAC7B1C,GAAeyC,QAAQE,OAAOb,MAAkB,CAACA,KAqQrD,IAUMc,GAAkB,SAAC3jB,GACrB,IAAI6H,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU4f,KAClCniB,IAAI+B,MAAM,iDAAmDogB,GAAchW,OAAOD,KAAKE,OAAS,OAASuK,GAAe,UAAYhV,GACpI6H,EAAE2C,OAAOD,KAAKE,OAASuK,GACvB3W,IAAI+B,MAAM,oDAAsDyH,EAAE2C,OAAOD,KAAKE,QAC9EgW,GAAgB5Y,IAepBiM,qBAAU,YACS,uCAAG,4BAAAnD,EAAA,sEACAgB,GAAQ4J,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiByhB,EAAK3N,QAD/D,QACVkE,EADU,QAIZ6J,SAAS,GAAG7U,oBAAsBgL,EAAE6J,SAAS,GAAG7U,oBAAoB,GAEtE0U,EAAQzgB,KAAKC,MAAMD,KAAK6B,UAAUkV,KANpB,2CAAH,qDAQf/B,KACD,CAAC9T,IAmBJ5B,IAAI+B,MAAM,+CAAiDrB,KAAK6B,UAAUnB,IAEtEgB,EAAKyf,kBACKzL,OAASgN,OACThhB,EAAK0f,UAAY,KACvB9hB,IAAI+B,MAAM,gEACVggB,EAAQ,CAAEF,kBAAkB,EAAOC,UAAW,KAK9B,OAApB0C,IAAgE,qBAA5BA,GAAgB1R,QAAsD,OAA3B0R,GAAgB1R,OAC/FiO,EAA4BrgB,KAAKC,MAAMD,KAAK6B,UAAUiiB,KAE9B,OAApBA,IAAsE,qBAAlCA,GAAgBjpB,cAAkE,OAAjCipB,GAAgBjpB,cACrGipB,GAAgBjpB,eAAiB+nB,KAAM/nB,aAAaC,aArcxD6nB,GAuc8BmB,IAMlC,IAAIe,GAAW7kB,KAAKC,MAAMD,KAAK6B,UAAUmf,IAGE,qBAA/BX,GAA4E,OAA9BA,IACtDwE,GAAW7kB,KAAKC,MAAMD,KAAK6B,UAAUwe,KAOzCG,EAAKsE,UAAYpkB,EAAM8f,KAAKI,SAASlgB,EAAMggB,cAAcoE,UACzDtE,EAAK3N,OAASnS,EAAM8f,KAAKI,SAASlgB,EAAMggB,cAAc7N,OAoBtDvT,IAAI8P,KAAK,4BAA4BpP,KAAK6B,UAAU2e,EAAKI,SAASD,KAClErhB,IAAI+B,MAAM,kDAAkDrB,KAAK6B,UAAUgf,IAC3E,IAAM,IAAIvO,GAAI,EAAGA,GAAIkO,EAAKI,SAAS,GAAGxG,iBAAiB7H,OAAQD,KAC3DhT,IAAI8P,KAAK,4CAA8CkD,GAAI,+BAAiCkO,EAAKI,SAAS,GAAGxG,iBAAiB9H,IAAGiL,yBAErIje,IAAI8P,KAAK,iDAAmD1O,EAAMwE,iBAAiBC,WAEnF,IACI4f,GAAiBrP,KAAOsP,MAAQtkB,EAAM8f,KAAKI,SAASlgB,EAAMggB,cAAcuE,KAAKC,qBAC7E9hB,GAAW,EAAEhD,KAAKC,MAAM0kB,GAFL,QAIvB,OAAO,yBAAKlkB,UAAU,OAClB,kBAAC,EAAD,CAAQa,KAAMA,EAAKyf,iBAAkB3e,SAAU9B,EAAM8f,KAAKI,SAASlgB,EAAMggB,cAAcoE,UAC/E/iB,WA9ES,SAACd,GAClB3B,IAAI+B,MAAM,2CAA6CJ,EAAQ,KAC/D,IAAMkkB,EAAqBlkB,EAC3Bub,EAAUC,IAAKne,iCAAiCoC,EAAMQ,SACtD5B,IAAI+B,MAAM,+BAAiC8jB,EAAqB,YAAc3I,EAAQzd,iBACtFgjB,GAAa,QAAUvF,EAAQ5d,sBAAwB,IAAM4d,EAAQxd,uBACrE+C,EAAWojB,GACXljB,GAAWua,EAAQzd,kBAwEXmD,QAASse,EAAKI,SAASD,GAAsBzf,QAASA,EAASkB,WAAYA,GAC3EiB,uBA5XmB,WAC3B/D,IAAI+B,MAAM,8BACVoiB,MA2XQzgB,OAAQtC,EAAMsC,OACdI,SAAUA,KAElB,kBAACgiB,GAAA,EAAD,CAAQlD,KAAMA,GAAMmD,QAASjD,GAAekD,kBAAgB,qBACxD,kBAACC,GAAA,EAAD,CAAa9jB,GAAG,qBAAhB,iBACA,kBAAC+jB,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,yEAGA,kBAACC,GAAA,EAAD,CACIC,WAAS,EACTzR,OAAO,QACPzS,GAAG,mBACHqB,MAAM,eACN8iB,WAAS,EACTzkB,SAvkBM,SAACqG,GACnB+a,GAAkB/a,EAAEpG,OAAOH,WAykBvB,kBAAC4kB,GAAA,EAAD,KACI,kBAACnjB,EAAA,EAAD,CAAQK,QAASqf,GAAezf,MAAM,WAAtC,UAGA,kBAACD,EAAA,EAAD,CAAQK,QAASsf,GAAa1f,MAAM,WAApC,SAMR,kBAACqF,EAAA,EAAD,CACIkM,OAAQ,SACRjM,QAAS,SACTpF,MAAO,UACP9B,UAAW,aACXmH,MAAI,EACJC,MAAO,CACH,CAACrH,KAAM,OAAQsH,MAAO,CAAC,EAAG,GAAIC,IAAK,CAAC,EAAG,KAE3CC,QAAS,CAAC,UACVC,KAAM,CAAC,SACPC,IAAK,SAGL,kBAACsd,EAAA,EAAD,CAAMpd,SAAS,OAAOwL,OAAO,SAAS6R,KAAK,UACvC,kBAACC,EAAA,EAAD,CAAKC,MAAM,mBACP,kBAAC,GAAD,CAAkB/kB,QAASA,EACTc,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBlP,MAAOoT,GACPzb,aAAcA,EACdnE,gBAAmBA,EACnB0F,kBAlNlC,SAAiC7B,EAAG7K,EAAauF,GAC7ClE,IAAI+B,MAAM,2BAA2BpD,EAAa,IAAIuF,GACtD,IAAIwf,EAAmBhjB,KAAKC,MAAMD,KAAK6B,UAAUuH,IAC7C8c,EAAUjoB,EAId,GAHIA,IAAgB2kB,KAAM3kB,YAAYC,YAClCgoB,EAAUtD,KAAM3kB,YAAYE,YAEa,qBAAlC6kB,EAAiB/kB,GAA5B,CAIA+kB,EAAiB/kB,GAAa2I,UAAW,EACzCoc,EAAiB/kB,GAAauF,GAAKA,EACnC0d,EAAe8B,GAEf,IAAIe,EAAM,CACN7Q,OAAQA,EACR8Q,QAxoBS,SAyoBT/lB,YAAaioB,EACb1iB,GAAIA,GAERlE,IAAI+B,MAAM,wBAAwB6kB,EAAQ,yBAAyBnC,EAAI7Q,OAAO,IAAI6Q,EAAInK,UACtF,IAAK,IAAItH,EAAI,EAAGA,EAAIkO,EAAKI,SAASD,GAAqBvG,iBAAiB7H,OAAQD,IAC5EyR,EAAInK,SAAW4G,EAAKI,SAASD,GAAqBvG,iBAAiB9H,GAAGsH,SACtEta,IAAI+B,MAAM,mBAAmB6kB,EAAQ,yBAAyBnC,EAAI7Q,OAAO,IAAI6Q,EAAInK,UACjFiK,GAAgBE,QAjBhB1kB,QAAQ2Y,MAAM,2BAA6B/Z,IA2MjB2L,gBA/QlC,SAA4CnH,GAExC,Id3VqBkP,EAAMlS,EAAMgT,EAAW0T,EAAUC,Ec2VlDrC,EAAM,CACN7Q,OAAQA,EACR8Q,QA9jBQ,QA+jBRjc,WAAYtF,Gd9VKkP,EcgWT6K,EAAQ7d,gBdhWOc,EcgWU+c,EAAQzd,gBdhWZ0T,EcgW6B+N,EAAKI,SAASD,GAAqBlO,UdhWrD0T,EcgW+D3F,EAAKI,SAASD,GAAqBle,cdhWxF2jB,EcgWuG3jB,Ed9V1J,IAAIoP,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACVc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,gBAAgBgT,EAAU,UAC9DnT,IAAI+T,MAAM,qBAAuBX,GAFjB,SAGOV,MAAMU,EAAK,CAC9BY,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMxT,KAAK6B,UAAU,CAAEskB,SAAUA,EAAUC,SAAUA,MARzC,YAGVnU,EAHU,QAUJC,GAVI,iCAWED,EAASE,OAXX,OAWRrJ,EAXQ,OAcZgJ,EAAQhJ,GAdI,wBAgBZxJ,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QAjBL,4CAAb,yDc+VHoO,EAAKI,SAASD,GAAqBle,cAAgBA,EAEnD,IAAK,IAAI6P,EAAI,EAAGA,EAAIkO,EAAKI,SAASD,GAAqBvG,iBAAiB7H,OAAQD,IAC5EyR,EAAInK,SAAW4G,EAAKI,SAASD,GAAqBvG,iBAAiB9H,GAAGsH,SACtEiK,GAAgBE,GAEpBtD,EAAQzgB,KAAKC,MAAMD,KAAK6B,UAAU2e,MAkQJtb,iBAAkBxE,EAAMwE,iBACxBib,QAASA,MAG/B,kBAAC6F,EAAA,EAAD,CAAKC,MAAM,eACP,kBAAC,GAAD,CAAiB/kB,QAASA,EACTc,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBjD,YAAakE,GACbyE,aAAczB,GACd3G,aAjnBZ,WACjB3e,IAAI+T,MAAM,wBACV,IAAK,IAAIf,EAAI,EAAGA,EAAIkO,EAAKI,SAASD,GAAqBvG,iBAAiB7H,OAAQD,IAAK,CACjF,IAAIyR,EAAM,CACNC,QAvOM,UAwON9Q,OAAQA,EACR0G,SAAU4G,EAAKI,SAASD,GAAqBvG,iBAAiB9H,GAAGsH,UAErEiK,GAAgBE,QA4mBZ,kBAACiC,EAAA,EAAD,CAAKC,MAAM,UACP,kBAAC,GAAD,CAAiB/kB,QAASA,EACTc,QAASA,EACTsJ,MAAOmW,GACPxc,gBAAmBA,EACnB/C,QAASse,EAAKI,SAASD,GACvBzb,iBAAkBxE,EAAMwE,iBACxB6G,oBAAqBrL,EAAMqL,oBAC3BwB,cA9lBb,CAChBC,yBAA0B,cAC1BC,sBAAuB,mBACvB6Y,mBAAoB,QACpBC,wBAAyB,YA6lBjB,kBAACP,EAAA,EAAD,CAAKC,MAAM,iBACP,kBAAC,GAAD,CAAgBhT,YAAaA,GACb/R,QAASA,EACTc,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBzb,iBAAkBxE,EAAMwE,iBACxByF,kBA91BF,gDAi2BlB,kBAACqb,EAAA,EAAD,CAAKC,MAAM,cACP,kBAAC,GAAD,CAAiB/kB,QAASA,EACTc,QAASA,EACT8S,QAAS0H,EAAQ7d,gBACjB2M,MAAOmW,GACP+E,YA/NV,SAACvlB,GACpB3B,IAAI+B,MAAM,2CAA2CrB,KAAK6B,UAAUZ,KA+NvCiB,QAASse,EAAKI,SAASD,MAG5C,kBAACqF,EAAA,EAAD,CAAKC,MAAM,cACP,kBAAC,GAAD,CAAgB/kB,QAASA,EACTc,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBzb,iBAAkBxE,EAAMwE,iBACxB8X,qBArRhC,SAA8ByJ,EAAWC,GACrCpnB,IAAI+B,MAAM,wBAAwBrB,KAAK6B,UAAU6kB,IACjD,IAAI5d,EAAI9I,KAAKC,MAAMD,KAAK6B,UAAU2e,IAClC1X,EAAE8X,SAASD,GAAqB5U,oBAAsB2a,EACtDjG,EAAQ3X,IAkRoBC,0BAlThC,SAA6C4d,GACzCrnB,IAAI+B,MAAM,2DAA2Dib,EAAe,OAAOqK,GAC3FpK,EAAiBoK,IAiTWC,kCAvShC,SAA2CF,GACvCpnB,IAAI+B,MAAM,kCAAkCrB,KAAK6B,UAAU6kB,IdhZ7B,SAAE/U,EAAMlS,EAAMyT,EAAQT,EAAW1K,EAAY2e,GAExE,IAAI7U,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,mBAAAH,EAAA,6DACVc,EAAM,UAAUf,EAAK,IAAIlS,EAAK,mBAAmBgT,EAAU,IAAI1K,EACrEzI,IAAI+T,MAAM,+BAAiCX,GAF3B,SAGOV,MAAMU,EAAK,CAC9BY,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMxT,KAAK6B,UAAU6kB,KART,YAGVzU,EAHU,QAUJC,GAVI,iCAWED,EAASE,OAXX,OAWRrJ,EAXQ,OAYZxJ,IAAI+B,MAAMrB,KAAK6B,UAAUiH,IAEzBgJ,EAAQhJ,GAdI,wBAgBZxJ,IAAI0Y,MAAM,SAAW/F,EAASG,QAC9BL,EAAQE,EAASG,QAjBL,4CAAb,yDc+YHyU,CAAuBrK,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiByhB,EAAKtN,OAC1EsN,EAAKI,SAASD,GAAqBlO,UACnCiU,EAAwB3e,WACxB2e,GACJ5F,EAA8B4F,IAkSF3a,oBAAqB8U,EACrBvE,eAAgBA,KAGpC,kBAAC0J,EAAA,EAAD,CAAKC,MAAM,UACP,kBAAC,GAAD,CACI/kB,QAASA,EACT4T,QAAS0H,EAAQ7d,gBACjBqD,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,MAG/B,kBAACqF,EAAA,EAAD,CAAKC,MAAM,oBACP,kBAAC,GAAD,CAAuB/kB,QAASA,EACTc,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBzb,iBAAkBxE,EAAMwE,iBACxBgS,kBAAmB0N,GACnB9N,kBA1Of,SAAC7V,GACrB3B,IAAI+B,MAAM,iDAAmD4U,GAAe,OAAShV,GACrF0gB,GAAe1gB,OA2OP,kBAAC+kB,EAAA,EAAD,CAAKC,MAAM,SACP,kBAAC,GAAD,CAAa/kB,QAASA,EACH4T,QAAS0H,EAAQ7d,gBACjBqD,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBzb,iBAAkBxE,EAAMwE,iBACvB8a,kBA1qBpC,SAAmBpG,EAAUsF,EAAgBY,GACzC,IAAIgH,EAAQ1mB,KAAK2f,MAAOD,GACxBiH,MAAM,oBAAsB7H,EAAiB,QAAU4H,EAAQ,MAC/D,IAAI/C,EAAM,CACNC,QArPW,WAsPX9Q,OAAQA,EACR0G,SAAUA,EACVsF,eAAgBA,EAChB8H,aAAcF,GAElBxnB,IAAI8P,KAAK,4BAA8BpP,KAAK6B,UAAUkiB,IACtDF,GAAgBE,GAChBzkB,IAAI8P,KAAK,yBAA2BpP,KAAK6B,UAAUkiB,GAAO,eAiqBlD,kBAACiC,EAAA,EAAD,CAAKC,MAAM,eACP,kBAAC,GAAD,CAAmB/kB,QAASA,EACT4T,QAAS0H,EAAQ7d,gBACbqD,QAASA,EACTsJ,MAAOmW,GACPvf,QAASse,EAAKI,SAASD,GACvBzb,iBAAkBxE,EAAMwE,wB,oBCr2BpD+hB,OArGf,SAAwCvmB,GAEpC,IAMI8b,EAAUC,IAAKne,iCAAiCoC,EAAMQ,SARf,SAU5BgmB,EAV4B,8EAU3C,WAAyBC,GAAzB,eAAAvV,EAAA,6DACItS,IAAI+B,MAAM,kBAAkBX,EAAMQ,QAAQ,gCAAgCsb,EAAQzd,gBAAgB,cAC9F2T,EAAM,UAAU8J,EAAQ7d,gBAAgB,IAAI6d,EAAQzd,gBAAgB,kBACxEO,IAAI+B,MAAM,SAAWqR,GACrBpT,IAAI+B,MAAM,WAAarB,KAAK6B,UAAUslB,IAJ1C,kBAKW,IAAItV,QAAJ,uCAAa,WAAOC,EAASC,GAAhB,iBAAAH,EAAA,sEACOI,MAAMU,EAAK,CAC9BY,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMxT,KAAK6B,UAAUslB,KANT,YACVlV,EADU,QAQJC,GARI,iCASWD,EAASE,OATpB,OASRiV,EATQ,OAUZ9nB,IAAI+B,MAAM,kBAAoBrB,KAAK6B,UAAUulB,IAC7CtV,EAAQsV,GAXI,wBAaZ9nB,IAAI+B,MAAM,SAAW4Q,EAASG,QAC9BL,EAAQE,EAASG,QAdL,4CAAb,0DALX,4CAV2C,sBAkC3C,MAAgCtQ,qBAAhC,mBAAOulB,EAAP,KAAiBC,EAAjB,KACA,EAAgCxlB,mBAAS,IAAzC,mBAAOylB,EAAP,KAAiBC,EAAjB,KACA,EAA4B1lB,oBAAS,GAArC,mBAAO2lB,EAAP,KAAeC,EAAf,KAEMC,EAAY,uCAAG,WAAMngB,GAAN,SAAAoK,EAAA,6DAIjBtS,IAAI+B,MAAM,iDAAiDgmB,GAJ1C,SAMXH,EAAW,CACbG,SAAUA,EACVE,SAAUA,IAETK,MAAK,SAACR,GACH9nB,IAAI+B,MAAM,0BAA4B+lB,EAAWS,OACjDT,EAAWU,MAAK,EAChBpnB,EAAMqnB,mBAAmBX,MAE5BY,OAAM,SAACC,GACJ3oB,IAAI+B,MAAM,kBAAoB4mB,GAE9BP,GAAU,GACVF,EAAY,IACZ9mB,EAAMqnB,mBAAmB,CAACD,MAAM,OApBvB,2CAAH,sDAwBdI,EAAe,kBAACzf,EAAA,EAAD,KAAK,kBAACtF,EAAA,EAAD,sBAoCxB,OAnCKskB,IACDS,EAAe,sCAIf,kBAACzf,EAAA,EAAD,CAAK1H,UAAU,UACX,0BAAOonB,SAAUR,GACjB,kBAAClf,EAAA,EAAD,CAAK1H,UAAU,MAAMmT,OAAO,UACxB,kBAACzL,EAAA,EAAD,CAAK5F,MAAM,QAAQ9B,UAAU,SAASqnB,WAAW,WAC7C,kBAAC3f,EAAA,EAAD,CAAKD,IAAI,UACP,kBAACC,EAAA,EAAD,CAAKyL,OAAO,QAAQnT,UAAU,SAASyH,IAAI,SAAS5F,MAAM,UACtD,kBAACO,EAAA,EAAD,CAAMkV,KAAK,UAAX,aACA,kBAAC5P,EAAA,EAAD,KACI,kBAACkP,GAAA,EAAD,CAAW0Q,aAAchB,EAAUlmB,SAAU,SAAAqG,GAAC,OAAI8f,EAAY9f,EAAEpG,OAAOH,WAE3E,kBAACkC,EAAA,EAAD,CAAMkV,KAAK,UAAX,aACA,kBAAC5P,EAAA,EAAD,CAAKD,IAAI,SACL,kBAACmP,GAAA,EAAD,CAAWtD,KAAM,WAAYpT,MAAOsmB,EAAUpmB,SAAU,SAAAqG,GAAC,OAAIggB,EAAYhgB,EAAEpG,OAAOH,UAClF,kBAAC,KAAD,CAAQqnB,UAAU,SAEV1lB,MAAO,SAAUC,MAAO,QACxBsR,QAAQ,EACRpR,QAAS4kB,EAAc7kB,MAAO,YAEzColB,KAIX,kBAACzf,EAAA,EAAD,CAAKyL,OAAO,UACR,kBAACqU,GAAA,EAAD,CAAWC,SA1FnB,kNCYGC,OAnBf,SAAgC/nB,GAG5B,OAFApB,IAAI+B,MAAM,6BAA+BrB,KAAK6B,UAAUnB,IAGpD,6BACI,4BAAQG,UAAU,oBAAoB0B,MAAO,CAAC,MAAS,SACnD,0BAAMA,MAAO,CACT,MAAS,MACT,WAAc,aACd,WAAc,SAHlB,WAKA,0BAAMA,MAAO,CAAC,MAAS,QACnB,yBAAKd,GAAG,+BCDbinB,OAVf,SAA4BhoB,GACxB,OACI,oCACA,kBAAC,GAAD,CAAuBioB,cAAY,yBAAyBznB,QAAS0nB,gBACrE,kBAAC,GAAD,CAA+B1nB,QAAS0nB,cAAgCb,mBAAoBrnB,EAAMqnB,uB,oECctGc,GAAwB,CACxB,CAAC/nB,KAAM,WAAYG,MAAO2nB,cAC1B,CAAC9nB,KAAM,qBAAsBG,MAAO2nB,eACpC,CAAC9nB,KAAM,qBAAsBG,MAAO2nB,QACpC,CAAC9nB,KAAM,qBAAsBG,MAAO2nB,QA4PzBE,OAzPf,SAAapoB,GAETrB,QAAQC,IAAI,SAAWU,KAAK6B,UAAU+mB,+WACtCvpB,QAAQC,IAAI,oCACZD,QAAQC,IAAI,yBAER,IAAIyhB,EAAwB,CACxBrU,iBAAkB,CACdgH,aAAc,OACdqE,iCAAkC,IAClCE,uCAAwC,IACxC5a,YAAY,EACZxB,0BAA0B,EAC1BC,0BAA0B,EAC1ByB,QAAQ,EACR/B,iBAAiB,EACjBC,oBAAoB,EACpBC,oBAAoB,EACpBC,sBAAsB,EACtBC,mBAAmB,EACnB4B,YAAY,EACZC,UAAU,EACVvB,qBAAqB,EACrBC,mBAAmB,EACnBic,iBAAiB,EACjB7S,kBAAkB,EAClBnJ,gBAAgB,EAChByb,eAAgB,UAChB9b,oBAAoB,EACpB0c,UAAW,GACXlB,WAAY,GACZ7Z,YAAY,EACZC,aAAa,EACbC,WAAW,EACXC,aAAa,EACb7B,uBAAuB,EACvBC,uBAAuB,EACvB6B,aAAa,EACbC,kBAAkB,EAClBC,iBAAiB,IAvCb,4CAoIhB,WAAyC4b,EAASqK,EAAwBC,GAA1E,mBAAAtS,EAAA,sDACQtS,IAAI8P,KAAK,8DAAgEwK,EAAW,OAASqK,GAIpF3R,EAAI,EALrB,YAKwBA,EAAIkO,EAAKI,SAASrO,QAL1C,iBAMqB4R,EAAI,EANzB,YAM4BA,EAAI3D,EAAKI,SAAStO,GAAG8H,iBAAiB7H,QANlE,oBAOgBjT,IAAI8P,KAAK,aAAeoR,EAAKI,SAAStO,GAAG8H,iBAAiB+J,GAAGvK,SAAW,OAASA,GAC7E4G,EAAKI,SAAStO,GAAG8H,iBAAiB+J,GAAGvK,WAAaA,EARtE,wBASwBwK,EAAapkB,KAAKC,MAAMD,KAAK6B,UAAU2e,KAChCI,SAAStO,GAAG8H,iBAAiB+J,GAAG5G,wBAA0B0G,EACrEG,EAAWxD,SAAStO,GAAG8H,iBAAiB+J,GAAGhG,8BAAgC+F,EAC3E5kB,IAAI8P,KAAK,8FAAgGwK,EAAW,OAASqK,GAC7H3kB,IAAI8P,KAAK,gBAAkBpP,KAAK6B,UAAUuiB,IAC1C3D,EAAQzgB,KAAKC,MAAMD,KAAK6B,UAAUuiB,KAdtD,2BAM0ED,IAN1E,uBAKkD7R,IALlD,4DApIgB,sBAyJhB,MAAwBxQ,mBAAS,IAAjC,mBAAO0e,EAAP,KAAaC,EAAb,KAEAnhB,IAAI8P,KAAK,iEACT,IAAIoN,EAAUC,IAAKne,iCAAiCsqB,eAGpD,ECzLW,WACX,IAYA,EAA0B9mB,mBAZT,WACb,IACI,IAAMinB,EAAcC,eAAeC,QAAQ,SACrCC,EAAYlpB,KAAKC,MAAM8oB,GAG7B,OAFAzpB,IAAI+B,MAAM,yBAA2BrB,KAAK6B,UAAUqnB,IAE7CA,EACT,MAAOjB,GAEL,OADA3oB,IAAI+B,MAAM,kBAAoB4mB,GACvB,CAACH,MAAM,IAGaqB,IAAnC,mBAAOtB,EAAP,KAAcuB,EAAd,KAQA,OADA9pB,IAAI+B,MAAM,mBAAqBrB,KAAK6B,UAAUgmB,IACvC,CACHuB,SAPc,SAAAF,GACdF,eAAeK,QAAQ,QAASrpB,KAAK6B,UAAUqnB,IAC/CE,EAASF,IAMTrB,SDkKwByB,GAApBzB,EAAR,EAAQA,MAAOuB,EAAf,EAAeA,SAuCf,GApBArU,qBAAU,YACS,uCAAG,4BAAAnD,EAAA,6DACdtS,IAAI+T,MAAM,iCADI,SAEAT,GAAQ4J,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiB,GAF1D,cAEVgY,EAFU,gBAGajE,GAAQ0J,EAAQ7d,gBAAiB6d,EAAQzd,gBAAiB,GAHvE,OAGdgY,EAAE6J,SAAS,GAAGqE,KAHA,OAId5lB,QAAQC,IAAI,WAAaU,KAAK6B,UAAUkV,IACxC0J,EAAQzgB,KAAKC,MAAMD,KAAK6B,UAAUkV,KALpB,2CAAH,qDAOf/B,KACF,IAW2B,qBAAlBwL,EAAKI,SACZ,OAAO,iCAEXG,EAAsBrU,iBAAiBxH,iBAAmBqkB,GAO1DjqB,IAAI8P,KAAK,cAAgBlQ,OAAOC,SAASC,UACzCE,IAAI8P,KAAKpP,KAAK6B,UAAU2e,IAcxB,IAbA,IAAIgJ,EAAc,GAaRlX,EAAI,EAAGA,EAAIkO,EAAKI,SAAS,GAAGxG,iBAAiB7H,OAAQD,IAC3DhT,IAAI8P,KAAK,wCAA0CkD,EAAI,+BAAiCkO,EAAKI,SAAS,GAAGxG,iBAAiB9H,GAAGiL,yBAsBjI,OAnCA,WACIje,IAAI8P,KAAK,gBAAkBpP,KAAK6B,UAAU+mB,+WAC1C,IAAI,IAAItW,EAAI,EAAGA,EAAIuW,GAAsBtW,OAAQD,IAC7C,GAAgD,qBAApCuW,GAAsBvW,GAAGrR,MAGjC,OAFA3B,IAAI8P,KAAK,aAAayZ,GAAsBvW,GAAGxR,MAC/C0oB,EAAcX,GAAsBvW,GAAGxR,MAChC,EAGf,OAAO,EAQN2oB,IAGsB,KAAX,OAAL5B,QAAK,IAALA,OAAA,EAAAA,EAAOC,MAAiB,gBAAC,GAAD,CACvBpH,aArCe,EAsCfK,sBAAuBA,EACvBE,qBA9JmB,CACvBpa,iBAAkB,CACdrD,IAAI,EACJoD,UAAU,GAEdgE,SAAU,CACNpH,IAAI,EACJoD,UAAU,GAEdiE,WAAY,CACRrH,IAAI,EACJoD,UAAU,GAEdkE,gBAAiB,CACbtH,IAAI,EACJoD,UAAU,GAEdzI,WAAY,CACRqF,IAAI,EACJoD,UAAU,GAEdvJ,WAAY,CACRmG,IAAI,EACJoD,UAAU,GAEd+C,YAAa,CACTnG,IAAI,EACJoD,UAAU,GAEdrJ,OAAQ,CACJiG,IAAI,EACJoD,UAAU,GAEd6C,QAAS,CACLjG,IAAI,EACJoD,UAAU,GAEd8C,UAAW,CACPlG,IAAI,EACJoD,UAAU,GAEd2C,UAAW,CACP/F,IAAI,EACJoD,UAAU,GAEd4C,WAAY,CACRhG,IAAI,EACJoD,UAAU,GAEdmE,iBAAkB,CACdvH,IAAI,EACJoD,UAAU,IA4GV8iB,wBAhMsB,CAC1B5vB,kBAAmB,EACnBkQ,4BAA6B,GAC7BrQ,aAAc,EACdkM,uBAAwB,GACxBjM,gBAAiB,EACjBkM,0BAA2B,GAC3BjM,gBAAiB,EACjBkM,0BAA2B,GAC3BhM,WAAY,EACZiR,qBAAsB,GACtBV,QAAS,EACTC,kBAAmB,GACnBvQ,kBAAmB,EACnBgM,4BAA6B,GAC7B1L,eAAgB,EAChBsL,yBAA0B,GAC1B3L,kBAAmB,EACnBgQ,4BAA6B,GAC7BmD,aAAc,EACdI,yBAA0B,cAC1BC,sBAAuB,mBACvBmB,iBAAiB,EACjBE,mBAAmB,EACnB3E,kBAAmB,EACnB3E,kBAAmB,EACnB4E,4BAA6B,GAC7B1E,4BAA6B,GAC7B4gB,mBAAoB,QACpBC,wBAAyB,QACzBrsB,YAAa,GAmKTgH,QAAS0nB,cACTpI,KAAMA,EACNzU,oBAAqByU,EAAKI,SA3CX,GA2C0C7U,oBACzD7G,iBAAkB6b,EAAsBrU,iBAAiBxH,iBACzDqb,KAAMsH,EACN7kB,OAnEZ,WACIomB,EAAS,CAACtB,MAAK,KAmEP5E,0BAlPI,kDAoPR,gBAAC,GAAD,CAAoBhiB,QAAS0nB,cAAgCb,mBAnFrE,SAA4B4B,GACxBrqB,IAAI+T,MAAM,2BAA2BrT,KAAK6B,UAAU8nB,KAC5B,IAArBA,EAAY7B,OACXxoB,IAAI+T,MAAM,oBAAsBrT,KAAK6B,UAAU8nB,IAC/CA,EAAYC,cAAgBC,GAC5BF,EAAYG,uBAAyBC,GACrCJ,EAAYzU,gBAAkB8U,GAC9BL,EAAY/R,kBAAoBqS,GAChCb,EAASO,OA4DP,uBAAK9oB,UAAU,OAAM,qDAA6B2oB,EAA7B,mBAA4D,yBAAIxpB,KAAK6B,UAAU+mB,iX,UEzP5G9oB,GAAO,CACT,G,OACA,GAAMoqB,IAQJjV,GAAWkV,UAAUlV,SAASmV,MAAM,QAAQ,GAElDC,IAASC,OACL,kBAAC,IAAMC,WAAP,KACI,kBAAC,IAAD,CAAcC,OAAQvV,GAAUwV,SAAU3qB,GAAKmV,KAC3C,kBAAC,IAAD,KACI,kBAAC,GAAD,SAKZyV,SAASC,eAAe,SzDkGtB,kBAAmBR,WACrBA,UAAUS,cAAcC,MACnBjD,MAAK,SAAAkD,GACJA,EAAaC,gBAEd/C,OAAM,SAAAhQ,GACL3Y,QAAQ2Y,MAAMA,EAAMgT,a","file":"static/js/main.4eb65b2e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAA8CAMAAABcthojAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjIgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA1MkJGOTkzMkQ5QjExRUI4MUQ4OERFNEI3QjM4QTQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA1MkJGOTk0MkQ5QjExRUI4MUQ4OERFNEI3QjM4QTQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDUyQkY5OTEyRDlCMTFFQjgxRDg4REU0QjdCMzhBNDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDUyQkY5OTIyRDlCMTFFQjgxRDg4REU0QjdCMzhBNDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz58vasDAAADAFBMVEW5ubn28f3hAACusrKVlZWpqand3d3D1taqntTqBgbQ0NDnCQnBxsb1///VzuDIyMi8vb21tbXo6OihoaHV4/flAACqvb3Gxsbi3uWtqKjy7fm6v7++wcHy8/Pk5OTi4uK6trbSyeCxsbHW1tbw8PDMzMzeGxuurq7q5fLy9PTqCAjBwcHm6eHY2NjT09Omubmzr6+3s7Pu7+/s7u6yxcXmBwe1uLjh3Onv8eu+st7U1NTR1dXgHR3KysrIv+Hx6/fm5ubh2+i5tLTa3NzbFRWsrKxSUlLr7ufr6+vi5OTf2ebiICC4sr7Ozs61sLDLzs75+vr19/dhYWHs5/TiHh7n4u+ztq+2pc3d1+Sqr6+ww8O+urr8/fv4+vb/9/f29/WJiYnV2NjGyMiuwcG2pcvlBgbeAAD8/Pz9/f36+vr09PS6zc37+/v19fXfGxv5+fnDw8O3ysr4+Pj+/v7t7e3Z3Nz39/f29vbk3+y8t7fO0tLb29ve3t67q837//+7zs7FxcW1yMj2+PS0t7dnZ2extrajtra8uMSkpKT19vS+xrTG2dm6tbXo6uXczs7tUlKSkpK7rdG0psjO0ND++/v/0Mr94N+ppaXwcG/85+fl3+rx8+7nEhGuoM/n/P3rMzO+0tJycnLp6+vR5eXd4eHY6+vQ0tLFutjV19esv7/o4vDJxO/s5/Pb39ewoc/Hwc62qNbTzvG4rNj08vr39v3b3t6snc/9/v7yUFDY29vAsdDDstnf2ubx8fG2sbG0x8elxcWDhn64trb///ro6+Lo6enr7Ozo7OPs7+jg5Nvn793Py8ujmdm4zMznGRi5z8/7jYfV3PCrurrExsH2nZz8l5HpX1/pKir6+/vk4Ozm4e3o5+eipaX8xsbhHR3///nYz9r/9vGqsLDCvr74/PyDg4PV3Mq2ycnh4eHIxMT17/v5+fjd2OTn4e7X19fX2tq6qdG+rNTg2+eisLC0pcienp61pcuxra2yuLjcGRndGhrh3eni3uq6q87///////9tW+EVAAABAHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AU/cHJQAAAxFJREFUeNpi+P//v926bykfd3/4Fp4yd0Pw//8M//9vi/3379+prmdA8t9hu41AIUsQ85/uQlsw/W8iUOgMhKmaBaElgEKT/v3LUNbV4+LnqmET4grzAQrV/vuXzsXAUp4h3PFur9zldqDQX5DyHG2jIm05ECsUJuThurdIXRXEWgURymBTVZfNFBSQL9EOWw8RyncVFs7NUf/KYNRx0Aem8d+7kjKrTKBF5XtgQreVNJ8I+oJYjlChdKFDvHUCVhkOqrFQG/OVWD9f2yF5p8HVTYcRIlRc7nk+TbTHuizrxetbMLOOmthwG1SBWBFwG5f+ZOIK+JflEHMTapagupi3lkFkA6vbcahZ6WzLntuYKiTJyRV0asA0LhKz4Zb0RzErn/1XarTcP9msf7+hGvVk9L21JJl1dZ/qSEFDQo+rO0/0ZVV1On9vMEyjZmOe6b6dIJYXTEg2O8/UqRTE+gQLwqQ2b63prXL8EyzsocarCqwM4TT48a4g4YQ9TGN5YZ6pYSlyeP0rWvyL6bQRsvHlzmL3tCR5MrnUm6AeSuc30/fmlHykJxik8wqm0QEUXpMz/qlkVsCEjBeopUY7g1hv4EL7ga63BoZSfCjMLJnCe5yV0u/4W07CoqNEN/ke93eevbls8W9hGo2y1VIr36MEYQAwJPyc/+V6pENtDDBkjvLmNGQu4A+CRW2OuEBUCOc+My459dnwINwODPvHR1GCUNMkj9sgESkkclQLCm04K2WsqlncoeGVKWBmAjS+mZ8/wR0ehDey81KdlvzLQArCvfVqqQqlSMan11jV55lG+8vdFrBYA0s5SsnenH7M2h4sa+FBGAj0o8JWYPSl/4EJHQNGbWUiSgx5nM0z7VnxT+4oPOWImx3w1roUycUqABMqzuKd58LUV1eGSF///sXNZxLlvgtimUOy6L9/M5hERZnOTYEKfQEJXQcKiTLNBLJmAYW2gYT604AionHQ9AUuFKbNYWJiugJibQIKbeG4D2Q9vHphKkjkwWpQabJ5lyKf4kURERE+Pr7liv//AwQYACJfs3jX7Y9hAAAAAElFTkSuQmCC\"","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n//*********************************************  WARNING **************************************/\r\n/*\r\nThis file MUST MUST MUST be replicated in the server and client source hierarchies\r\n */\r\n\r\nconst measurement_name = {\r\n    temp_air_top: \"temp_air_top\",\r\n    temp_air_middle: \"temp_air_middle\",\r\n    temp_air_bottom: \"temp_air_bottom\",\r\n    temp_air_external: \"temp_air_external\",\r\n    temp_water: \"temp_water\",\r\n    humidity_internal: \"humidity_internal\",\r\n    humidity_external: \"humidity_external\",\r\n    water_level: \"water_level\",\r\n}\r\n\r\n\r\nconst measurement_type = {\r\n    temperature_middle: 'temperature_middle',\r\n    humidity_internal: 'humidity_internal',\r\n    pH: 'pH',\r\n    light_internal: 'light_internal',\r\n    water_level: 'water_level',\r\n    water_temperature: 'water_temperature',\r\n    co2: 'co2',\r\n    voc: 'voc',\r\n\r\n    /// emulator types - not all valid?\r\n    temperature: 'temperature',\r\n    humidity: 'humidity',\r\n    level: 'level'\r\n}\r\n\r\nconst message_type = {\r\n    measurement: 'measurement',\r\n    switch_event: 'switch_event',\r\n    dispenser_event: 'dispenser_event',\r\n    picture_event: 'picture_event',\r\n    // CLIENT ADDED\r\n    event: 'event',\r\n}\r\n\r\nconst directions = {\r\n    up: 'up',\r\n    down: 'down',\r\n    none: ''\r\n}\r\n\r\nconst sensor_name = {\r\n    thermometer_top: \"thermometer_top\",\r\n    thermometer_middle: \"thermometer_middle\",\r\n    thermometer_bottom: \"thermometer_bottom\",\r\n    thermometer_external: \"thermometer_external\",\r\n    thermometer_water: \"thermometer_water\",\r\n    humidity_sensor_internal: \"humidity_sensor_internal\",\r\n    humidity_sensor_external: \"humidity_sensor_external\",\r\n    water_level_sensor: \"water_level_sensor\",\r\n\r\n    // CLIENT ADDED\r\n    light_sensor_internal: \"light_sensor_internal\",\r\n    light_sensor_external: \"light_sensor_external\",\r\n    station_door_sensor: \"station_door_sensor\",\r\n    outer_door_sensor: \"outer_door_sensor\",\r\n    root_ph_sensor: \"root_ph_sensor\",\r\n    height_sensor: \"height_sensor\",\r\n    voc_sensor: \"voc_sensor\",\r\n    co2_sensor: \"co2_sensor\",\r\n    ec_sensor: \"ec_sensor\"\r\n}\r\n\r\nconst ac_device_name = {\r\n    humidifier: \"humidifier\",\r\n    water_heater: \"water_heater\",\r\n    heater: \"heater\",\r\n    water_pump: \"water_pump\",\r\n    air_pump: \"air_pump\",\r\n    intake_fan: \"intake_fan\",\r\n    exhaust_fan: \"exhaust_fan\",\r\n    heat_lamp: \"heat_lamp\",\r\n    heating_pad: \"heating_pad\",\r\n    light_bloom: \"light_bloom\",\r\n    light_vegetative: \"light_vegetative\",\r\n    light_germinate: \"light_germinate\",\r\n\r\n}\r\nconst temperature_units = {\r\n    fahrenheit: \"F\",\r\n    celsius: \"C\",\r\n    kelvin: \"K\"\r\n}\r\n\r\nconst humidity_units = {\r\n    percent: \"%\"\r\n}\r\n\r\nconst liquid_volume_units = {\r\n    gallons: \"gallons\",\r\n    ounces: \"oz\",\r\n    liters: \"liters\",\r\n    milliliters: \"ml\",\r\n}\r\n\r\n// CLIENT ADDED\r\nconst switch_name = {\r\n    growLight: \"growLight\",\r\n    lightBloom: \"lightBloom\",\r\n\r\n}\r\n\r\nmodule.exports = {\r\n    measurement_name,\r\n    measurement_type,\r\n    message_type,\r\n    directions,\r\n    sensor_name,\r\n    temperature_units,\r\n    humidity_units,\r\n    liquid_volume_units,\r\n    ac_device_name,\r\n    switch_name,\r\n}\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Normalize a port into a number, string, or false.\r\n */\r\n\r\n// import log from \"roarr\";\r\n\r\nconst fs = require('fs')\r\n// import log from \"./bubbles_logger\"\r\n\r\nfunction get_server_ports_for_environment(env_mixed) {\r\n\r\n    let env_lower = env_mixed.toLowerCase()\r\n    let ports = {\r\n        api_server_host: 'unset',\r\n        websocket_server_host: 'unset',\r\n        activemq_server_host: 'unset',\r\n        ui_server_port: 0,\r\n        api_server_port: 0,\r\n        websocket_server_port: 0,\r\n        activemq_server_port: 0,\r\n    };\r\n\r\n    switch(env_lower) {\r\n        case \"development\":\r\n            ports.ui_server_port = 3001;\r\n            ports.api_server_port = 4001;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.websocket_server_port = 5001;\r\n            ports.activemq_server_port = 61611;\r\n            ports.activemq_server_host = 'activemq';\r\n            break;\r\n        case \"test\":\r\n            ports.ui_server_port = 3002;\r\n            ports.api_server_port = 4002;\r\n            ports.websocket_server_port = 5002;\r\n            ports.activemq_server_port = 61612;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.activemq_server_host = window.location.hostname;\r\n            break;\r\n        case \"ci\":\r\n            ports.ui_server_port = 3003;\r\n            ports.api_server_port = 4003;\r\n            ports.api_server_host = 'localhost';\r\n            ports.websocket_server_host = 'localhost';\r\n            ports.websocket_server_port = 5003;\r\n            ports.activemq_server_port = 61613;\r\n            ports.activemq_server_host = 'localhost';\r\n            break;\r\n        case \"production\":\r\n            ports.ui_server_port = 3004;\r\n            ports.api_server_port = 4004;\r\n            ports.api_server_host = window.location.hostname;\r\n            ports.websocket_server_host = window.location.hostname;\r\n            ports.websocket_server_port = 5004;\r\n            ports.activemq_server_port = 61614;\r\n            ports.activemq_server_host = 'activemq';\r\n            break;\r\n        default:\r\n            console.log(\"ERROR NODE_ENV invalid value \" + env_lower)\r\n            break;\r\n    }\r\n//    console.log(\"util.js \" + JSON.stringify(process.env))\r\n    return( ports)\r\n}\r\n\r\nfunction normalizePort(val) {\r\n    const port = parseInt(val, 10);\r\n\r\n    if (isNaN(port)) {\r\n        // named pipe\r\n        return val;\r\n    }\r\n\r\n    if (port >= 0) {\r\n        // port number\r\n        return port;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nfunction readJsonFile(filepath) {\r\n//    log.trace(\"Reading config from \" + filepath)\r\n    const data = fs.readFileSync(filepath, 'utf8');\r\n    // parse JSON string to JSON object\r\n    return(JSON.parse(data));\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    get_server_ports_for_environment,\r\n    normalizePort: normalizePort,\r\n    readJsonFile:readJsonFile,\r\n    getRandomInt: getRandomInt\r\n};\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAoCAYAAADt5povAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF42lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTExLTIzVDEwOjI1OjM3LTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wMS0xM1QxMzo0MDo1MS0wNTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wMS0xM1QxMzo0MDo1MS0wNTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNjk5ZjY5OS01MGY2LTNk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\"","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                    'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                );\r\n\r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n\r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n            response.status === 404 ||\r\n            (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n            'No internet connection found. AuthenticatedApp is running in offline mode.'\r\n        );\r\n      });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n        .then(registration => {\r\n          registration.unregister();\r\n        })\r\n        .catch(error => {\r\n          console.error(error.message);\r\n        });\r\n  }\r\n}","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport {RadioButtonGroup} from \"rendition\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderEnvironmentPickerFunctional(props) {\r\n\r\n    let setNodeEnv = (value) => {\r\n        log.trace(\"EnvironmentPicker set nodeEnv to \" + value)\r\n        props.handleClick( value )\r\n    }\r\n\r\n        return (\r\n        <div>\r\n            <RadioButtonGroup\r\n                padding=\"10px\"\r\n                className=\"RenderEnvironmentPickerFunctional\"\r\n                name=\"environment\"\r\n                direction=\"row-responsive\"\r\n                options={['development', 'test', 'production']}\r\n                value={props.nodeEnv} onChange={(event) => setNodeEnv(event.target.value)}\r\n            />\r\n        </div>)\r\n\r\n}\r\n\r\nexport default RenderEnvironmentPickerFunctional;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../App.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTiltFunctional (props) {\r\n//    console.log(\"RenderTilt rendering as \" + props.tilt)\r\n    let ret = <>\r\n        <div id=\"tilt-gif-container\" />\r\n    </>\r\n\r\n    if(props.tilt === false ) {\r\n        ret = <></>\r\n    } else {\r\n        if( props.tile !== true ) { /// undefined\r\n            ret = <p>{props.tilt}</p>\r\n        }\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderTiltFunctional;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\n\r\nimport RenderEnvironmentPickerFunctional from \"./EnvironmentPickerFunctional\"\r\nimport RenderTiltFunctional from \"./TiltFunctional\"\r\nimport {ReadyState} from \"react-use-websocket\";\r\n// import getReadyState from '../AuthenticatedApp'\r\n// import {Table, TableRow, TableCell} from 'grommet'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\nimport {Text} from 'grommet'\r\n// import '../logimplementation'\r\nimport {Button} from \"grommet\";\r\nimport {get_server_ports_for_environment} from \"../util\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction Header (props) {\r\n    log.trace(\"render Header with props \"+JSON.stringify(props) )\r\n    let [nodeEnv, setNodeEnv] = useState(props.nodeEnv); // The array of SingleBoardComputers\r\n    let [apiPort, setApiPort] = useState();  // The port we should send queries to - depends on dev/test/prod\r\n\r\n    let CropWeek = -1\r\n\r\n    console.log(\"xxxx \" + JSON.stringify(props.station))\r\n\r\n//    log.trace(\"after useState\")\r\n    let setEnvironment = (value) => {\r\n        log.trace(\"Header.setEnvironment(\" + value + \")\")\r\n        var theNodeEnv = value.toLowerCase()\r\n        let api_server_port;\r\n\r\n        setNodeEnv(theNodeEnv);\r\n        let server_ports = get_server_ports_for_environment(value)\r\n        setApiPort(server_ports.api_server_port);\r\n        props.setNodeEnv(value)\r\n    }\r\n//    log.trace(\"after setenv\")\r\n    let webSocketLabel=\"Ping open WebSocket\"\r\n    if( props.readyState !== ReadyState.OPEN ) {\r\n        webSocketLabel = \"WebSocket server down\"\r\n    }\r\n//    log.trace(\"after websocket\")\r\n//    console.log(\"Rendering header with station \"+JSON.stringify(props.station))\r\n    return (\r\n        <div>\r\n            <header className=\"BubblesApp-header\" style={{'width': '100%'}} >\r\n                <span  >\r\n                    <div id=\"animated-gif-container\" />\r\n                </span>\r\n                <span style={{\r\n                    'alignItems': 'flex-start',\r\n                    'marginLeft': '25px'\r\n                }}>Bubbles - {props.siteName} - ({nodeEnv}) - {props.station.current_stage}</span>\r\n                <span style={{'width': '50%'}} >\r\n                    <RenderTiltFunctional tilt={props.tilt}/>\r\n                    <Button className='Logout-Button' color={'var(--color-button-border)'} width={'medium'} round={'large'} label={'Logout'} onClick={props.logout} />\r\n               </span>\r\n            </header>\r\n                <RenderEnvironmentPickerFunctional nodeEnv={nodeEnv} apiPort={apiPort}\r\n                                               handleClick={setEnvironment}/>\r\n            <Text >Crop Week {props.CropWeek} </Text>\r\n            <button onClick={props.handleClickSendMessage} disabled={props.readyState !== ReadyState.OPEN} >{webSocketLabel}</button>\r\n            <button onClick={props.handleClickSendMessage} >{\"API server\"}</button>\r\n            <button onClick={props.handleClickSendMessage} >{\"ActiveMQ\"}</button>\r\n        </div>\r\n   );\r\n}\r\n\r\nexport default Header","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderWaterHeater (props) {\r\n//    console.log(\"RenderHeater \"+props.on)\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret = <div id=\"waterheater-holder-off\" />\r\n    } else {\r\n        ret = <div id=\"waterheater-holder-on\" />\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n    return (ret)\r\n}\r\n\r\nexport default RenderWaterHeater;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderIntakeFan (props) {\r\n//    console.log(\"RenderIntakeFan intakeFanOn = \" + props.on)\r\n\r\n    let ret\r\n        if( props.on === false ) {\r\n            ret =\r\n                <div>\r\n                    <div id=\"intake-fan-container\" />\r\n                </div>\r\n        } else {\r\n            ret = <div>\r\n                <div id=\"intake-animated-wind-container\" />\r\n                <div id=\"intake-animated-fan-container\" />\r\n            </div>\r\n        }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderIntakeFan;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderExhaustFan (props) {\r\n//    console.log(\"RenderExhaustFan \" + props.on)\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret =\r\n            <div>\r\n                <div id= \"exhaust-fan-filter\" />\r\n                <div id=\"exhaust-stopped-fan-container\" />\r\n            </div>\r\n    } else {\r\n        ret = <div>\r\n            <div id= \"exhaust-fan-filter\" />\r\n            <div id=\"exhaust-animated-fan-container\" />\r\n            <div id=\"exhaust-animated-wind-container\" />\r\n        </div>\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderExhaustFan;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderAirPump (props) {\r\n    let ret\r\n        if( props.on === false ) {\r\n            ret =\r\n                <div className=\"airpump\">\r\n                    <div className=\"air-pump-holder-off\">\r\n                    </div>\r\n                    <div className=\"bubble-rock-holder-off\">\r\n                    </div>\r\n                </div>\r\n        } else {\r\n            ret =\r\n                <div className=\"airpump\">\r\n                <div className=\"air-pump-holder-on\">\r\n                </div>\r\n                <div className=\"bubble-holder-on\">\r\n                </div>\r\n                <div className=\"bubble-rock-holder-on\">\r\n                </div>\r\n                </div>\r\n        }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderAirPump;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderThermometer (props) {\r\n    let className=\"\"\r\n    if(props.direction===\"up\") {\r\n        className=\"arrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        className=\"arrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.1f\", props.currentTemperature)\r\n//    console.log(\"temp rendering as \" + value)\r\n    let ret = <>\r\n        <div className={className} />\r\n        <div className=\"thermo-icon\" />\r\n        <div className={\"airtempexternal-text-holder\"}>{value}{props.units}</div>\r\n    </>\r\n\r\n    if(props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderThermometer;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHygrometer (props) {\r\n//    console.log(\"RenderHygrometer humidity = \" + props.currentHumidity)\r\n    let holderid = props.prefix + \"humidity-holder\"\r\n    let textid = props.prefix + \"humiditytext-holder\"\r\n    let iconid = \"externalhumidityicon-holder\"\r\n    let value = sprintf.sprintf(\"%2.1f\", props.currentHumidity)\r\n    let className = \"\"\r\n    if (props.direction === \"up\") {\r\n        className = sprintf.sprintf(\"externalarrowup-icon\", props.prefix)\r\n    }\r\n    if (props.direction === \"down\") {\r\n        className = sprintf.sprintf(\"externalarrowdown-icon\", props.prefix)\r\n    }\r\n\r\n//    console.log(\"humidity rendering as \" + value)\r\n    let ret = <>\r\n        <div id={holderid}>\r\n         <div id={textid}>\r\n             {value}\r\n         </div>\r\n         <div id={iconid}/>\r\n        <div className={className}/>\r\n        </div>\r\n    </>\r\n\r\n    if (props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderHygrometer;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderLightMeter (props) {\r\n    let directionClassName=\"\"\r\n    if(props.direction===\"up\") {\r\n        directionClassName=\"arrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        directionClassName=\"arrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.1f\", props.value)\r\n//    console.log(\"value rendering as \" + value)\r\n    let ret = <div className={props.className} >\r\n        <div className={directionClassName} />\r\n        <div className={props.iconClassName} />\r\n        <div className={\"value-holder\"} >\r\n            {value} {props.units}\r\n        </div>\r\n        </div>\r\n\r\n    if(props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderLightMeter;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderBarometer (props) {\r\n    let directionClassName=\"\"\r\n    if(props.direction===\"up\") {\r\n        directionClassName=\"barometerarrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        directionClassName=\"barometerarrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.1f\", props.value)\r\n//    console.log(\"value rendering as \" + value)\r\n    let ret = <>\r\n        <div className={\"value-holder\"} >\r\n            {value} {props.units}\r\n        </div>\r\n        <div className={props.iconClassName} />\r\n        <div className={directionClassName} />\r\n    </>\r\n\r\n    if(props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderBarometer;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderCO2 (props) {\r\n    let directionClassName=\"\"\r\n    let ret = <></>\r\n\r\n    if(props.exists !== true ) {\r\n        console.log(\"CO2 doesn't exist!!! \" + props.exists)\r\n        return( ret )\r\n    }\r\n\r\n    if(props.direction === \"up\") {\r\n        directionClassName=\"co2arrowup-icon\"\r\n    }\r\n    if(props.direction === \"down\") {\r\n        directionClassName=\"co2arrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.0f\", props.value)\r\n    console.log(\"CO2 value rendering as \" + value)\r\n     ret = <>\r\n        <div className={\"value-holder-co2-voc\"} >\r\n            CO2 {value} {props.units}\r\n        </div>\r\n         <div className={directionClassName} />\r\n\r\n     </>\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderCO2;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderVOC (props) {\r\n    let directionClassName=\"\"\r\n    let ret = <></>\r\n\r\n    if(props.exists !== true ) {\r\n        return( ret )\r\n    }\r\n\r\n    if(props.direction===\"up\") {\r\n        directionClassName=\"vocarrowup-icon\"\r\n    }\r\n    if(props.direction===\"down\") {\r\n        directionClassName=\"vocarrowdown-icon\"\r\n    }\r\n    let value = sprintf.sprintf(\"%.0f\", props.value)\r\n//    console.log(\"value rendering as \" + value)\r\n    ret = <>\r\n        <div className={\"value-holder-co2-voc\"} >\r\n            VOC {value} {props.units}\r\n        </div>\r\n        <div className={directionClassName} />\r\n    </>\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderVOC;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport RenderThermometer from \"./ThermometerFunctional\";\r\nimport RenderHygrometer from \"./HygrometerFunctional\";\r\nimport RenderLightMeter from \"./LightMeterFunctional\";\r\nimport RenderBarometer from \"./BarometerFunctional\";\r\nimport RenderCO2 from \"./CO2Functional\";\r\nimport RenderVOC from \"./VOCFunctional\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderGrowLight (props) {\r\n    let ret\r\n    let growlight_classname = \"growlight-container-on\"\r\n    let empty_div_classname = \"growlight-on\"\r\n    let airtemp_holder_id = \"airtemp-holder-day\"\r\n\r\n    if (props.on === false) {\r\n         growlight_classname = \"growlight-container-off\"\r\n         empty_div_classname = \"growlight-off\"\r\n         airtemp_holder_id = \"airtemp-holder-night\"\r\n    }\r\n    console.log(\"props.station = \" + JSON.stringify(props.station))\r\n    ret =\r\n        <div className={growlight_classname}>\r\n            <div className=\"co2-holder\">\r\n                <RenderCO2 exists={props.station.co2_sensor}\r\n                           textClassName={\"co2-text-holder\"}\r\n                           iconClassName={\"co2-icon-holder\"}\r\n                           value={props.sensor_readings.co2}\r\n                           units={props.display_settings.co2_units}\r\n                           direction={props.sensor_readings.co2_direction}/>\r\n            </div>\r\n            <div className=\"voc-holder\">\r\n                <RenderVOC exists={props.station.voc_sensor}\r\n                           textClassName={\"voc-text-holder\"}\r\n                           iconClassName={\"voc-icon-holder\"}\r\n                           value={props.sensor_readings.voc}\r\n                           units={props.display_settings.voc_units}\r\n                           direction={props.sensor_readings.voc_direction}/>\r\n            </div>\r\n            <div className=\"pressure-holder\">\r\n                <RenderBarometer exists={props.station.pressure_sensors}\r\n                                 textClassName={\"pressure-text-holder\"}\r\n                                 iconClassName={\"pressure-icon-holder\"}\r\n                                 value={props.sensor_readings.pressure_internal}\r\n                                 units={props.display_settings.pressure_units}\r\n                                 direction={props.sensor_readings.pressure_internal_direction}/>\r\n            </div>\r\n            <RenderLightMeter\r\n                className={\"light-text-holder\"}\r\n                iconClassName={\"light-icon-holder\"}\r\n                exists={props.station.light_sensor_internal}\r\n                value={props.sensor_readings.light_internal}\r\n                units={props.display_settings.light_units}\r\n                direction={props.sensor_readings.light_internal_direction}/>\r\n            <div className=\"plant-height-holder\"/>\r\n            <div className={empty_div_classname}/>\r\n            <div className=\"plant-holder\"/>\r\n            <div id={airtemp_holder_id}>\r\n                <div id=\"airtemptop-text-holder\">\r\n                    <RenderThermometer exists={props.station.thermometer_top}\r\n                                       currentTemperature={props.sensor_readings.temp_air_top}\r\n                                       units={props.display_settings.temperature_units}\r\n                                       direction={props.sensor_readings.temp_air_top_direction}/>\r\n                </div>\r\n                <div id=\"airtempmiddle-text-holder\">\r\n                    <RenderThermometer exists={props.station.thermometer_middle}\r\n                                       currentTemperature={props.sensor_readings.temp_air_middle}\r\n                                       units={props.display_settings.temperature_units}\r\n                                       direction={props.sensor_readings.temp_air_middle_direction}/>\r\n                </div>\r\n                <div id=\"airtempbottom-text-holder\">\r\n                    <RenderThermometer exists={props.station.thermometer_bottom}\r\n                                       currentTemperature={props.sensor_readings.temp_air_bottom}\r\n                                       units={props.display_settings.temperature_units}\r\n                                       direction={props.sensor_readings.temp_air_bottom_direction}/>\r\n                </div>\r\n            </div>\r\n            <RenderHygrometer prefix={\"\"} exists={props.station.humidity_sensor_internal}\r\n                              currentHumidity={props.sensor_readings.humidity_internal}\r\n                              units={props.display_settings.humidity_units}\r\n                              direction={props.sensor_readings.humidity_internal_direction}/>\r\n        </div>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderGrowLight;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderWaterPump (props) {\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret =\r\n            <div id=\"waterpump-off\" >\r\n            </div>\r\n    } else {\r\n        ret =\r\n            <div id=\"waterpump-on\">\r\n                <div id=\"drippingwater\" />\r\n            </div>\r\n\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderWaterPump;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHeater (props) {\r\n//    console.log(\"RenderHeater \"+props.on)\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret = <div id=\"heater-holder-off\" />\r\n    } else {\r\n        ret = <div id=\"heater-holder-on\" />\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n    return (ret)\r\n}\r\n\r\nexport default RenderHeater;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/2\r\n\r\nfunction RenderHumidifier (props) {\r\n    let ret\r\n    if( props.on === false ) {\r\n        ret = <div id=\"humidifier-holder-off\" />\r\n    } else {\r\n        ret = <div id=\"humidifier-holder-on\" />\r\n    }\r\n    if(props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderHumidifier;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport Switch from \"react-input-switch\";\r\nimport {TableRow,TableCell} from \"grommet\";\r\nimport './controlTab.css'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nvar slideclick_valid = new Audio(\"slideclick_valid.mp3\");\r\nvar slideclick_invalid = new Audio(\"slideclick_invalid.mp3\");\r\n\r\nfunction goodbeep() {\r\n    slideclick_valid.play()\r\n}\r\nfunction badbeep() {\r\n    slideclick_invalid.play()\r\n}\r\nfunction RenderDeviceSwitch (props) {\r\n    function toggle(e) {\r\n        log.trace(\"changing = \" + props.changing)\r\n        if (props.automaticControl === props.off && props.changing === false) {\r\n            props.toggle(e)\r\n            goodbeep();\r\n        } else {\r\n            log.trace(\"changing = \" + props.changing + \" automaticControl = \" + props.automaticControl)\r\n            badbeep();\r\n        }\r\n    }\r\n\r\n    let trackBackgroundColor = 'red'\r\n    let trackCheckedColor = 'green'\r\n    let buttonBackgroundColor = 'yellow'\r\n    let buttonCheckedColor = 'yellow'\r\n\r\n    if (props.changing === true && props.automaticControl === props.off) {\r\n        trackBackgroundColor = 'grey'\r\n        trackCheckedColor = 'grey'\r\n        buttonBackgroundColor = 'darkgrey'\r\n        buttonCheckedColor = 'darkgrey'\r\n    } else if (props.automaticControl === props.on) {\r\n        trackBackgroundColor = 'red'\r\n        trackCheckedColor = 'green'\r\n        buttonBackgroundColor = 'red'\r\n        buttonCheckedColor = 'green'\r\n    }\r\n\r\n    let ret\r\n\r\n    if (props.exists === false) {\r\n        ret = <></>\r\n    } else {\r\n        ret =\r\n            <TableRow><TableCell>{props.label}</TableCell><TableCell>\r\n                <Switch on={props.on} off={props.off} value={props.onOff}\r\n                        styles={{\r\n                            track: {\r\n                                backgroundColor: trackBackgroundColor\r\n                            },\r\n                            trackChecked: {\r\n                                backgroundColor: trackCheckedColor\r\n                            },\r\n                            button: {\r\n                                backgroundColor: buttonBackgroundColor\r\n                            },\r\n                            buttonChecked: {\r\n                                backgroundColor: buttonCheckedColor\r\n                            }\r\n                        }} onChange={toggle}/>\r\n            </TableCell></TableRow>\r\n    }\r\n    return (ret)\r\n}\r\n\r\nexport default RenderDeviceSwitch;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {Box, Grid, Select} from \"grommet\";\r\nimport React, {useState} from \"react\";\r\n\r\nimport stage_options from \"../../stage_options.json\"\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStageSelector (props) {\r\n/*\r\n    function setCurrentStageValue(option) {\r\n        let x = local_station;\r\n        log.trace(\"current stage value \" +x.current_stage + \" new stage value \" + option)\r\n        x.current_stage = option\r\n        props.setStateFromChild(JSON.parse(JSON.stringify(x)))\r\n        setStation(x)\r\n    }\r\n*/\r\n    function setSelectedStageValue(option) {\r\n        let x = local_station;\r\n        log.trace(\"selected stage value \" +x.current_stage + \" new stage value \" + option)\r\n        x.current_stage = option\r\n        props.setSelectedStageFromChild(option)\r\n        setStation(x)\r\n    }\r\n\r\n    const [local_station, setStation] = useState(JSON.parse(JSON.stringify(props.station)));\r\n\r\n    log.trace(\"rendering with value={\"+props.automation_setting.stage_name+\"}\")\r\n    let ret = <>\r\n            <Grid\r\n                justify={'center'}\r\n                round={'xxsmall'}\r\n                direction={'horizontal'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [0, 0] },\r\n                    { name: 'stage', start: [1, 0], end: [1, 0] },\r\n                    { name: 'setcurrent', start: [2, 0], end: [2, 0] },\r\n                ]}\r\n                columns={['100px','150px','226px']}\r\n                rows={['60px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n\r\n                <Box justify={'center'} gridArea={'label'} width={'small'} round={'xsmall'} >\r\n                    Select Stage\r\n                </Box>\r\n                <Box justify={'center'} gridArea={'stage'} width={'small'} round={'xsmall'} >\r\n                    <Select options={stage_options} value={props.automation_setting.stage_name}\r\n                            onChange={({ option }) => setSelectedStageValue(option)} />\r\n                </Box>\r\n          </Grid>\r\n   </>\r\n    return(ret);\r\n}\r\n\r\nexport default RenderStageSelector;\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport {Table, TableCell, TableRow} from \"grommet\";\r\nimport RenderDeviceSwitch from \"./DeviceSwitchFunctional\";\r\nimport Switch from \"react-input-switch\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\nimport RenderStageSelector from \"../StageTabs/StageSelector\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nvar slideclick_valid = new Audio(\"slideclick_valid.mp3\");\r\n\r\nfunction goodbeep() {\r\n    slideclick_valid.play()\r\n}\r\n\r\nfunction RenderSwitchPanel (props) {\r\n    let automaticControlOn = props.switch_state.automaticControl.on\r\n    let value_name = 'ON'\r\n    let trackBackgroundColor = 'red'\r\n    let trackCheckedColor = 'green'\r\n    let buttonBackgroundColor = 'yellow'\r\n    let buttonCheckedColor = 'yellow'\r\n    let toggle_style = {\r\n        track: {\r\n            backgroundColor: trackBackgroundColor\r\n        },\r\n        trackChecked: {\r\n            backgroundColor: trackCheckedColor\r\n        },\r\n        button: {\r\n            backgroundColor: buttonBackgroundColor\r\n        },\r\n        buttonChecked: {\r\n            backgroundColor: buttonCheckedColor\r\n        }\r\n    }\r\n\r\n    function setSelectedStage(x) {\r\n        log.trace(\"setSelectedStage \" + JSON.stringify(x))\r\n        props.setCurrentStage(x)\r\n    }\r\n\r\n    function toggleAutomatic(e) {\r\n        log.trace(\"toggleAutomatic \")\r\n        goodbeep()\r\n        props.switchControl.automaticControl.toggle(e)\r\n    }\r\n\r\n    if(!automaticControlOn)\r\n        value_name = 'OFF'\r\n\r\n    let ret = <>\r\n            <Table ><tbody>\r\n        <TableRow ><TableCell >Automatic Control</TableCell>\r\n            <TableCell>\r\n            <Switch onChange={toggleAutomatic} on=\"ON\" off=\"OFF\" value={value_name} styles={toggle_style} />\r\n            </TableCell>\r\n        </TableRow>\r\n\r\n        <RenderDeviceSwitch exists={props.switch_state.humidifier} toggle={props.switchControl.humidifier.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.humidifier.on?\"ON\":\"OFF\"} label='Humidifier' automaticControl={value_name} changing={props.switch_state.humidifier.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.heater} toggle={props.switchControl.heater.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.heater.on?\"ON\":\"OFF\"} label='Heater' automaticControl={value_name} changing={props.switch_state.heater.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.intake_fan} toggle={props.switchControl.intakeFan.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.intakeFan.on?\"ON\":\"OFF\"} label='Intake Fan'  automaticControl={value_name} changing={props.switch_state.intakeFan.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.exhaust_fan} toggle={props.switchControl.exhaustFan.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.exhaustFan.on?\"ON\":\"OFF\"} label='Exhaust Fan'  automaticControl={value_name} changing={props.switch_state.exhaustFan.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.air_pump} toggle={props.switchControl.airPump.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.airPump.on?\"ON\":\"OFF\"} label='Air Pump'  automaticControl={value_name} changing={props.switch_state.airPump.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.water_pump} toggle={props.switchControl.waterPump.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.waterPump.on?\"ON\":\"OFF\"} label='Water Pump'  automaticControl={value_name} changing={props.switch_state.waterPump.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.light_bloom} toggle={props.switchControl.lightBloom.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.lightBloom.on?\"ON\":\"OFF\"} label='Growlight'  automaticControl={value_name} changing={props.switch_state.lightBloom.changing}/>\r\n        <RenderDeviceSwitch exists={props.switch_state.water_heater} toggle={props.switchControl.waterHeater.toggle} on=\"ON\" off=\"OFF\" onOff={props.switch_state.waterHeater.on?\"ON\":\"OFF\"} label='Water Heater'  automaticControl={value_name} changing={props.switch_state.waterHeater.changing}/>\r\n\r\n    </tbody></Table>\r\n        <RenderStageSelector station={props.station}\r\n                             display_settings={props.display_settings}\r\n                             setSelectedStageFromChild={setSelectedStage}\r\n                             automation_setting={{stage_name: props.station.current_stage}}\r\n                              />\r\n    </>\r\n\r\n    return (ret)\r\n}\r\n\r\n\r\nexport default RenderSwitchPanel;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\nimport RenderThermometer from \"./ThermometerFunctional\";\r\nimport RenderHygrometer from \"./HygrometerFunctional\";\r\nimport RenderBarometer from \"./BarometerFunctional\";\r\n// import {Text} from \"grommet\"\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderExternalMetrics (props) {\r\n    let value = \"\"\r\n    let light_sensor = <></>\r\n    if( props.station.light_sensor_external === true && typeof(props.sensor_readings.light_external) != 'undefined' ) {\r\n        value = sprintf.sprintf(\"%.1f\", props.sensor_readings.light_external)\r\n        light_sensor = <div><div id={\"sun-moon-icon-holder\"}/><div className={\"value-holder-light-external\"}>{value} lux</div></div>\r\n    }\r\n\r\n    let ret =\r\n        <>\r\n            {light_sensor}\r\n            <div id=\"airtempexternal-holder\">\r\n                <RenderThermometer exists={props.station.thermometer_external}\r\n                                   display_settings={props.display_settings}\r\n                                   currentTemperature={props.sensor_readings.temp_air_external}\r\n                                   units={props.display_settings.temperature_units}\r\n                                   direction={props.sensor_readings.temp_air_external_direction}/>\r\n            </div>\r\n            <div id=\"humidityexternal-text-holder\">\r\n                <RenderHygrometer prefix={\"external\"}\r\n                                  exists={props.station.humidity_sensor_external}\r\n                                  display_settings={props.display_settings}\r\n                                  currentHumidity={props.sensor_readings.humidity_external}\r\n                                  units={props.display_settings.humidity_units}\r\n                                  direction={props.sensor_readings.humidity_external_direction}/>\r\n            </div>\r\n            <div className=\"externalpressure-holder\">\r\n                <RenderBarometer exists={props.station.pressure_sensors}\r\n                                 display_settings={props.display_settings}\r\n                                 holderClassName={\"pressure-holder\"}\r\n                                 textClassName={\"pressure-text-holder\"}\r\n                    iconClassName={\"pressure-icon-holder\"}\r\n                    value={props.sensor_readings.pressure_external}\r\n                    units={props.display_settings.pressure_units}\r\n                    direction={props.sensor_readings.pressure_external_direction} />\r\n            </div>\r\n        </>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderExternalMetrics;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderPhmeter (props) {\r\n    let value = sprintf.sprintf(\"%2.1f\", props.sensor_readings.root_ph)\r\n    let className = \"\"\r\n    if (props.sensor_readings.root_ph_direction === \"up\") {\r\n        className = sprintf.sprintf(\"externalarrowup-icon\")\r\n    }\r\n    if (props.sensor_readings.root_ph_direction === \"down\") {\r\n        className = sprintf.sprintf(\"externalarrowdown-icon\")\r\n    }\r\n\r\n  //  console.log(\"ph rendering as \" + value)\r\n    let ret = <>\r\n             pH {value}\r\n        <div className={className}/>\r\n    </>\r\n\r\n    if (props.exists === false) (\r\n        ret = <></>\r\n    )\r\n\r\n    return (ret);\r\n}\r\n\r\nexport default RenderPhmeter;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\n\r\nimport RenderWaterHeater from \"./WaterHeaterFunctional\";\r\nimport RenderIntakeFan from \"./IntakeFanFunctional\";\r\nimport RenderExhaustFan from \"./ExhaustFanFunctional\";\r\nimport RenderAirPump from \"./AirPumpFunctional\";\r\nimport RenderGrowLight from \"./GrowLightFunctional\";\r\nimport RenderWaterPump from \"./WaterPumpFunctional\";\r\nimport RenderHeater from \"./HeaterFunctional\";\r\nimport RenderHumidifier from \"./HumidifierFunctional\";\r\nimport RenderSwitchPanel from \"./SwitchPanelFunctional\";\r\nimport RenderThermometer from \"./ThermometerFunctional\";\r\nimport RenderExternalMetrics from \"./ExternalMetricsFunctional\";\r\nimport {Grommet} from \"grommet\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport RenderPhmeter from \"./PhmeterFunctional\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderControlTab(props) {\r\n\r\n    let switchControl = {\r\n            automaticControl: {toggle: toggleAutomatic},\r\n            humidifier: {changing: false, toggle: toggleHumidifier},\r\n            heater: {changing: false, toggle: toggleHeater},\r\n            heatLamp: {changing: false, toggle: toggleHeatLamp},\r\n            heatingPad: {changing: false, toggle: toggleHeatingPad},\r\n            waterHeater: {changing: false, toggle: toggleWaterHeater},\r\n            lightBloom: {changing: false, toggle: toggleLightBloom},\r\n            lightVegetative: {changing: false, toggle: toggleLightVegetative},\r\n            airPump: {changing: false, toggle: toggleAirPump},\r\n            waterPump: {changing: false, toggle: toggleWaterPump},\r\n            intakeFan: {changing: false, toggle: toggleIntakeFan},\r\n            exhaustFan: {changing: false, toggle: toggleExhaustFan},\r\n            currentGrowLight: {changing: false, toggle: toggleCurrentGrowLight}\r\n    }\r\n\r\n\r\n    /***\r\n     *\r\n    function toggleState() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.changingState.on = !values.switchControl.changingState.on;\r\n        props.setStateFromChild(x, \"changingState\", x.changingState.on)\r\n    }\r\n     */\r\n\r\n    function toggleAutomatic() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.automaticControl.on = !props.switch_state.automaticControl.on;\r\n        log.trace(\"toggleAutomatic from \" + props.switch_state.automaticControl.on + \" to \" + x.automaticControl.on)\r\n        props.setStateFromChild(x, \"automaticControl\", x.automaticControl.on)\r\n    }\r\n\r\n    function toggleLightBloom() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.lightBloom.on = !props.switch_state.lightBloom.on;\r\n        props.setStateFromChild(x,\"lightBloom\",x.lightBloom.on)\r\n    }\r\n\r\n    function toggleLightVegetative() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.lightVegetative.on = !props.switch_state.lightVegetative.on;\r\n        props.setStateFromChild(x,\"lightVegetative\",x.lightVegetative.on)\r\n    }\r\n\r\n    function toggleHumidifier() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.humidifier.on = !props.switch_state.humidifier.on;\r\n        props.setStateFromChild(x,\"humidifier\",x.humidifier.on)\r\n    }\r\n\r\n    function toggleHeatLamp() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.heatLamp.on = !props.switch_state.heatLamp.on;\r\n        props.setStateFromChild(x,\"heatLamp\",x.heatLamp.on)\r\n    }\r\n\r\n    function toggleHeatingPad() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.heatingPad.on = !props.switch_state.heatingPad.on;\r\n        props.setStateFromChild(x,\"heatingPad\",x.heatingPad.on)\r\n    }\r\n\r\n    function toggleWaterHeater() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.waterHeater.on = !props.switch_state.waterHeater.on;\r\n        props.setStateFromChild(x,\"waterHeater\",x.waterHeater.on)\r\n    }\r\n\r\n    function toggleHeater() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.heater.on = !props.switch_state.heater.on;\r\n        props.setStateFromChild(x,\"heater\",x.heater.on)\r\n    }\r\n\r\n    function toggleIntakeFan() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.intakeFan.on = !props.switch_state.intakeFan.on;\r\n        props.setStateFromChild(x,\"intakeFan\",x.intakeFan.on)\r\n    }\r\n\r\n    function toggleExhaustFan() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.exhaustFan.on = !props.switch_state.exhaustFan.on;\r\n        props.setStateFromChild(x,\"exhaustFan\",x.exhaustFan.on)\r\n    }\r\n\r\n    function toggleCurrentGrowLight() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.currentGrowLight.on = !props.switch_state.currentGrowLight.on;\r\n        props.setStateFromChild(x,\"growLight\",x.currentGrowLight.on)\r\n    }\r\n\r\n    function toggleAirPump() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.airPump.on = !props.switch_state.airPump.on;\r\n        props.setStateFromChild(x,\"airPump\",x.airPump.on)\r\n    }\r\n\r\n    function toggleWaterPump() {\r\n        let x = JSON.parse(JSON.stringify(props.switch_state));\r\n        x.waterPump.on = !props.switch_state.waterPump.on;\r\n        props.setStateFromChild(x,\"waterPump\",x.waterPump.on)\r\n    }\r\n\r\n    let wl\r\n    let wlRuler\r\n    if (props.station.water_level_sensor === false) {\r\n        wl = <></>\r\n        wlRuler = <></>\r\n    } else {\r\n//        console.log(\"props.station = \" + JSON.stringify(props.station))\r\n        wlRuler = <div id=\"watertemp-holder\">\r\n            <RenderThermometer exists={props.station.thermometer_water}\r\n                               className=\"airtemptop-text-holder\" currentTemperature={props.sensor_readings.temp_water}\r\n                               units={props.display_settings.temperature_units}\r\n                               direction={props.sensor_readings.temp_water_direction}/>\r\n        </div>\r\n\r\n        let water_level_text = sprintf.sprintf(\"%.1f\",props.sensor_readings.water_level )\r\n        log.trace(\"setting water_level_text to \" + water_level_text)\r\n        wl = <div id=\"water-level-text-holder\">\r\n            {water_level_text} {props.display_settings.tub_volume_units}\r\n        </div>\r\n    }\r\n    let water_level_percent = props.sensor_readings.water_level/20.0\r\n    let water_level_max_pixels = 188\r\n    let water_level_height = water_level_max_pixels*water_level_percent\r\n    let water_level_top = (water_level_max_pixels-water_level_height) + 'px'\r\n//    console.log(\"rerender: \"+props.because)\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: props.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n\r\n            <div className=\"global_container_\">\r\n                <div id=\"growboxgroup\">\r\n                    <div id=\"tub\">\r\n                        <div id=\"tubedge-holder\">\r\n                        </div>\r\n                        <div id=\"water-level-holder\" style={{'height': water_level_height,'top': water_level_top}}>\r\n                        </div>\r\n                        {wl}\r\n                        {wlRuler}\r\n                        <div id={\"root_ph_holder\"}>\r\n                            <RenderPhmeter exists={props.station.root_ph_sensor} sensor_readings={props.sensor_readings} />\r\n                        </div>\r\n                        <div className=\"waterheater\">\r\n                            <RenderWaterHeater exists={props.station.water_heater} on={props.switch_state.waterHeater.on} />\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div id=\"station\">\r\n                    </div>\r\n                    <div className=\"plant\">\r\n                        <div className=\"plant-holder\">\r\n                            <p className=\"plant-2\">Plant</p>\r\n                        </div>\r\n\r\n                        <div className=\"col-2\">\r\n                            <div className=\"pot-holder-top\">\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            <div className=\"pot-holder-body\">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <RenderGrowLight\r\n                        station={props.station}\r\n                        sensor_readings = {props.sensor_readings}\r\n                        display_settings={props.display_settings}\r\n                        exists={props.station.light_vegetative || props.station.light_bloom || props.station.light_germinate}\r\n                        on={props.switch_state.lightBloom.on || props.switch_state.lightVegetative.on}\r\n                    />\r\n                    <RenderHeater exists={props.station.heater} on={props.switch_state.heater.on}/>\r\n                    <RenderHumidifier exists={props.station.humidifier} on={props.switch_state.humidifier.on}/>\r\n                    <div className=\"exhaust\">\r\n                        <div className=\"filter-and-exhaust-fan-holder\">\r\n                            <RenderExhaustFan exists={props.station.exhaust_fan} on={props.switch_state.exhaustFan.on}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"fans\">\r\n                        <div className=\"input-fan-holder\">\r\n                            <RenderIntakeFan exists={props.station.intake_fan} on={props.switch_state.intakeFan.on}/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <RenderWaterPump exists={props.station.water_pump} on={props.switch_state.waterPump.on}/>\r\n                    <RenderAirPump exists={props.station.air_pump} on={props.switch_state.airPump.on}/>\r\n                    <div id=\"water-level-ruler-holder\"/>\r\n\r\n                </div>\r\n                <div id={\"controltab-externalgroup\"}>\r\n                    <RenderExternalMetrics display_settings={props.display_settings}\r\n                                           station={props.station}\r\n                                           sensor_readings={props.sensor_readings}\r\n                                            />\r\n                </div>\r\n                <div id=\"controltab-buttongroup\">\r\n                    <RenderSwitchPanel display_settings={props.display_settings}\r\n                                       station={props.station}\r\n                                       switch_state={props.switch_state}\r\n                                       switchControl={switchControl}\r\n                                       automation_setting={props.station}\r\n                                       setCurrentStage={props.setCurrentStage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderControlTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTemperatureMeter (props) {\r\n    let valueText = sprintf.sprintf(\"%.1f%s\", props.sensor_readings.temp_air_middle, props.display_settings.temperature_units)\r\n    let ret =\r\n            <div className={props.className}>\r\n                <p className=\"meter-text\">{props.label}</p>\r\n                <ReactSpeedometer\r\n                    width={250} height={150}\r\n                    value={props.sensor_readings.temp_air_middle} minValue={props.automation_settings.temperature_min} maxValue={props.automation_settings.temperature_max}\r\n                    currentValueText={valueText}\r\n                    segments={3}\r\n                    segmentColors={['blue','green','red']}\r\n                    customSegmentStops={[props.automation_settings.temperature_min, 75, 85, props.automation_settings.temperature_max]}\r\n                    customSegmentLabels={[\r\n                        {text: 'TOO COLD', position: 'INSIDE', color: 'white'},\r\n                        {text: 'OK', position: 'INSIDE', color: 'white'},\r\n                        {text: 'HOT', position: 'INSIDE', color: 'white'},\r\n                    ]}\r\n                    />\r\n            </div>\r\n    if( props.station_settings.thermometer_middle === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderTemperatureMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport sprintf from 'sprintf-js';\r\n\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHumidityMeter (props) {\r\n    let valueText = sprintf.sprintf(\"%.1f%s\", props.sensor_readings.humidity_internal, props.display_settings.humidity_units)\r\n    let ret =\r\n        <div className={props.className}>\r\n            <p className=\"meter-text\">{props.label}</p>\r\n                <ReactSpeedometer\r\n                    width={250} height={150}\r\n                    value={props.sensor_readings.humidity_internal} maxValue={props.automation_settings.humidity_max}\r\n                    currentValueText={valueText}\r\n                    segments={3}\r\n                    segmentColors={['blue','green','red']}\r\n                    customSegmentStops={[props.automation_settings.humidity_min, props.automation_settings.humidity_target_range_low, props.automation_settings.humidity_target_range_high, props.automation_settings.humidity_max]}\r\n                    customSegmentLabels={[\r\n                        {text: 'TOO DRY', position: 'INSIDE', color: 'white'},\r\n                        {text: 'OK', position: 'INSIDE', color: 'white'},\r\n                        {text: '', position: 'INSIDE', color: 'white'},\r\n                    ]}\r\n                    className={props.className}\r\n                />\r\n        </div>\r\n\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\nreturn (ret)\r\n}\r\n\r\nexport default RenderHumidityMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderPressureMeter (props) {\r\n\r\n    let diff_float = (props.sensor_readings.pressure_external - props.sensor_readings.pressure_internal)\r\n    let diff_value =  sprintf.sprintf(\"%.1f\", diff_float)\r\n    let valueText =  diff_value+\" \"+props.display_settings.pressure_units\r\n    let ret =\r\n        <div className={props.className}>\r\n            <p className=\"meter-text\">{props.label}</p>\r\n            <ReactSpeedometer\r\n                width={250} height={150}\r\n                value={diff_float} minValue={-50} maxValue={50}\r\n                currentValueText={valueText}\r\n                segments={3}\r\n                segmentColors={['red','green']}\r\n                customSegmentStops={[-50, 0, 50]}\r\n                customSegmentLabels={[\r\n                        {text: 'ODOR ESCAPE', position: 'INSIDE', color: 'white'},\r\n                        {text: 'NO ODOR', position: 'INSIDE', color: 'white'},\r\n                    ]}\r\n                className={props.className}\r\n                    />\r\n            </div>\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderPressureMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport ReactSpeedometer from \"react-d3-speedometer\";\r\nimport sprintf from 'sprintf-js';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderPhMeter (props) {\r\n\r\n    let valueText = sprintf.sprintf( \"%.1f\", props.sensor_readings.root_ph )\r\n    let ret =\r\n        <div className={props.className}>\r\n            <p className=\"meter-text\">{props.label}</p>\r\n                <ReactSpeedometer\r\n                    width={250} height={150}\r\n                    value={props.sensor_readings.root_ph} minValue={4} maxValue={8}\r\n                    currentValueText={valueText}\r\n                    segments={3}\r\n                    segmentColors={['red','green','yellow']}\r\n                    customSegmentStops={[4, 5.8, 6.2, 8]}\r\n                    customSegmentLabels={[\r\n                        {text: 'ACID', position: 'INSIDE', color: 'white'},\r\n                        {text: 'OK', position: 'INSIDE', color: 'white'},\r\n                        {text: 'BASE', position: 'INSIDE', color: 'black'},\r\n                    ]}\r\n                    className={props.className}\r\n                    />\r\n            </div>\r\n    if( props.exists === false ) {\r\n        ret = <></>\r\n    }\r\n\r\n    return (ret)\r\n}\r\n\r\nexport default RenderPhMeter;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from 'sprintf-js'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStateTextStatus (props) {\r\n\r\n    log.trace(\"RenderStateTextStatus\")\r\n    let plant_height = sprintf.sprintf(\"%.1f\", props.sensor_readings.plant_height)\r\n let ret =\r\n     <Grid className={'status-table-holder'} round={'small'} direction={'vertical'}\r\n        areas={[\r\n            { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n            { name: 'plant-label', start: [0, 1], end: [0, 1] }, { name: 'plant-value', start: [1, 1], end: [1, 1] },\r\n            { name: 'light-schedule-label', start: [0, 2], end: [0, 2] }, { name: 'light-schedule-value', start: [1, 2], end: [1, 2] },\r\n            { name: 'light-cycle-label', start: [0, 3], end: [0, 3] }, { name: 'light-cycle-value', start: [1, 3], end: [1, 3] },\r\n            { name: 'stage-label', start: [0, 4], end: [0, 4] }, { name: 'stage-value', start: [1, 4], end: [1, 4] },\r\n            { name: 'stage-current-label', start: [0, 5], end: [0, 5] }, { name: 'stage-current-value', start: [1, 5], end: [1, 5] },\r\n            { name: 'next-stage-label', start: [0, 6], end: [0, 6] }, { name: 'next-stage-value', start: [1, 6], end: [1, 6] },\r\n        ]}\r\n        columns={['medium', 'small', 'xxsmall']}\r\n        rows={['40px','20px','20px','20px','20px','20px','20px']}\r\n        gap={\"xxsmall\"} >\r\n\r\n        <Box gridArea={'table-label'}>Current Plant State</Box>\r\n        <Box gridArea={'plant-label'}>Plant height</Box><Box gridArea={'plant-value'}>{plant_height} {props.display_settings.plant_height_units}</Box>\r\n        <Box gridArea={'light-schedule-label'}>Light schedule</Box><Box gridArea={'light-schedule-value'}>{props.automation_settings.current_lighting_schedule}</Box>\r\n         <Box gridArea={'light-cycle-label'}>Light cycle starts</Box><Box gridArea={'light-cycle-value'}>{'10 AM EST'}</Box>\r\n        <Box gridArea={'stage-label'}>Current stage</Box><Box gridArea={'stage-value'}>{props.station.current_stage}</Box>\r\n        <Box gridArea={'stage-current-label'}>Current stage started</Box><Box gridArea={'stage-current-value'}>{props.various_dates.start_date_current_stage}</Box>\r\n        <Box gridArea={'next-stage-label'}>Next stage starts</Box><Box gridArea={'next-stage-value'}>{props.various_dates.start_date_next_stage}</Box>\r\n     </Grid>\r\n    return( ret );\r\n}\r\n\r\nexport default RenderStateTextStatus;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStateTextStatus (props) {\r\n    let initValues = {\r\n        stage: \"vegetative\",\r\n        lightSchedule: \"12/12\",\r\n        lastWaterChange: \"10 days ago\",\r\n        powerConsumption: \"40W\",\r\n        stationDoor: \"Closed\",\r\n        outerDoor: \"Closed\",\r\n        lastTraining: \"17 days ago\",\r\n        lastFilterChange: \"never\",\r\n        currentStageStarted: \"25 days ago\",\r\n        nextStageStarts: \"10 days\",\r\n        airTempTop: \"84F\",\r\n        airTempMiddle: \"81F\",\r\n        airTempBottom: \"79F\",\r\n        waterTemp: \"70F\",\r\n        plantHeight: \"37in\"\r\n    };\r\n\r\n    let [values] = useState(initValues); //\r\n\r\n    let ret =\r\n        <Grid className={\"status-table-holder\"}\r\n              round={'small'}\r\n              direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: 'training-label', start: [0, 1], end: [0, 1] },{ name: 'training-value', start: [1, 1], end: [1, 1] },\r\n                  { name: 'water-change-label', start: [0, 2], end: [0, 2] },{ name: 'water-change-value', start: [1, 2], end: [1, 2] },\r\n                  { name: 'filter-change-label', start: [0, 3], end: [0, 3] },{ name: 'filter-change-value', start: [1, 3], end: [1, 3] },\r\n              ]}\r\n              columns={['medium','small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n                    <Box gridArea={'table-label'}>Interventions</Box>\r\n                    <Box gridArea={'training-label'}>Last Training</Box><Box gridArea={'training-value'}>{values.lastTraining}</Box>\r\n                    <Box gridArea={'water-change-label'}>Last Water Change</Box><Box gridArea={'water-change-value'}>{values.lastWaterChange}</Box>\r\n                    <Box gridArea={'filter-change-label'}>Last Filter Change</Box><Box gridArea={'filter-change-value'}>{values.lastFilterChange}</Box>\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStateTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from \"sprintf-js\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderSecurityTextStatus (props) {\r\n\r\n    let outerdoor = <></>\r\n    if(props.station_settings.outer_door_sensor) {\r\n        outerdoor = <><Box gridArea={'outer-door-label'}>Outer Door</Box><Box gridArea={'outer-door-value'}>{props.sensor_readings.outer_door_open?'OPEN':'CLOSED'}</Box></>\r\n    }\r\n    let stationdoor = <></>\r\n    if(props.station_settings.station_door_sensor) {\r\n        stationdoor = <><Box gridArea={'station-door-label'}>Station Door</Box><Box gridArea={'station-door-value'}>{props.sensor_readings.station_door_open?'OPEN':'CLOSED'}</Box></>\r\n    }\r\n    let intpressure = <></>\r\n    let extpressure = <></>\r\n    let pressurediff = <></>\r\n    let valuestr = \"\"\r\n    if(props.station_settings.pressure_sensors) {\r\n         valuestr = sprintf.sprintf( \"%.1f %s\", props.sensor_readings.pressure_external, props.display_settings.pressure_units )\r\n        extpressure = <><Box gridArea={'external-pressure-label'}>External Pressure</Box><Box gridArea={'external-pressure-value'}>{valuestr}</Box></>\r\n         valuestr = sprintf.sprintf( \"%.1f %s\", props.sensor_readings.pressure_internal, props.display_settings.pressure_units )\r\n        intpressure = <><Box gridArea={'internal-pressure-label'}>Internal Pressure</Box><Box gridArea={'internal-pressure-value'}>{valuestr}</Box></>\r\n         valuestr = sprintf.sprintf( \"%.1f %s\", props.sensor_readings.pressure_external-props.sensor_readings.pressure_internal, props.display_settings.pressure_units )\r\n        pressurediff = <><Box gridArea={'pressure-differential-label'}>Pressure Diff (odor)</Box><Box gridArea={'pressure-differential-value'}>{valuestr}</Box></>\r\n    }\r\n\r\n    let ret =\r\n        <Grid className={\"status-table-holder\"} round={'small'} direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: 'outer-door-label', start: [0, 1], end: [0, 1] },{ name: 'outer-door-value', start: [1, 1], end: [1, 1] },\r\n                  { name: 'station-door-label', start: [0, 2], end: [0, 2] },{ name: 'station-door-value', start: [1, 2], end: [1, 2] },\r\n                  { name: 'external-pressure-label', start: [0, 3], end: [0, 3] },{ name: 'external-pressure-value', start: [1, 3], end: [1, 3] },\r\n                  { name: 'internal-pressure-label', start: [0, 4], end: [0, 4] },{ name: 'internal-pressure-value', start: [1, 4], end: [1, 4] },\r\n                  { name: 'pressure-differential-label', start: [0, 5], end: [0, 5] },{ name: 'pressure-differential-value', start: [1, 5], end: [1, 5] },{ name: 'pressure-differential-direction', start: [2, 5], end: [2, 5] }\r\n              ]}\r\n              columns={['medium','small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n            <Box gridArea={'table-label'}>Security</Box>\r\n            {outerdoor}\r\n            {stationdoor}\r\n            {extpressure}\r\n            {intpressure}\r\n            {pressurediff}\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderSecurityTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from 'sprintf-js'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderEnvValueWithDirection (props) {\r\n    log.info(\"RenderEnvValueWithDirection \"+ props.label +\" units = \" + props.units)\r\n\r\n    let ret =''\r\n    let label_area= `${props.gridArea}-label`\r\n    let value_area= `${props.gridArea}-value`\r\n    let direction_area= `${props.gridArea}-direction`\r\n    if( props.exists !== true ) {\r\n        ret = <>\r\n            <Box gridArea={label_area}>{props.label}</Box>\r\n            <Box gridArea={value_area} />\r\n            <Box gridArea={direction_area} />\r\n        </>\r\n    } else {\r\n        let className = ''\r\n        if(props.direction === 'up') {\r\n            className='zero-arrowup-icon'\r\n        }\r\n        if(props.direction === 'down') {\r\n            className='zero-arrowdown-icon'\r\n        }\r\n        let valuestr = sprintf.sprintf( \"%.1f %s\", props.value, props.units )\r\n\r\n        ret = <>\r\n            <Box gridArea={label_area}>{props.label}</Box>\r\n            <Box gridArea={value_area}>{valuestr}</Box>\r\n            <Box gridArea={direction_area}>\r\n                <div className={className}/>\r\n            </Box>\r\n        </>\r\n    }\r\n    return( ret )\r\n}\r\nexport default RenderEnvValueWithDirection;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport RenderEnvValueWithDirection from './EnvValueWithDirection'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderEnvironmentTextStatus (props) {\r\n\r\n    log.trace('RenderStateTextStatus temp='+props.sensor_readings.temp_air_middle)\r\n\r\n    let ret =\r\n        <Grid className={'status-table-holder'}\r\n              round={'small'}\r\n              direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: 'external-air-temp-label', start: [0, 1], end: [0, 1] }, { name: 'external-air-temp-value', start: [1, 1], end: [1, 1] }, { name: 'external-air-temp-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: 'air-temp-top-label', start: [0, 2], end: [0, 2] }, { name: 'air-temp-top-value', start: [1, 2], end: [1, 2] }, { name: 'air-temp-top-direction', start: [2, 2], end: [2, 2] },\r\n                  { name: 'air-temp-middle-label', start: [0, 3], end: [0, 3] }, { name: 'air-temp-middle-value', start: [1, 3], end: [1, 3] },{ name: 'air-temp-middle-direction', start: [2, 3], end: [2, 3] },\r\n                  { name: 'air-temp-bottom-label', start: [0, 4], end: [0, 4] }, { name: 'air-temp-bottom-value', start: [1, 4], end: [1, 4] },{ name: 'air-temp-bottom-direction', start: [2, 4], end: [2, 4] },\r\n                  { name: 'water-temp-label', start: [0, 5], end: [0, 5] }, { name: 'water-temp-value', start: [1, 5], end: [1, 5] },{ name: 'water-temp-direction', start: [2, 5], end: [2, 5] },\r\n                  { name: 'root-ph-label', start: [0, 6], end: [0, 6] }, { name: 'root-ph-value', start: [1, 6], end: [1, 6] },{ name: 'root-ph-direction', start: [2, 6], end: [2, 6] },\r\n                  { name: 'humidity-label', start: [0, 7], end: [0, 7] }, { name: 'humidity-value', start: [1, 7], end: [1, 7] },{ name: 'humidity-direction', start: [2, 7], end: [2, 7] },\r\n                  { name: 'external-humidity-label', start: [0, 8], end: [0, 8] }, { name: 'external-humidity-value', start: [1, 8], end: [1, 8] },{ name: 'external-humidity-direction', start: [2, 8], end: [2, 8] },\r\n                  { name: 'ec-label', start: [0, 9], end: [0, 9] }, { name: 'ec-value', start: [1, 9], end: [1, 9] },{ name: 'ec-direction', start: [2, 9], end: [2, 9] },\r\n                  { name: 'voc-label', start: [0, 10], end: [0, 10] }, { name: 'voc-value', start: [1, 10], end: [1, 10] },{ name: 'voc-direction', start: [2, 10], end: [2, 10] },\r\n                  { name: 'co2-label', start: [0, 11], end: [0, 11] }, { name: 'co2-value', start: [1, 11], end: [1, 11] },{ name: 'co2-direction', start: [2, 11], end: [2, 11] },\r\n              ]}\r\n              columns={['medium', 'small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px','20px','20px','20px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n            <Box gridArea={'table-label'}>Environment</Box>\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_external} gridArea={'external-air-temp'} label='External Air Temp' value={props.sensor_readings.temp_air_external}\r\n                                         units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_external_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_top} gridArea={'air-temp-top'} label='Air Temp Top' value={props.sensor_readings.temp_air_top}\r\n                                         units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_top_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_middle} gridArea={'air-temp-middle'} label='Air Temp Middle' value={props.sensor_readings.temp_air_middle}\r\n                                         units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_middle_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_bottom} gridArea={'air-temp-bottom'} label='Air Temp Bottom' value={props.sensor_readings.temp_air_bottom}\r\n                                         units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_air_bottom_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.thermometer_water} gridArea={'water-temp'} label='Water Temp' value={props.sensor_readings.temp_water}\r\n                                         units={props.display_settings.temperature_units} direction={props.sensor_readings.temp_water_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.root_ph_sensor} gridArea={'root-ph'} label='Root pH' value={props.sensor_readings.root_ph}\r\n                                         units={''} direction={props.sensor_readings.root_ph_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.humidity_sensor_internal} gridArea={'humidity'} label='Humidity' value={props.sensor_readings.humidity_internal}\r\n                                         units={props.display_settings.humidity_units} direction={props.sensor_readings.humidity_internal_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.humidity_sensor_external} gridArea={'external-humidity'} label='External Humidity' value={props.sensor_readings.humidity_external}\r\n                                         units={props.display_settings.humidity_units} direction={props.sensor_readings.humidity_external_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.ec_sensor} gridArea={'ec'} label='EC' value={props.sensor_readings.ec}\r\n                                         units={props.display_settings.ec_units} direction={props.sensor_readings.ec_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.voc_sensor} gridArea={'voc'} label='VOC' value={props.sensor_readings.voc}\r\n                                         units={props.display_settings.voc_units} direction={props.sensor_readings.voc_direction} />\r\n            <RenderEnvValueWithDirection exists={props.station_settings.co2_sensor} gridArea={'co2'} label='CO2' value={props.sensor_readings.co2}\r\n                                         units={props.display_settings.co2_units} direction={props.sensor_readings.co2_direction} />\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderEnvironmentTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from \"react\";\r\n\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport sprintf from 'sprintf-js'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderADCValueWithDirection (props) {\r\n//    console.log(\"RenderADCValueWithDirection\")\r\n    let label_area= `${props.gridArea}-label`\r\n    let value_area= `${props.gridArea}-value`\r\n    let direction_area=`${props.gridArea}-direction`\r\n\r\n    let className = ''\r\n    if(props.direction === 'up') {\r\n        className='zero-arrowup-icon'\r\n    }\r\n    if(props.direction === 'down') {\r\n        className='zero-arrowdown-icon'\r\n    }\r\n    let valuestr = \"\"\r\n    if( typeof props.value !== 'undefined' ) {\r\n        valuestr = sprintf.sprintf( \"%.3f %s\", props.value, props.units )\r\n    }\r\n    let ret =''\r\n\r\n    if( props.exists === false ) {\r\n//        console.log(\"RenderADCValueWithDirection props.exists === false\")\r\n        ret = <></>\r\n    } else {\r\n//        console.log(`RenderADCValueWithDirection valuestr === ${valuestr} props === ${JSON.stringify(props)}`)\r\n        ret = <>\r\n            <Box gridArea={label_area}>{props.label}</Box>\r\n            <Box gridArea={value_area}>{valuestr}</Box>\r\n            <Box gridArea={direction_area}>\r\n                <div className={className}/>\r\n            </Box>\r\n        </>\r\n    }\r\n    return( ret )\r\n}\r\nexport default RenderADCValueWithDirection;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport './statusTab.css'\r\nimport {Box} from \"grommet\";\r\nimport RenderADCValueWithDirection from './ADCValueWithDirection'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderADCTextStatus (props) {\r\n    let ret =\r\n        <Grid className={'status-table-holder'}\r\n              round={'small'}\r\n              direction={'vertical'}\r\n              areas={[\r\n                  { name: 'table-label', start: [0, 0], end: [2, 0] },\r\n                  { name: '0_0-label', start: [0, 1], end: [0, 1] }, { name: '0_1-value', start: [1, 1], end: [1, 1] }, { name: '0_0-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '0_1-label', start: [0, 1], end: [0, 1] }, { name: '0_2-value', start: [1, 1], end: [1, 1] }, { name: '0_1-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '0_2-label', start: [0, 1], end: [0, 1] }, { name: '0_3-value', start: [1, 1], end: [1, 1] }, { name: '0_2-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '0_3-label', start: [0, 1], end: [0, 1] }, { name: '0_4-value', start: [1, 1], end: [1, 1] }, { name: '0_3-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_0-label', start: [0, 1], end: [0, 1] }, { name: '1_1-value', start: [1, 1], end: [1, 1] }, { name: '1_0-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_1-label', start: [0, 1], end: [0, 1] }, { name: '1_2-value', start: [1, 1], end: [1, 1] }, { name: '1_1-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_2-label', start: [0, 1], end: [0, 1] }, { name: '1_3-value', start: [1, 1], end: [1, 1] }, { name: '1_2-direction', start: [2, 1], end: [2, 1] },\r\n                  { name: '1_3-label', start: [0, 1], end: [0, 1] }, { name: '1_4-value', start: [1, 1], end: [1, 1] }, { name: '1_3-direction', start: [2, 1], end: [2, 1] },\r\n              ]}\r\n              columns={['medium', 'small','xxsmall']}\r\n              rows={['40px','20px','20px','20px','20px','20px','20px','20px','20px']}\r\n              gap={\"xxsmall\"} >\r\n            <Box gridArea={'table-label'}>ADC</Box>\r\n            <RenderADCValueWithDirection gridArea={'0_0'} label='Bd 0 ch 0' value={props.sensor_readings.adc_0_0_1_860} units={props.sensor_readings.adc_0_0_1_860_units} direction={props.sensor_readings.adc_0_0_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'0_1'} label='Bd 0 ch 1' value={props.sensor_readings.adc_0_1_1_860} units={props.sensor_readings.adc_0_1_1_860_units} direction={props.sensor_readings.adc_0_1_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'0_2'} label='Bd 0 ch 2' value={props.sensor_readings.adc_0_2_1_860} units={props.sensor_readings.adc_0_2_1_860_units} direction={props.sensor_readings.adc_0_2_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'0_3'} label='Bd 0 ch 3' value={props.sensor_readings.adc_0_3_1_860} units={props.sensor_readings.adc_0_3_1_860_units} direction={props.sensor_readings.adc_0_3_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_0'} label='Bd 1 ch 0' value={props.sensor_readings.adc_1_0_1_860} units={props.sensor_readings.adc_1_0_1_860_units} direction={props.sensor_readings.adc_1_0_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_1'} label='Bd 1 ch 1' value={props.sensor_readings.adc_1_1_1_860} units={props.sensor_readings.adc_1_1_1_860_units} direction={props.sensor_readings.adc_1_1_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_2'} label='Bd 1 ch 2' value={props.sensor_readings.adc_1_2_1_860} units={props.sensor_readings.adc_1_2_1_860_units} direction={props.sensor_readings.adc_1_2_1_860_direction} />\r\n            <RenderADCValueWithDirection gridArea={'1_3'} label='Bd 1 ch 3' value={props.sensor_readings.adc_1_3_1_860} units={props.sensor_readings.adc_1_3_1_860_units} direction={props.sensor_readings.adc_1_3_1_860_direction} />\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderADCTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport {Grid} from 'grommet';\r\nimport '../../App.css';\r\nimport {Box} from \"grommet\";\r\nimport RenderStateTextStatus from \"./StateTextStatusFunctional\";\r\nimport RenderInterventionsTextStatus from \"./InterventionsTextStatusFunctional\";\r\nimport RenderSecurityTextStatus from \"./SecurityTextStatusFunctional\";\r\nimport RenderEnvironmentTextStatus from \"./EnvironmentTextStatusFunctional\";\r\nimport RenderADCTextStatus from \"./ADCTextStatusFunctional\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderTextStatus (props) {\r\n    log.trace(\"RenderTextStatus\")\r\n\r\n    log.info(\"TextStatusFunctional display_settings.co2_units = \" + props.display_settings.co2_units)\r\n    let ret =\r\n        <Grid round={'small'} direction={'vertical'}\r\n              areas={[\r\n                  { name: 'environment', start: [0, 0], end: [0, 0] },\r\n                  { name: 'state', start: [0, 1], end: [0, 1] },\r\n                  { name: 'security', start: [0, 2], end: [0, 2] },\r\n                  { name: 'interventions', start: [0, 3], end: [0, 3] },\r\n                  { name: 'adc', start: [0, 4], end: [0, 4] },\r\n              ]}\r\n              columns={['large']}\r\n              rows={['300px','small','small','small','small']}\r\n              gap={\"xxsmall\"}\r\n        >\r\n            <Box gridArea={'environment'} >\r\n                <RenderEnvironmentTextStatus station_settings={props.station}\r\n                                             sensor_readings={props.sensor_readings}\r\n                                             display_settings={props.display_settings}\r\n                                             automation_settings={props.automation_settings}\r\n                                             settings={props.settings}\r\n                                             />\r\n            </Box>\r\n            <Box gridArea={'state'} >\r\n                <RenderStateTextStatus station={props.station}\r\n                                       sensor_readings={props.sensor_readings}\r\n                                       display_settings={props.display_settings}\r\n                                       automation_settings={props.automation_settings}\r\n                                       settings={props.settings}\r\n                                       various_dates={props.various_dates}/>\r\n            </Box>\r\n            <Box gridArea={'security'} >\r\n                <RenderSecurityTextStatus station_settings={props.station}\r\n                                          sensor_readings={props.sensor_readings}\r\n                                          display_settings={props.display_settings}\r\n                                          automation_settings={props.automation_settings}\r\n                                          settings={props.settings}\r\n                                          />\r\n            </Box>\r\n            <Box gridArea={'interventions'} >\r\n                <RenderInterventionsTextStatus station_settings={props.station}\r\n                                               sensor_readings={props.sensor_readings}\r\n                                               display_settings={props.display_settings}\r\n                                               automation_settings={props.automation_settings}\r\n                                               settings={props.settings}\r\n                                               />\r\n            </Box>\r\n            <Box gridArea={'adc'} >\r\n                <RenderADCTextStatus station_settings={props.station}\r\n                                     sensor_readings={props.sensor_readings}\r\n                                     display_settings={props.display_settings}\r\n                                     automation_settings={props.automation_settings}\r\n                                     settings={props.settings}\r\n                                     />\r\n            </Box>\r\n        </Grid>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderTextStatus;\r\n\r\n\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet} from 'grommet'\r\nimport RenderTemperatureMeter from \"./TemperatureMeterFunctional\";\r\nimport RenderHumidityMeter from \"./HumidityMeterFunctional\";\r\nimport RenderPressureMeter from \"./PressureMeterFunctional\";\r\nimport RenderPhMeter from \"./PhMeterFunctional\";\r\nimport RenderTextStatus from \"./TextStatusFunctional\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStatusTab (props) {\r\n    log.info(\"RenderStatusTab display_settings.co2_units = \" + props.display_settings.co2_units)\r\n\r\n    let ret = \"\"\r\n\r\n        ret =\r\n            <Grommet theme={props.theme}>\r\n                <GoogleFontLoader\r\n                    fonts={[\r\n                        {\r\n                            font: props.theme.global.font.family\r\n                        },\r\n                    ]}\r\n                />\r\n                <div className=\"global_container_\">\r\n                    <div className=\"meter-group\">\r\n                        <RenderTemperatureMeter\r\n                                                sensor_readings={props.sensor_readings}\r\n                                                station_settings={props.station}\r\n                                                display_settings={props.display_settings}\r\n                                                automation_settings={props.station.automation_settings}\r\n                                                exists={props.station.temp_air_middle}\r\n                                                className=\"temp-top\" label=\"Air Temperature\"\r\n                                                />\r\n                        <RenderHumidityMeter\r\n                                             sensor_readings={props.sensor_readings}\r\n                                             display_settings={props.display_settings}\r\n                                             automation_settings={props.station.automation_settings}\r\n                                             exists={props.station.humidity_sensor_internal}\r\n                                             className=\"temp-middle\" label=\"Humidity\"\r\n                                             />\r\n                        <RenderPressureMeter\r\n                                             sensor_readings={props.sensor_readings}\r\n                                             display_settings={props.display_settings}\r\n                                             exists={props.station.pressure_sensors}\r\n                                             className=\"temp-bottom\" label=\"Odor Control (pressure)\"\r\n                                             />\r\n                        <RenderPhMeter\r\n                                       sensor_readings={props.sensor_readings}\r\n                                       exists={props.station.root_ph_sensor}\r\n                                       className=\"temp-middle\" label=\"Root pH\"\r\n                                       />\r\n                    </div>\r\n                    <div className=\"detail-group\" >\r\n                        <RenderTextStatus\r\n                            sensor_readings={props.sensor_readings}\r\n                            station={props.station}\r\n                            automation_settings={props.station.automation_settings}\r\n                            display_settings={props.display_settings}\r\n                            settings={props.station}\r\n                            state={props.state}\r\n                            various_dates={props.various_dates}/>\r\n                    </div>\r\n                </div>\r\n            </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStatusTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// import '../logimplementation'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nexport async function getContainerNames(host, port) {\r\n    log.trace(\"getContainerNames calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/config/containers');\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(\"Got container_names \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\nexport function getAutomationSetting( automation_settings, stage_name ) {\r\n    for( let i = 0; i < automation_settings.length; i++ ) {\r\n        if( automation_settings[i].stage_name === stage_name ) {\r\n            return( automation_settings[i])\r\n        }\r\n    }\r\n    return({})\r\n}\r\n\r\nexport async function getStage(host, port, stationid, stage) {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/station/'+stationid+'/stage/'+stage\r\n        log.trace(\"getStage calling out to api \"+url )\r\n        const response = await fetch(url);\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(\"getStage got stage \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport async function getModuleTypes(host, port) {\r\n    log.trace(\"getModuleTypes calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/config/modules');\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(\"Got module_types \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Get the configuration of the SITE specified by siteid from the API.\r\n *\r\n * @param host      hostname or ip of the controller API server\r\n * @param port      port number of the controller API server\r\n * @param siteid    ID of the site we want\r\n * @returns {Promise<unknown>}  Response status (200 ...) from the API call\r\n */\r\nexport async function getSite (host, port, siteid) {\r\n    log.trace(\"getSite calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/site/'+siteid\r\n        log.info('getSite calling '+url)\r\n        const response = await fetch(url);\r\n//            const response = await fetch('http://'+host+':'+port+'/api/config/90000009/70000007');\r\n        log.trace(\"getSite response received\")\r\n        if(response.ok) {\r\n//            log.trace(\"getSite awaiting site\")\r\n            let x = await response.json();\r\n//            log.trace(\"getSite Got \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"getSite error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Get the crop of the station specified by stationid from the API.\r\n *\r\n * @param host      hostname or ip of the controller API server\r\n * @param port      port number of the controller API server\r\n * @param stationid    ID of the station we want\r\n * @returns {Promise<unknown>}  Response status (200 ...) from the API call\r\n */\r\nexport async function getCrop (host, port, stationid) {\r\n    console.log(\"getCrop calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/station/'+stationid+'/crop'\r\n        console.log('getCrop calling '+url)\r\n        const response = await fetch(url);\r\n//            const response = await fetch('http://'+host+':'+port+'/api/config/90000009/70000007');\r\n        log.trace(\"getCrop response received\")\r\n        if(response.ok) {\r\n//            log.trace(\"getCrop awaiting site\")\r\n            let x = await response.json();\r\n//            log.trace(\"getCrop Got \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"getCrop error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n// http://192.168.21.237:3003/api/station/1/events/\r\n// http://192.168.21.237:3003/api/station/1/events\r\nexport async function getLastNEvents (host, port, stationid, count) {\r\n    log.trace(\"getLastNEvents calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url = 'http://'+host+':'+port+'/api/station/'+stationid+'/events/'\r\n        log.trace(url)\r\n        const response = await fetch(url);\r\n        log.trace(\"returned response = \" + JSON.stringify(response))\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\nexport async function getUser (host, port, userid) {\r\n    log.trace(\"getSite calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        let url='http://'+host+':'+port+'/api/user/'+userid\r\n        log.trace('getSite calling '+url)\r\n        const response = await fetch(url);\r\n        log.trace(\"getSite response received\")\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"getSite error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\nexport async function saveStage (host, port, stationid, current_stage) {\r\n    log.trace(\"saveStage calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/station/'+stationid+'/stage/'+current_stage);\r\n        log.trace(\"saveStage response received\")\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"saveStage error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Get the list of devices (Pi) attached to the specified user.\r\n *\r\n * @param host      hostname or ip of the controller API server\r\n * @param port      port number of the controller API server\r\n * @param userid    ID of the logged-in user\r\n * @returns {Promise<unknown>}  Response status (200 ...) from the API call\r\n * @todo this is redundant with getSite - eliminate\r\n */\r\nexport const getDeviceList = (host, port, userid) => {\r\n    log.trace(\"getDeviceList calling out to api\")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const response = await fetch('http://'+host+':'+port+'/api/device/'+userid);\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Save to persistent store an individual presence/absence setting for a single\r\n * sensor/control item in the current station.\r\n *\r\n * @param thing_name    The unique name of the sensor/control item\r\n * @param present       True/false - true present, false absent\r\n * @returns {Promise<unknown>}  The response status (200,500 ...) from the save setting API call\r\n * @memberOf AuthenticatedApp\r\n */\r\nexport const saveSetting = ( host, port, userid, stationid, thing_name, present ) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/config/'+userid+'/'+stationid+'/sensor/'+thing_name+'/'+present;\r\n        log.debug(\"saveSetting url = \" + url)\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({})\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n/**\r\n * Save to persistent store an individual presence/absence setting for a single\r\n * sensor/control item in the current station.\r\n *\r\n * @param thing_name    The unique name of the sensor/control item\r\n * @param present       True/false - true present, false absent\r\n * @returns {Promise<unknown>}  The response status (200,500 ...) from the save setting API call\r\n * @memberOf AuthenticatedApp\r\n */\r\nexport const saveAutomationSettings = ( host, port, userid, stationid, stage_name, new_automation_settings ) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/automation/'+stationid+'/'+stage_name;\r\n        log.debug(\"saveAutomationSetting url = \" + url)\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(new_automation_settings )\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.error(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const changeStage = ( host, port, stationid, oldstage, newstage ) => {\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/station/'+stationid+'/stage/';\r\n        log.debug(\"changeStage url = \" + url)\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ oldstage: oldstage, newstage: newstage })\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n//            log.trace(JSON.stringify(x))\r\n//            log.trace(\"Got devices \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const addStation = async ( host, port, siteid, station_name ) => {\r\n    log.trace(\"addStation calling out to api \")\r\n\r\n    return new Promise( async (resolve, reject) => {\r\n        const url = 'http://'+host+':'+port+'/api/station/site/'+siteid+'/'+station_name;\r\n        log.trace(\"fetching \" + url )\r\n        const response = await fetch(url, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({})\r\n        });\r\n        if(response.ok) {\r\n            let x = await response.json();\r\n            log.trace(JSON.stringify(x))\r\n            log.trace(\"Put station \" + JSON.stringify(x));\r\n            resolve(x)\r\n        } else {\r\n            log.trace(\"error \" + response.status)\r\n            reject( response.status )\r\n        }\r\n    })\r\n}\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {Button, Grid} from \"grommet\";\r\nimport React, {useState} from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderFormActions (props) {\r\n    let [state] = useState(props.state);\r\n\r\n    function defaultsAction() {\r\n        props.defaultsAction()\r\n    }\r\n    function resetAction() {\r\n        props.resetAction();\r\n    }\r\n    function applyAction() {\r\n        props.applyAction(state);\r\n    }\r\n    let applyDisabled = false\r\n    if( props.applyButtonState === false ) {\r\n        applyDisabled=true\r\n    }\r\n    let resetDisabled = false\r\n    if( props.resetButtonState === false ) {\r\n        resetDisabled=true\r\n    }\r\n    let defaultsDisabled = false\r\n    if( props.defaultsButtonState === false ) {\r\n        defaultsDisabled=true\r\n    }\r\n    // The color supplied to the button is the only way to make a border appear.\r\n    let ret = <>\r\n            <Grid\r\n                margin={\"medium\"}\r\n                justify={'center'}\r\n                round={'xxsmall'}\r\n                direction={'horizontal'}\r\n                fill\r\n                areas={[\r\n                    { name: 'apply', start: [0, 0], end: [0, 0] },\r\n                    { name: 'reset', start: [1, 0], end: [1, 0] },\r\n                    { name: 'defaults', start: [2, 0], end: [2, 0] },\r\n                ]}\r\n                columns={['small','small','small']}\r\n                rows={['40px']}\r\n                gap={\"small\"}\r\n            >\r\n\r\n                <Button gridArea={'apply'} color={'var(--color-button-border)'} disabled={applyDisabled} width={'medium'} round={'large'} active={props.applyButtonState} label={'Apply'} onClick={applyAction} />\r\n                <Button gridArea={'reset'} color={'var(--color-button-border)'} disabled={resetDisabled} width={'medium'} round={'large'} type={'reset'} active={props.resetButtonState} label={'Reset'} onClick={resetAction}/>\r\n                <Button gridArea={'defaults'} color={'var(--color-button-border)'} disabled={defaultsDisabled} width={'medium'} round={'large'} active={props.defaultsButtonState} label={'Defaults'} onClick={defaultsAction}/>\r\n         </Grid>\r\n   </>\r\n    return(ret);\r\n}\r\n\r\nexport default RenderFormActions;\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport {getLastNEvents} from \"../../api/utils\";\r\nimport log from \"roarr\";\r\nimport {Grommet, Table, TableCell, TableRow} from \"grommet\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport RenderFormActions from \"../FormActions\";\r\nimport moment from \"moment\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderOverview (props) {\r\n    const [station] = useState(JSON.parse(JSON.stringify(props.station)));\r\n    const [events,setEvents] = useState([])\r\n    const [reset_button_state] = useState(false)\r\n    const [defaults_button_state] = useState(true)\r\n    const [apply_button_state] = useState(false)\r\n    const [apiHost] = useState(props.apiHost)\r\n    const [apiPort] = useState(props.apiPort)\r\n/*\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let z = await getSite(servers.api_server_host, servers.api_server_port, 1)\r\n            setSite(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    },[]);    // eslint-disable-line react-hooks/exhaustive-deps\r\n    */\r\n    useEffect(() => {\r\n        log.info(\"useEffect getLastN\")\r\n        const fetchData = async () => {\r\n            log.trace(\"fetchData\")\r\n//            let x = await getSite(apiHost, apiPort, 1)\r\n\r\n            let x = await getLastNEvents(apiHost, apiPort, station.stationid, 100)\r\n            log.trace(\"events \" + JSON.stringify(x))\r\n            setEvents(x)\r\n        }\r\n        fetchData();\r\n    }, [])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    log.trace(\"RenderEventsTab\")\r\n    let [displaySettings] = useState({units: 'IMPERIAL', language: 'en-us', languageOptions:['en-us','fr'], theme: props.theme}); //\r\n\r\n    function getEventrow( row ) {\r\n//        console.log(\"eventrow = \" + JSON.stringify(row))\r\n        let name = row.value_name\r\n        let value = row.stringvalue\r\n        if( row.type !== 'measurement') {\r\n            let x = JSON.parse(row.rawjson)\r\n            log.trace(\"eventrow rawjson \" + JSON.stringify(x))\r\n            name = x.switch_name\r\n            value = (x.on === true) ? \"on\":\"off\"\r\n        }\r\n        // <TableCell>{moment(row.datetimemilllis).format(\"LTS\")}</TableCell>\r\n        return <TableRow  key={row.eventid}>\r\n            <TableCell>{moment(row.datetimemillis).format(\"LTS\")}</TableCell>\r\n            <TableCell>{row.deviceid_device}</TableCell>\r\n            <TableCell>{row.type}</TableCell>\r\n            <TableCell>{name}</TableCell>\r\n            <TableCell>{value}</TableCell>\r\n            <TableCell>{row.units}</TableCell>\r\n        </TableRow>\r\n    }\r\n\r\n    function getEvents() {\r\n//        console.log(\"getEvents \" + JSON.stringify(station))\r\n/*        let arr = []\r\n        for (let device_index = 0; device_index < station.attached_devices.length; device_index++) {\r\n            for (let module_index = 0; module_index < station.attached_devices[device_index].modules.length; module_index++) {\r\n                arr.push({deviceid: station.attached_devices[device_index], module: station.attached_devices[device_index].modules[module_index],\r\n                    sensors: getSensorsForModule(station.attached_devices[device_index].modules[module_index]), device: station.attached_devices[device_index]})\r\n            }\r\n        }\r\n        log.trace(\"arr = \" + JSON.stringify(arr))\r\n\r\n */\r\n        let ret = events.map(getEventrow)\r\n        return ret\r\n    }\r\n\r\n    function applyChanges() {\r\n\r\n    }\r\n    function resetChanges() {\r\n\r\n    }\r\n    function defaultsAction() {\r\n\r\n    }\r\n\r\n    let event_rows = getEvents()\r\n//    console.log(\"rendering with font set to \" + values.theme.global.font.family)\r\n//    console.log(\"station = \" + JSON.stringify(station))\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: displaySettings.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                <Table id=\"settings-tab\" >\r\n                    <tbody>\r\n                    <TableRow>\r\n                        <th >Time</th>\r\n                        <th >Device ID</th>\r\n                        <th >Type</th>\r\n                        <th >Value name</th>\r\n                        <th >Value</th>\r\n                        <th >Units</th>\r\n                    </TableRow>\r\n                    {event_rows}\r\n                    </tbody></Table>\r\n\r\n                <RenderFormActions station={station} applyAction={applyChanges} resetAction={resetChanges}\r\n                                   defaultsAction={defaultsAction}\r\n                                   resetButtonState={reset_button_state}\r\n                                   defaultsButtonState={defaults_button_state}\r\n                                   applyButtonState={apply_button_state}\r\n                />\r\n            </div>\r\n        </Grommet>\r\n    return( ret )\r\n}\r\n\r\nexport default RenderOverview;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet, Table, TableRow, TableCell, Select} from 'grommet'\r\nimport './displaySettingsTab.css'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport fontlist from \"./fontlist.json\"\r\n\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderDisplaySettingsTab (props) {\r\n\r\n    log.trace(\"RenderServerSettingsTab with font set to \" + props.theme.global.font.family);\r\n    let [values, setValues] = useState({units: props.display_settings.units, language: props.display_settings.language, languageOptions: props.display_settings.languageOptions, theme: props.theme, current_font: props.theme.global.font.family}); //\r\n    let [fonts, setFonts] = useState([])\r\n    let [local_theme, setLocalTheme] = useState(JSON.parse(JSON.stringify(props.theme)));\r\n    let [applyButtonState, setApplyButtonState] = useState(false)\r\n    let [resetButtonState, setResetButtonState] = useState(false)\r\n    let [defaultsButtonState] = useState(true)\r\n\r\n    let x = [];\r\n    if(fonts.length === 0 ) {\r\n        fontlist.forEach(function (item) {\r\n            x.push(item.family)\r\n        });\r\n        setFonts(x)\r\n    }\r\n\r\n    function resetAction() {\r\n        setValues(JSON.parse(JSON.stringify(values)))\r\n        setResetButtonState(false);\r\n    }\r\n\r\n    function applyLocally(x, b) {\r\n        setValues(x)\r\n        setResetButtonState(b);\r\n        setApplyButtonState(b);\r\n    }\r\n\r\n    function applyLanguageChangeLocally(value) {\r\n        x = values\r\n        values.language = value\r\n        applyLocally(x,true)\r\n    }\r\n\r\n    function applyFontChangeLocally(value) {\r\n        let x = values\r\n        x.current_font = value\r\n        props.onLocalFontChange(values.current_font)\r\n        let z = local_theme\r\n        z.global.font.family = value\r\n        setLocalTheme(z)\r\n        applyLocally(x,true)\r\n    }\r\n\r\n    function applyFontChangeGlobally() {\r\n        props.onApplyFontChange(values.current_font)\r\n        setResetButtonState(false);\r\n        setApplyButtonState(false);\r\n    }\r\n\r\n    log.info(\"RenderDisplaySettingsTab with theme font set to \" + local_theme.global.font.family);\r\n    log.info(\"RenderDisplaySettingsTab with props.theme.global.font.family set to \" + props.theme.global.font.family);\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: local_theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                    <Table id=\"settings-tab\" >\r\n                        <tbody>\r\n                         <TableRow>\r\n                            <TableCell className={\"table-cell\"}>Language</TableCell><TableCell className={\"table-cell\"}><Select options={values.languageOptions} value={values.language} onChange={applyLanguageChangeLocally}/></TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell >Font Family</TableCell><TableCell className={\"table-cell\"}><Select options={fonts} value={values.current_font} onChange={({ option }) => applyFontChangeLocally(option)}/></TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell colSpan={2}><RenderFormActions applyButtonState={applyButtonState} resetButtonState={resetButtonState} defaultsButtonState={defaultsButtonState} applyAction={applyFontChangeGlobally} defaultsAction={resetAction} resetAction={resetAction}/></TableCell>\r\n                        </TableRow>\r\n                        </tbody>\r\n                    </Table>\r\n                </div>\r\n            </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderDisplaySettingsTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n\r\n/*\r\nDONE\r\n    humidifier boolean,\r\n    humidity_sensor_internal boolean,\r\n    humidity_sensor_external boolean,\r\n    heater boolean,\r\n    thermometer_top boolean,\r\n    thermometer_middle boolean,\r\n    thermometer_bottom boolean,\r\n    thermometer_external boolean,\r\n    thermometer_water boolean,\r\n    water_pump boolean,\r\n    air_pump boolean,\r\n    light_sensor_internal boolean,\r\n    station_door_sensor boolean,\r\n    outer_door_sensor boolean,\r\n    movement_sensor boolean,\r\n    pressure_sensors boolean,\r\n    root_ph_sensor boolean,\r\n    enclosure_type character varying(80) COLLATE pg_catalog.\"default\" DEFAULT 'CABINET'::character varying,\r\n    water_level_sensor boolean,\r\n    tub_depth double precision,\r\n    tub_volume double precision,\r\n    intake_fan boolean,\r\n    exhaust_fan boolean,\r\n    light_bloom boolean,\r\n    light_vegetative boolean,\r\n    light_germinate boolean,\r\n    height_sensor boolean DEFAULT false,\r\n    station_name character varying(255) COLLATE pg_catalog.\"default\" DEFAULT ''::character varying,\r\n    light_sensor_external boolean DEFAULT false,\r\n    water_heater boolean,\r\n    ec_sensor boolean NOT NULL DEFAULT false,\r\n    voc_sensor boolean NOT NULL DEFAULT false,\r\n    co2_sensor boolean NOT NULL DEFAULT false,\r\n    tamper_xmove double precision,\r\n    tamper_ymove double precision,\r\n    tamper_zmove double precision,\r\n\r\nNOT DONE\r\n    stationid integer NOT NULL DEFAULT nextval('cabinet_cabinetid_seq'::regclass),\r\n    controller_hostname character varying(255) COLLATE pg_catalog.\"default\",\r\n    controller_api_port integer,\r\n    time_between_pictures_in_seconds integer,\r\n    time_between_sensor_polling_in_seconds integer,\r\n    heat_lamp boolean,\r\n    heating_pad boolean,\r\n    automatic_control boolean DEFAULT true,\r\n    siteid_site integer,\r\n    location character varying(255) COLLATE pg_catalog.\"default\" DEFAULT ''::character varying,\r\n    current_stage character varying(255) COLLATE pg_catalog.\"default\" NOT NULL DEFAULT 'idle'::character varying,\r\n    controller_activemq_port integer NOT NULL DEFAULT 61613,\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet, RadioButtonGroup, CheckBox, TextInput, Table, TableRow, TableCell, Text} from 'grommet'\r\nimport './cabinetSettingsTab.css'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\n// import '../../logimplementation'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStationSettingsTab (props) {\r\n    log.trace(\"RenderStationSettingsTab props display_settings = \"+props.display_settings)\r\n    let [local_station, setStation] = useState(props.station);\r\n    let [reset_button_state,setResetButtonState] = useState(false)\r\n    let [defaults_button_state] = useState(true)\r\n    let [apply_button_state,setApplyButtonState] = useState(false)\r\n\r\n\r\n    function applyChanges() {\r\n        setApplyButtonState(false);\r\n        setResetButtonState(false);\r\n        props.setStateFromChild(local_station)\r\n    }\r\n\r\n    function resetChanges() {\r\n        setApplyButtonState(false);\r\n        setResetButtonState(false);\r\n        let x = JSON.parse(JSON.stringify(props.station))\r\n        setStation(x);\r\n    }\r\n\r\n    function changeState(s) {\r\n        setStation(s);\r\n        setApplyButtonState(true);\r\n        setResetButtonState(true);\r\n    }\r\n\r\n    function setEnclosureType(s) {\r\n        log.trace(\"setEnclosureType to \"+JSON.stringify(s))\r\n        let x = JSON.parse(JSON.stringify(props.station))\r\n        x.enclosure_type = s\r\n        changeState(x)\r\n    }\r\n\r\n    function setTubDepth(s) {\r\n        log.trace(\"setTubDepth to \"+JSON.stringify(s))\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        if( s === '' ) {\r\n            x.tub_depth = ''\r\n        } else {\r\n            x.tub_depth = Number(s)\r\n        }\r\n        changeState(x)\r\n    }\r\n\r\n    function setTubVolume(s) {\r\n        log.trace(\"setTubVolume to \"+JSON.stringify(s))\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        if( s === '' ) {\r\n            x.tub_volume = ''\r\n        } else {\r\n            x.tub_volume = Number(s)\r\n        }\r\n        changeState(x)\r\n    }\r\n\r\n    function setPictureTime(s) {\r\n        log.error(\"setPictureTime to \"+JSON.stringify(s) +\" NOT IMPLEMENTED\")\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        changeState(x)\r\n    }\r\n    function setSensorPollTime(s) {\r\n        log.error(\"setSensorPollTime to \"+JSON.stringify(s) +\" NOT IMPLEMENTED\")\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        changeState(x)\r\n    }\r\n\r\n    function setMovementX(s) {\r\n        log.error(\"setMovementX to \"+JSON.stringify(s) +\" NOT IMPLEMENTED\")\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        changeState(x)\r\n    }\r\n    function setMovementY(s) {\r\n        log.error(\"setMovementY to \"+JSON.stringify(s) +\" NOT IMPLEMENTED\")\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        changeState(x)\r\n    }\r\n    function setMovementZ(s) {\r\n        log.error(\"setMovementZ to \"+JSON.stringify(s) +\" NOT IMPLEMENTED\")\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        changeState(x)\r\n    }\r\n\r\n\r\n    function toggleHumidifier() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.humidifier = !x.humidifier\r\n        changeState(x)\r\n    }\r\n    function toggleHeightSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.height_sensor = !x.height_sensor\r\n        changeState(x)\r\n    }\r\n    function toggleWaterHeater() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.water_heater = !x.water_heater\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleRootPhSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.root_ph_sensor = !x.root_ph_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleExhaustFan() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.exhaust_fan = !x.exhaust_fan\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleIntakeFan() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.intake_fan = !x.intake_fan\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleWaterLevelSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.water_level_sensor = !x.water_level_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleHumiditySensorInternal() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.humidity_sensor_internal = !x.humidity_sensor_internal\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleExternalHumiditySensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.humidity_sensor_external = !x.humidity_sensor_external\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleExternalThermometer() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_external = !x.thermometer_external\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleThermometerTop() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_top = !x.thermometer_top\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleThermometerMiddle() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_middle = !x.thermometer_middle\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleThermometerBottom() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_bottom = !x.thermometer_bottom\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleWaterThermometer() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.thermometer_water = !x.thermometer_water\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleHeater() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.heater = !x.heater\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleWaterPump() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.water_pump = !x.water_pump\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleAirPump() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.air_pump = !x.air_pump\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleLightSensorInternal() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_sensor_internal = !x.light_sensor_internal\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleLightSensorExternal() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x['light_sensor_external'] = !x['light_sensor_external']\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleMovementSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.movement_sensor = !x.movement_sensor\r\n        changeState(x)\r\n    }\r\n    function toggleVOCSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.voc_sensor = !x.voc_sensor\r\n        changeState(x)\r\n    }\r\n    function toggleCO2Sensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.co2_sensor = !x.co2_sensor\r\n        changeState(x)\r\n    }\r\n    function toggleECSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.ec_sensor = !x.ec_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleOuterDoorSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.outer_door_sensor = !x.outer_door_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleStationDoorSensor() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.station_door_sensor = !x.station_door_sensor\r\n        changeState(x)\r\n    }\r\n\r\n    function togglePressureSensors() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.pressure_sensors = !x.pressure_sensors\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleGerminateLight() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_germinate = !x.light_germinate\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleVegetativeLight() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_vegetative = !x.light_vegetative\r\n        changeState(x)\r\n    }\r\n\r\n    function toggleBloomLight() {\r\n        let x = JSON.parse(JSON.stringify(local_station))\r\n        x.light_bloom = !x.light_bloom\r\n        changeState(x)\r\n    }\r\n\r\n    log.trace(\"RenderStationSettingsTab station_settings rendering with props.station.humidifier set to \"+ props.station.humidifier)\r\n    let ret =\r\n        <Grommet theme={props.theme} >\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: props.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n        <div className=\"global_container_\">\r\n        <Table id={'settings-tab'} >\r\n                        <tbody>\r\n                        <TableRow >\r\n                            <TableCell  border={'bottom'} >\r\n                                <Table id=\"station-name-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Station</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow>\r\n                                        <TableCell>Name <TextInput value={props.station.station_name} onChange={event => setTubVolume(event.target.value)} /></TableCell>\r\n                                    </TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table id=\"enclosure-type-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Enclosure type</td></tr></thead>\r\n                                    <tbody>\r\n\r\n                                    <TableRow><TableCell><RadioButtonGroup name=\"enclosure-type\"\r\n                                                  options={props.display_settings.enclosure_options}\r\n                                                  value={props.station.enclosure_type}\r\n                                                  onChange={event => setEnclosureType(event.target.value)}/>\r\n                                    </TableCell>\r\n                                    </TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'} >\r\n                                <Table id=\"monitoring-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Monitoring</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow>\r\n                                        <TableCell>Time between pictures (seconds) <TextInput value={props.station.time_between_pictures_in_seconds} onChange={event => setPictureTime(event.target.value)} /></TableCell>\r\n                                    </TableRow>\r\n                                    <TableRow>\r\n                                        <TableCell>Time between sensor polls (seconds) <TextInput value={props.station.time_between_sensor_polling_in_seconds} onChange={event => setSensorPollTime(event.target.value)} /></TableCell>\r\n                                    </TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <TableRow >\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table id=\"security-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Security</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Station Door Sensor\" onChange={toggleStationDoorSensor} checked={local_station.station_door_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Outer Door Sensor\" onChange={toggleOuterDoorSensor} checked={local_station.outer_door_sensor}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table id=\"tilt-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Tamper Sensing</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell>\r\n                                        <CheckBox label=\"Movement Sensor (axl345)\" onChange={toggleMovementSensor} checked={local_station.movement_sensor}/>\r\n                                    </TableCell></TableRow>\r\n                                    <TableRow>\r\n                                        <TableCell>\r\n                                        <Table >\r\n                                            <tbody>\r\n                                            <TableRow >\r\n                                                <TableCell ><Text >Up and down sensitivity</Text></TableCell>\r\n                                                <TableCell ><TextInput size=\"xsmall\" value={props.station.tamper_xmove} onChange={event => setMovementX(event.target.value)} /></TableCell>\r\n                                            </TableRow>\r\n                                            </tbody>\r\n                                        </Table>\r\n                                    </TableCell>\r\n                                    </TableRow>\r\n                                    <TableRow>\r\n                                        <TableCell>\r\n                                            <Table >\r\n                                                <tbody>\r\n                                                <TableRow >\r\n                                                    <TableCell ><Text >Side to side sensitivity</Text></TableCell>\r\n                                                    <TableCell ><TextInput size=\"xsmall\" value={props.station.tamper_ymove} onChange={event => setMovementY(event.target.value)} /></TableCell>\r\n                                                </TableRow>\r\n                                                </tbody>\r\n                                            </Table>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                    <TableRow>\r\n                                        <TableCell>\r\n                                            <Table >\r\n                                                <tbody>\r\n                                                <TableRow >\r\n                                                    <TableCell ><Text >Back and forth sensitivity</Text></TableCell>\r\n                                                    <TableCell ><TextInput size=\"xsmall\" value={props.station.tamper_zmove} onChange={event => setMovementZ(event.target.value)} /></TableCell>\r\n                                                </TableRow>\r\n                                                </tbody>\r\n                                            </Table>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table id=\"odor-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Odor Control</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Pressure Sensors (bme280)\" onChange={togglePressureSensors} checked={local_station.pressure_sensors}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <TableRow >\r\n                            <TableCell border={'bottom'} >\r\n                                <Table id=\"light-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Light</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Germinate (<20W)\" onChange={toggleGerminateLight} checked={local_station.light_germinate}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Vegetative\"  onChange={toggleVegetativeLight} checked={local_station.light_vegetative}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Bloom\" onChange={toggleBloomLight} checked={local_station.light_bloom}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Internal Light Sensor (bh1750)\" onChange={toggleLightSensorInternal} checked={local_station.light_sensor_internal}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"External Light Sensor (bh1750)\" onChange={toggleLightSensorExternal} checked={local_station.light_sensor_external}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table  id=\"humidity-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Air</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Intake Fan\" onChange={toggleIntakeFan} checked= {local_station.intake_fan}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Humidifier\" onChange={toggleHumidifier} checked={local_station.humidifier}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Humidity Sensor (bme280)\" onChange={toggleHumiditySensorInternal} checked= {local_station.humidity_sensor_internal}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"VOC Sensor (cs811)\" onChange={toggleVOCSensor} checked= {local_station.voc_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"CO2 Sensor (cs811)\" onChange={toggleCO2Sensor} checked= {local_station.co2_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Exhaust Fan\" onChange={toggleExhaustFan} checked= {local_station.exhaust_fan}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"External Humidity Sensor\" onChange={toggleExternalHumiditySensor} checked= {local_station.humidity_sensor_external}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell  border={'bottom'}>\r\n                                <Table  id=\"temperature-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Heat</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Heater\" onChange={toggleHeater} checked= {local_station.heater}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Top Sensor (bme280)\" onChange={toggleThermometerTop} checked= {local_station.thermometer_top}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Middle Sensor (bme280)\" onChange={toggleThermometerMiddle} checked= {local_station.thermometer_middle}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Bottom Sensor (bme280)\" onChange={toggleThermometerBottom} checked= {local_station.thermometer_bottom}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"External Sensor (bme280)\" onChange={toggleExternalThermometer} checked= {local_station.thermometer_external}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                        <TableRow >\r\n                            <TableCell border={'bottom'} >\r\n                                <Table id=\"tub-table\">\r\n                                <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Reservoir</td></tr></thead>\r\n                                <tbody>\r\n                                <TableRow><TableCell>Volume <TextInput value={props.station.tub_volume} onChange={event => setTubVolume(event.target.value)} />\r\n                                    {props.display_settings.tub_volume_units} </TableCell></TableRow>\r\n                                <TableRow><TableCell>Depth <TextInput value={props.station.tub_depth} onChange={event => setTubDepth(event.target.value)}/>\r\n                                    {props.display_settings.tub_depth_units} </TableCell></TableRow>\r\n                                </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n\r\n                            <TableCell border={'bottom'} >\r\n                                <Table id=\"water-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Water</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Dispenser\" onChange={toggleWaterPump} checked={local_station.water_dispenser}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Pump\" onChange={toggleWaterPump} checked={local_station.water_pump}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Level Sensor (eTape)\" onChange={toggleWaterLevelSensor} checked={local_station.water_level_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Heater\" onChange={toggleWaterHeater} checked={local_station.water_heater}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Water Temp Sensor ()\" onChange={toggleWaterThermometer} checked={local_station.thermometer_water}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                            <TableCell border={'bottom'}>\r\n                                <Table id=\"nutrition-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Root Nutrition</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Bubbler Pump\" onChange={toggleAirPump} checked={local_station.air_pump}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"Root pH Sensor (ezoPH)\" onChange={toggleRootPhSensor} checked={local_station.root_ph_sensor}/></TableCell></TableRow>\r\n                                    <TableRow><TableCell><CheckBox label=\"EC Sensor ()\" onChange={toggleECSensor} checked={local_station.ec_sensor}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n\r\n                        </TableRow>\r\n                        <TableRow>\r\n                            <TableCell border={'bottom'} >\r\n                                <Table id=\"pressure-table\">\r\n                                    <thead><tr><td className=\"centered-thead-text\" colSpan=\"2\">Progress</td></tr></thead>\r\n                                    <tbody>\r\n                                    <TableRow><TableCell><CheckBox label=\"Height Sensor ()\" onChange={toggleHeightSensor} checked={local_station.height_sensor}/></TableCell></TableRow>\r\n                                    </tbody>\r\n                                </Table>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                     </tbody>\r\n                 </Table>\r\n            <RenderFormActions state= {local_station} applyAction={applyChanges} resetAction={resetChanges}\r\n                               resetButtonState={reset_button_state}\r\n                               defaultsButtonState={defaults_button_state}\r\n                               applyButtonState={apply_button_state}\r\n            />\r\n        </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStationSettingsTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport './deviceMapTab.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {\r\n    Grommet,\r\n    Table,\r\n    TableRow,\r\n    TableCell\r\n} from 'grommet'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\nimport {getContainerNames, getModuleTypes} from '../../api/utils';\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderDeviceMapTab (props) {\r\n    const [station] = useState(JSON.parse(JSON.stringify(props.station)));\r\n    const [reset_button_state] = useState(false)\r\n    const [defaults_button_state] = useState(true)\r\n    const [apply_button_state] = useState(false)\r\n    const [container_names,setContainerNames] = useState()\r\n    const [module_types,setModuleTypes] = useState()\r\n    const [nodeEnv] = useState(props.nodeEnv);\r\n    const [apiHost] = useState(props.apiHost)\r\n    const [apiPort] = useState(props.apiPort)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let x = await getContainerNames(apiHost, apiPort)\r\n            log.trace(\"containers \" + JSON.stringify(container_names))\r\n            setContainerNames(x.container_names)\r\n            x = await getModuleTypes(apiHost, apiPort)\r\n            log.trace(\"modules \" + JSON.stringify(module_types))\r\n            setModuleTypes(x.module_types)\r\n        }\r\n        fetchData();\r\n    }, [nodeEnv])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    log.trace(\"RenderDeviceMapTab\")\r\n    let [displaySettings] = useState({units: 'IMPERIAL', language: 'en-us', languageOptions:['en-us','fr'], theme: props.theme}); //\r\n\r\n    function getAddress( module ) {\r\n        if( module.device_type === \"GPIO\" ) {\r\n            return \"\"\r\n        } else {\r\n            return module.address + \" \"\r\n        }\r\n    }\r\n\r\n    function getIncludedSensor( sensor, index, arr ) {\r\n        if( sensor.device_type === \"GPIO\" ) {\r\n            return sensor.sensor_name + \" \"\r\n        } else {\r\n            return sensor.sensor_name + \":\" + sensor.measurement_name + \" \"\r\n        }\r\n    }\r\n\r\n    function getSensorsForModule(module) {\r\n        return( module.included_sensors.map(getIncludedSensor))\r\n    }\r\n\r\n    function getModulerow( row, index, arr ) {\r\n        return <TableRow  key={row.module.moduleid}>\r\n            <TableCell>{row.device.deviceid}</TableCell>\r\n            <TableCell>{row.module.container_name}</TableCell>\r\n            <TableCell>{row.module.module_type}</TableCell>\r\n            <TableCell>{getAddress(row.module)}</TableCell>\r\n            <TableCell>{row.sensors}</TableCell></TableRow>\r\n    }\r\n    function getModules() {\r\n//        console.log(\"getModules \" + JSON.stringify(station))\r\n        let arr = []\r\n        for (let device_index = 0; device_index < station.attached_devices.length; device_index++) {\r\n            for (let module_index = 0; module_index < station.attached_devices[device_index].modules.length; module_index++) {\r\n               arr.push({deviceid: station.attached_devices[device_index], module: station.attached_devices[device_index].modules[module_index],\r\n                    sensors: getSensorsForModule(station.attached_devices[device_index].modules[module_index]), device: station.attached_devices[device_index]})\r\n            }\r\n        }\r\n        log.trace(\"arr = \" + JSON.stringify(arr))\r\n        let ret = arr.map(getModulerow)\r\n        return ret\r\n    }\r\n\r\n//    function getTypeSelector(module) {\r\n//            return <Text >{module.module_type} {module.module_name}</Text>\r\n//     }\r\n\r\n//    function testDatabase(e) {\r\n//\r\n//    }\r\n\r\n    function applyChanges() {\r\n\r\n    }\r\n    function resetChanges() {\r\n\r\n    }\r\n    function defaultsAction() {\r\n\r\n    }\r\n\r\n    let module_rows = getModules()\r\n//    console.log(\"rendering with font set to \" + values.theme.global.font.family)\r\n//    console.log(\"station = \" + JSON.stringify(station))\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: displaySettings.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                <Table id=\"settings-tab\" >\r\n                    <tbody>\r\n                    <TableRow>\r\n                        <th >Device</th>\r\n                        <th >Container</th>\r\n                        <th >Module Type</th>\r\n                        <th >Address</th>\r\n                        <th >Attached Sensors</th>\r\n                    </TableRow>\r\n                    {module_rows}\r\n                    </tbody></Table>\r\n\r\n                <RenderFormActions station={station} applyAction={applyChanges} resetAction={resetChanges}\r\n                                   defaultsAction={defaultsAction}\r\n                                   resetButtonState={reset_button_state}\r\n                                   defaultsButtonState={defaults_button_state}\r\n                                   applyButtonState={apply_button_state}\r\n                />\r\n                </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderDeviceMapTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {Box, Grid, Select, TextInput} from \"grommet\";\r\nimport React from \"react\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nimport lighting_schedule_options from \"../../options_lighting_schedule.json\"\r\nimport light_type_options from \"../../options_light_type.json\"\r\nimport log from \"roarr\";\r\n\r\nfunction RenderLightSelector (props) {\r\n\r\n    let options = [\r\n    {name: \"24 on\", hours: 24},\r\n    {name: \"18 on/6 off\", hours: 18},\r\n    {name: \"14 on/10 off\", hours: 14},\r\n    {name:  \"12 on/12 off\", hours: 12},\r\n    {name:  \"10 on/14 off\", hours: 10},\r\n    {name:  \"6 on/18 off\", hours: 6},\r\n    {name:  \"24 off\", hours: 0}]\r\n\r\n    function setLightTypeValue(value) {\r\n        let x = props.automation_setting;\r\n        x.current_light_type = value;\r\n        props.setAutomationSettingFromChild(x)\r\n//        setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    function setLightScheduleValue(value) {\r\n        let x = props.automation_setting;\r\n        x.current_lighting_schedule = value;\r\n        for( let i = 0; i < options.length; i++ ) {\r\n            if( options[i].name === value ) {\r\n                x.hours_of_light = options[i].hours;\r\n                break;\r\n            }\r\n        }\r\n        props.setAutomationSettingFromChild(x)\r\n//       setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    function setLightOnHourValue(value) {\r\n        let x = props.automation_setting;\r\n        x.light_on_start_hour = value;\r\n        props.setAutomationSettingFromChild(x)\r\n//        setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    function setHoursOfLightValue(value) {\r\n        let x = props.automation_setting;\r\n        x.hours_of_light = value;\r\n        props.setAutomationSettingFromChild(x)\r\n//        setStation(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n    const changeLightType = event => setLightTypeValue(event.target.value);\r\n    const changeHoursOfLight = event => setHoursOfLightValue(event.target.value);\r\n    const changeLightSchedule = event => setLightScheduleValue(event.target.value);\r\n    const changeLightOnHour = event => setLightOnHourValue(event.target.value);\r\n\r\n    log.trace(\"automation_setting = \" + JSON.stringify(props.automation_setting))\r\n    let ret = <>\r\n        <Grid\r\n            round={'xxsmall'}\r\n            direction={'horizontal'}\r\n            fill\r\n            areas={[\r\n                {name: 'type', start: [0, 0], end: [0, 0]},\r\n                {name: 'schedule', start: [1, 0], end: [1, 0]},\r\n                {name: 'hours', start: [2, 0], end: [2, 0]},\r\n                {name: 'start', start: [3, 0], end: [3, 0]},\r\n            ]}\r\n            columns={['200px', '200px', '200px', '200px']}\r\n            rows={['60px']}\r\n            gap=\"xxsmall\"\r\n        >\r\n\r\n            <Box width={'small'} round={'small'} gridArea=\"type\">\r\n                Light Type\r\n                <Select options={light_type_options} value={props.automation_setting.current_light_type}\r\n                        onChange={changeLightType}/>\r\n            </Box>\r\n            <Box width={'small'} round={'xsmall'} gridArea=\"schedule\">\r\n                Light Schedule\r\n                <Select options={lighting_schedule_options}\r\n                        value={props.automation_setting.current_lighting_schedule}\r\n                        onChange={changeLightSchedule}/>\r\n            </Box>\r\n            <Box width={'small'} round={'small'} gridArea=\"hours\">\r\n                Hours of Light\r\n                <TextInput value={props.automation_setting.hours_of_light}\r\n                           onChange={changeHoursOfLight}/>\r\n            </Box>\r\n            <Box width={'small'} round={'small'} gridArea=\"start\">\r\n                Light Start Hour\r\n                <TextInput value={props.automation_setting.light_on_start_hour}\r\n                        onChange={changeLightOnHour}/>\r\n            </Box>\r\n\r\n        </Grid>\r\n    </>\r\n    return (ret);\r\n}\r\n\r\nexport default RenderLightSelector;\r\n\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport { Grid,Image, Box, RangeInput } from 'grommet';\r\nimport thermometer from '../../images/thermometer-icon.png'\r\nimport './stagesTab.css';\r\nimport '../../Palette.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderWaterTemperatureSelector(props) {\r\n    function setValue(value) {\r\n        let x = props.automation_setting;\r\n        x.target_water_temperature=value;\r\n        props.setAutomationSettingFromChild(x)\r\n    }\r\n    const changeTarget = event => setValue(event.target.value);\r\n    const units = props.display_settings.temperature_units;\r\n    const min = props.automation_setting.water_temperature_min;\r\n    const max = props.automation_setting.water_temperature_max;\r\n\r\n    const target_water_temperature = props.automation_setting.target_water_temperature\r\n\r\n    return (\r\n            <Grid\r\n                round={'xxsmall'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [3, 0] },\r\n                    { name: 'icon', start: [0, 1], end: [0, 1] },\r\n                    { name: 'min', start: [1, 1], end: [1, 1] },\r\n                    { name: 'slider', start: [2, 1], end: [2, 1] },\r\n                    { name: 'max', start: [3, 1], end: [3, 1] },\r\n                    { name: 'value', start: [0, 2], end: [3, 2] },\r\n                ]}\r\n                columns={['16px', '30px', '400px', '30px']}\r\n                rows={['28px','60px', '28px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n                <Box gridArea=\"label\" color={'yellow'}  align=\"center\">\r\n                    {props.label}\r\n                </Box>\r\n\r\n                <Box gridArea=\"icon\"  justify={\"center\"}>\r\n                    <Image src={thermometer} />\r\n                </Box>\r\n                <Box gridArea=\"min\" justify={\"center\"}>{min}{units}</Box>\r\n                <Box gridArea=\"slider\"  justify={\"center\"} align-content={'center'}>\r\n                        <RangeInput\r\n                            direction=\"horizontal\"\r\n                            min={min}\r\n                            max={max}\r\n                            step={1}\r\n                            value={target_water_temperature}\r\n                            onChange={changeTarget}\r\n                        />\r\n                </Box>\r\n                <Box gridArea=\"max\" justify={\"center\"}>{max}{units}</Box>\r\n                <Box gridArea=\"value\" justify={\"center\"} align=\"center\">\r\n                    {target_water_temperature}{units}\r\n                </Box>\r\n            </Grid>\r\n   );\r\n}\r\nexport default RenderWaterTemperatureSelector;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport { Grid,Image, Box, RangeInput } from 'grommet';\r\nimport thermometer from '../../images/thermometer-icon.png'\r\nimport './stagesTab.css';\r\nimport '../../Palette.css';\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderAirTemperatureSelector(props) {\r\n    function setValue(value) {\r\n        let x = props.automation_setting;\r\n        x.target_temperature=value;\r\n        props.setAutomationSettingFromChild(x)\r\n    }\r\n    const changeTarget = event => setValue(event.target.value);\r\n    const units = props.display_settings.temperature_units;\r\n    const min = props.automation_setting.temperature_min;\r\n    const max = props.automation_setting.temperature_max;\r\n\r\n    const target_temperature = props.automation_setting.target_temperature\r\n\r\n    return (\r\n        <Grid\r\n            round={'xxsmall'}\r\n            fill\r\n            areas={[\r\n                { name: 'label', start: [0, 0], end: [3, 0] },\r\n                { name: 'icon', start: [0, 1], end: [0, 1] },\r\n                { name: 'min', start: [1, 1], end: [1, 1] },\r\n                { name: 'slider', start: [2, 1], end: [2, 1] },\r\n                { name: 'max', start: [3, 1], end: [3, 1] },\r\n                { name: 'value', start: [0, 2], end: [3, 2] },\r\n            ]}\r\n            columns={['16px', '30px', '400px', '30px']}\r\n            rows={['28px','60px', '28px']}\r\n            gap=\"xxsmall\"\r\n        >\r\n            <Box gridArea=\"label\" color={'yellow'}  align=\"center\">\r\n                {props.label}\r\n            </Box>\r\n\r\n            <Box gridArea=\"icon\"  justify={\"center\"}>\r\n                <Image src={thermometer} />\r\n            </Box>\r\n            <Box gridArea=\"min\" justify={\"center\"}>{min}{units}</Box>\r\n            <Box gridArea=\"slider\"  justify={\"center\"} align-content={'center'}>\r\n                <RangeInput\r\n                    direction=\"horizontal\"\r\n                    min={min}\r\n                    max={max}\r\n                    step={1}\r\n                    value={target_temperature}\r\n                    onChange={changeTarget}\r\n                />\r\n            </Box>\r\n            <Box gridArea=\"max\" justify={\"center\"}>{max}{units}</Box>\r\n            <Box gridArea=\"value\" justify={\"center\"} align=\"center\">\r\n                {target_temperature}{units}\r\n            </Box>\r\n        </Grid>\r\n    );\r\n}\r\nexport default RenderAirTemperatureSelector;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport { Grid,Image, Box, RangeInput } from 'grommet';\r\nimport humidity from '../../images/humidityicon.png'\r\nimport './stagesTab.css';\r\nimport '../../Palette.css';\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderHumiditySelector(props) {\r\n    function setValue(value) {\r\n        let x = JSON.parse(JSON.stringify(props.automation_setting));\r\n        log.trace(\"RenderHumiditySelector = \" + JSON.stringify(x))\r\n        x.target_humidity = value\r\n        props.setAutomationSettingFromChild(x)\r\n    }\r\n\r\n    const onChange = event => setValue(event.target.value);\r\n    const min = props.automation_setting.humidity_min;\r\n    const max = props.automation_setting.humidity_max;\r\n    const units = props.display_settings.humidity_units\r\n    const target_humidity = props.automation_setting.target_humidity\r\n    log.trace(\"RenderHumiditySelector 1 = \" + JSON.stringify(props.automation_setting))\r\n\r\n    return (\r\n            <Grid\r\n                round={'xxsmall'}\r\n                fill\r\n                areas={[\r\n                    { name: 'label', start: [0, 0], end: [3, 0] },\r\n                    { name: 'icon', start: [0, 1], end: [0, 1] },\r\n                    { name: 'min', start: [1, 1], end: [1, 1] },\r\n                    { name: 'slider', start: [2, 1], end: [2, 1] },\r\n                    { name: 'max', start: [3, 1], end: [3, 1] },\r\n                    { name: 'value', start: [0, 2], end: [3, 2] },\r\n                ]}\r\n                columns={['16px', '30px', '400px', '30px']}\r\n                rows={['28px','60px', '28px']}\r\n                gap=\"xxsmall\"\r\n            >\r\n                <Box gridArea=\"label\" color={'yellow'}  align=\"center\">\r\n                    {props.label}\r\n                </Box>\r\n\r\n                <Box gridArea=\"icon\"  justify={\"center\"}>\r\n                    <Image src={humidity} />\r\n                </Box>\r\n                <Box gridArea=\"min\" justify={\"center\"}>{min}{units}</Box>\r\n                <Box gridArea=\"slider\"  justify={\"center\"} align-content={'center'}>\r\n                        <RangeInput\r\n                            direction=\"horizontal\"\r\n                            min={min}\r\n                            max={max}\r\n                            step={1}\r\n                            value={target_humidity}\r\n                            onChange={onChange}\r\n                        />\r\n                </Box>\r\n                <Box gridArea=\"max\" justify={\"center\"}>{max}{units}</Box>\r\n                <Box gridArea=\"value\" justify={\"center\"} align=\"center\">\r\n                    {target_humidity}{units}\r\n                </Box>\r\n            </Grid>\r\n   );\r\n}\r\nexport default RenderHumiditySelector;","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport util from \"../../util\";\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {Grommet, Box, Grid} from 'grommet'\r\nimport './stagesTab.css'\r\nimport RenderLightSelector from './LightScheduleSelector'\r\nimport RenderWaterTemperatureSelector from './WaterTemperatureSelectorFunctional'\r\nimport RenderAirTemperatureSelector from './AirTemperatureSelectorFunctional'\r\nimport RenderHumiditySelector from './HumiditySelectorFunctional'\r\nimport RenderStageSelector from './StageSelector'\r\nimport RenderFormActions from '../FormActions'\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport {getStage,getAutomationSetting} from \"../../api/utils\";\r\n\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderStageTab (props) {\r\n\r\n    log.trace(\"RenderStageTab props.automation_setting = \" + JSON.stringify(getAutomationSetting(props.automation_settings, props.selected_stage)))\r\n\r\n    let [checked, setChecked] = useState(false);\r\n    let [selected_stage, setSelectedStage] = useState(props.selected_stage);\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            log.trace(\"selected StageTab stage value fetching\")\r\n            let z = await getStage(servers.api_server_host, servers.api_server_port, props.station.stationid, selected_stage)\r\n            log.trace(\"setting automation setting after fetch to \" + JSON.stringify(z))\r\n            setAutomationSetting(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    },[selected_stage]);    // eslint-disable-line react-hooks/exhaustive-deps\r\n    // ONLY CALL ON MOUNT - empty array arg causes this\r\n\r\n    function setAutomationSettingFromChild(x) {\r\n        setapplyButtonState(true)\r\n        setresetButtonState(true)\r\n        log.trace(\"setAutomationSettingFromChild \"+JSON.stringify(x))\r\n        setAutomationSetting(JSON.parse(JSON.stringify(x)))\r\n    }\r\n\r\n//    function setSelectedStage(value) {\r\n//        log.info(\"selected stage value stageTab new stage value \" + value)\r\n//    }\r\n\r\n    function applyAction() {\r\n        setapplyButtonState(false)\r\n        setresetButtonState(false)\r\n        log.trace(\"StageTab automation_settings \" + station.current_stage)\r\n        if( checked ) {\r\n            props.setStageFromChild(station.current_stage);\r\n            props.setAutomationSettingsFromChild(station.automation_settings)\r\n        }\r\n        props.updateStageFromChild(station.current_stage,station.automation_settings)\r\n    }\r\n\r\n/*    function setCurrent( e ) {\r\n        log.trace(\"e.getchecked = \" + e.target.checked)\r\n        setapplyButtonState(true)\r\n        setresetButtonState(true)\r\n        setChecked(e.target.checked)\r\n    }\r\n\r\n */\r\n\r\n    function resetAction() {\r\n        setStation(JSON.parse(JSON.stringify(props.station)));\r\n    }\r\n\r\n    function defaultsAction() {\r\n        setStation(JSON.parse(JSON.stringify(props.station)));\r\n    }\r\n\r\n    let [station, setStation] = useState(props.station); //\r\n    let [automation_setting, setAutomationSetting] = useState(getAutomationSetting(props.automation_settings, selected_stage))\r\n    let [applyButtonState, setapplyButtonState] = useState(false); //\r\n    let [resetButtonState, setresetButtonState] = useState(false); //\r\n    let [defaultsButtonState] = useState(true ); //\r\n\r\n    log.trace(\"rendering with automation_setting=\"+JSON.stringify(automation_setting))\r\n    let ret =\r\n            <Grommet theme={props.theme}>\r\n                <GoogleFontLoader\r\n                    fonts={[\r\n                        {\r\n                            font: props.theme.global.font.family\r\n                        },\r\n                    ]}\r\n                />\r\n                <div className=\"global_container_\" >\r\n                    <div className={'settings-tab'} >\r\n                    <Grid className={'centered-thead-text'} id={'stages-tab'}\r\n                          justify={'center'}\r\n                        round={'small'}\r\n                        direction={'vertical'}\r\n                        fill\r\n                        areas={[\r\n                            { name: 'stage', start: [0, 0], end: [0, 0] },\r\n                            { name: 'light', start: [0, 1], end: [0, 1] },\r\n                            { name: 'temp', start: [0, 2], end: [0, 2] },\r\n                            { name: 'humidity', start: [0, 3], end: [0, 3] },\r\n                            { name: 'watertemp', start: [0, 4], end: [0, 4] },\r\n                            { name: 'actions', start: [0, 5], end: [0, 5] },\r\n                        ]}\r\n                        columns={['large']}\r\n                        rows={['xsmall','xsmall','130px','130px','130px','130px']}\r\n                        gap={\"xxsmall\"}\r\n                    >\r\n                        <Box gridArea={'stage'} >\r\n                            <table><tbody><tr><td>\r\n                            <RenderStageSelector station={station}\r\n                                                 display_settings={props.display_settings}\r\n                                                 automation_setting={automation_setting}\r\n                                                 setSelectedStageFromChild={setSelectedStage}\r\n                                                 selectedStage={automation_setting.stage_name} />\r\n                            </td></tr></tbody></table>\r\n                            </Box>\r\n                        <Box gridArea={'light'}  >\r\n                            <RenderLightSelector station={station}\r\n                                                 display_settings={props.display_settings}\r\n                                                 settings={station}\r\n                                                 automation_setting={automation_setting}\r\n                                                 setAutomationSettingFromChild={setAutomationSettingFromChild} />\r\n                        </Box>\r\n                        <Box gridArea={'temp'} >\r\n                            <RenderAirTemperatureSelector station={station}\r\n                                                          display_settings={props.display_settings}\r\n                                                          automation_setting={automation_setting}\r\n                                                          label={\"Target Air Temp\"}\r\n                                                          setAutomationSettingFromChild={setAutomationSettingFromChild}/>\r\n                        </Box>\r\n                        <Box gridArea={'humidity'} >\r\n                            <RenderHumiditySelector station={station}\r\n                                                    display_settings={props.display_settings}\r\n                                                    automation_setting={automation_setting}\r\n                                                    label={\"Target Humidity\"}\r\n                                                    setAutomationSettingFromChild={setAutomationSettingFromChild}/>\r\n                        </Box>\r\n                        <Box gridArea={'watertemp'} >\r\n                            <RenderWaterTemperatureSelector station={station}\r\n                                                            display_settings={props.display_settings}\r\n                                                            automation_setting={automation_setting}\r\n                                                            label={\"Target Water Temp\"}\r\n                                                            setAutomationSettingFromChild={setAutomationSettingFromChild}/>\r\n                        </Box>\r\n                        <Box gridArea={'actions'}   >\r\n                            <RenderFormActions settings={station}\r\n                                               applyAction={applyAction}\r\n                                               applyButtonState={applyButtonState}\r\n                                               resetButtonState={resetButtonState}\r\n                                               defaultsButtonState={defaultsButtonState}\r\n                                               resetAction={resetAction}\r\n                                               defaultsAction={defaultsAction}/>\r\n                        </Box>\r\n                    </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n            </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderStageTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport '../../App.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css';\r\nimport ReactImageZoom from 'react-image-zoom';\r\n\r\nimport {Text, Button, Box, Grommet, Grid} from \"grommet\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\nimport util from \"../../util\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\nimport moment from \"moment\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderCameraTab(props) {\r\n//    console.log(\"RenderCameraTab \"+JSON.stringify(props.station.attached_devices))\r\n    let userid = \"90000009\"\r\n\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    let Areas = []\r\n    let Rows = []\r\n    let ImageProps = []\r\n    let indexes = []\r\n    let rowcount = 0\r\n    for( let i = 0; i < props.station.attached_devices.length; i++ ) {\r\n        log.info(\"RenderCameraTab attached_devices[\"+i+\"].latest_picture_filename = \" + props.station.attached_devices[i].latest_picture_filename)\r\n        if( props.station.attached_devices[i].picamera === false ) {\r\n            continue\r\n        }\r\n        let picture_url = 'http://' + servers.api_server_host + ':' + servers.api_server_port +\r\n            '/' + props.station.attached_devices[i].latest_picture_filename + '?' + props.lastpicture\r\n\r\n        log.info(\"RenderCameraTab picture_url = \"+picture_url)\r\n        ImageProps.push( {width: 600,  scale: 2.5, zoomPosition: 'original', img: picture_url});\r\n        Areas.push({ name: 'label'+rowcount, start: [0, rowcount], end: [0, rowcount] })\r\n        Rows.push('40px')\r\n        rowcount++;\r\n        Areas.push({ name: 'picture'+rowcount, start: [0, rowcount], end: [0, rowcount] })\r\n        Rows.push('800px')\r\n        rowcount++;\r\n        indexes.push({device_index: i, labelarea_index: rowcount-2, picturearea_index: rowcount-1, imageprops_index: rowcount-2 })\r\n    }\r\n\r\n\r\n    function getDeviceRow(indexObject) {\r\n\r\n//        log.info(\"getDeviceRow \" + JSON.stringify(indexObject) + ' label '+props.station.attached_devices[indexObject.device_index] + ' areas ' + JSON.stringify(Areas));\r\n        return( <><Text gridArea={\"label\"+indexObject.labelarea_index}>{props.station.attached_devices[indexObject.device_index].deviceid + ' ' +\r\n            moment(props.station.attached_devices[indexObject.device_index].latest_picture_datetimemillis).format(\"LLLL\")}</Text>\r\n            <Box gridArea={Areas[indexObject.picturearea_index].name}>\r\n                <ReactImageZoom {...ImageProps[indexObject.imageprops_index]} />\r\n            </Box></>);\r\n    }\r\n\r\n    log.info(JSON.stringify(Areas))\r\n     let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: props.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n\r\n            <div className=\"global_container_\">\r\n                <Button color={'var(--color-button-border)'} width={'medium'} round={'large'} active={true} label={'Take Picture'} onClick={props.takeAPicture} />\r\n                <Grid\r\n                    margin={\"medium\"}\r\n                    justify={'center'}\r\n                    round={'xxsmall'}\r\n                    direction={'horizontal'}\r\n                    fill\r\n                    areas={Areas}\r\n                    columns={['800px']}\r\n                    rows={Rows}\r\n                    gap={\"small\"}\r\n                >\r\n                    {indexes.map(getDeviceRow)}\r\n                </Grid>\r\n\r\n            </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderCameraTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport './calibrationTab.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {\r\n    Grommet,\r\n    Table,\r\n    TableRow,\r\n    TableCell, Button\r\n} from 'grommet'\r\n// import RenderFormActions from \"../FormActions\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\nimport { getModuleTypes} from '../../api/utils';\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderCalibrationTab (props) {\r\n    const [station] = useState(JSON.parse(JSON.stringify(props.station)));\r\n    const [reset_button_state] = useState(false)\r\n    const [defaults_button_state] = useState(true)\r\n    const [apply_button_state] = useState(false)\r\n    const [module_types,setModuleTypes] = useState()\r\n    const [nodeEnv] = useState(props.nodeEnv);\r\n    const [apiHost] = useState(props.apiHost)\r\n    const [apiPort] = useState(props.apiPort)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let x = await getModuleTypes(apiHost, apiPort)\r\n            log.trace(\"modules \" + JSON.stringify(module_types))\r\n            setModuleTypes(x.module_types)\r\n        }\r\n        fetchData();\r\n    }, [nodeEnv])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    log.trace(\"RenderDeviceMapTab\")\r\n    let [displaySettings] = useState({units: 'IMPERIAL', language: 'en-us', languageOptions:['en-us','fr'], theme: props.theme}); //\r\n\r\n    function getAddress( module ) {\r\n        if( module.device_type === \"GPIO\" ) {\r\n            return \"\"\r\n        } else {\r\n            return module.address + \" \"\r\n        }\r\n    }\r\n\r\n    function getIncludedSensor( sensor, index, arr ) {\r\n        if( sensor.device_type === \"GPIO\" ) {\r\n            return sensor.sensor_name + \" \"\r\n        } else {\r\n            return sensor.sensor_name + \":\" + sensor.measurement_name + \" \"\r\n        }\r\n    }\r\n\r\n//    function getSensorsForModule(module) {\r\n//        return( module.included_sensors.map(getIncludedSensor))\r\n//    }\r\n\r\n    function getSensorrow( row, index, arr ) {\r\n        log.info(\"getSensorrow \" + JSON.stringify(row.sensor))\r\n        return <TableRow  key={row.sensor.sensorid}>\r\n            <TableCell>{row.device.deviceid}</TableCell>\r\n            <TableCell>{row.module.module_type}</TableCell>\r\n            <TableCell>{getAddress(row.module)}</TableCell>\r\n            <TableCell>{row.sensor.sensor_name}</TableCell>\r\n            <TableCell>{row.sensor.measurement_name}</TableCell>\r\n            <TableCell>never</TableCell>\r\n            <TableCell>\r\n                <Button color={'var(--color-button-border)'} width={'medium'} round={'large'} disabled={!isCalibratable(row.sensor)} label={'Calibrate'} />\r\n            </TableCell>\r\n        </TableRow>\r\n    }\r\n\r\n    function isCalibratable(sensor) {\r\n        if( sensor.sensor_name === 'ph_sensor' ) {\r\n            return true\r\n        }\r\n        return(false)\r\n    }\r\n\r\n    function getModules() {\r\n//        console.log(\"getModules \" + JSON.stringify(station.attached_devices.length))\r\n        let arr = []\r\n        for (let device_index = 0; device_index < station.attached_devices.length; device_index++) {\r\n            for (let module_index = 0; module_index < station.attached_devices[device_index].modules.length; module_index++) {\r\n                let z = station.attached_devices[device_index].modules[module_index].included_sensors\r\n                log.info(\"sensors \" + JSON.stringify(z))\r\n                for (let sensor_index = 0; sensor_index < z.length; sensor_index++) {\r\n                    arr.push({\r\n                        deviceid: station.attached_devices[device_index],\r\n                        module: station.attached_devices[device_index].modules[module_index],\r\n                        sensor: z[sensor_index],\r\n                        device: station.attached_devices[device_index]\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        log.trace(\"arr = \" + JSON.stringify(arr))\r\n        let ret = arr.map(getSensorrow)\r\n        return ret\r\n    }\r\n\r\n//    function getTypeSelector(module) {\r\n//            return <Text >{module.module_type} {module.module_name}</Text>\r\n//     }\r\n\r\n//    function testDatabase(e) {\r\n//\r\n//    }\r\n\r\n    function applyChanges() {\r\n\r\n    }\r\n    function resetChanges() {\r\n\r\n    }\r\n    function defaultsAction() {\r\n\r\n    }\r\n\r\n    let module_rows = getModules()\r\n//    console.log(\"rendering with font set to \" + values.theme.global.font.family)\r\n//    console.log(\"station = \" + JSON.stringify(station))\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: displaySettings.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                <Table id=\"settings-tab\" >\r\n                    <tbody>\r\n                    <TableRow>\r\n                        <th >Device</th>\r\n                        <th >Module Type</th>\r\n                        <th >Address</th>\r\n                        <th >Sensor</th>\r\n                        <th >Measurement</th>\r\n                        <th >Last Calibration</th>\r\n                    </TableRow>\r\n                    {module_rows}\r\n                    </tbody></Table>\r\n             </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderCalibrationTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState} from 'react';\r\nimport '../../App.css';\r\nimport './nutesTab.css';\r\nimport '../../Palette.css';\r\nimport '../../overview_style.css'\r\nimport {\r\n    Grommet,\r\n    Button,\r\n    Table,\r\n    TableRow,\r\n    TextInput,\r\n    TableCell\r\n} from 'grommet'\r\nimport RenderFormActions from \"../FormActions\";\r\nimport GoogleFontLoader from \"react-google-font-loader\";\r\n\r\nimport log from \"roarr\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderNutesTab (props) {\r\n    const [reset_button_state] = useState(false)\r\n    const [defaults_button_state] = useState(true)\r\n    const [apply_button_state, setApplyButtonState] = useState(false)\r\n    const [dispensers, setDispensers] = React.useState(props.station.dispensers)\r\n\r\n    log.trace(\"RenderNutesTabFunctional\")\r\n    let [displaySettings] = useState({\r\n        units: 'IMPERIAL',\r\n        language: 'en-us',\r\n        languageOptions: ['en-us', 'fr'],\r\n        theme: props.theme\r\n    }); //\r\n\r\n    /**\r\n     * Respond to the dispense button\r\n     */\r\n    function handleDispense(deviceid, dispenserid, dispenser_name, milliliters_per_millisecond, e) {\r\n        log.info(\"handleDispense \" + dispenserid + \" \" + dispenser_name + \" for \" + ms + \" milliseconds\")\r\n        let amount = 0.0\r\n        for( let i = 0; i < dispensers.length; i++ ) {\r\n            if( dispensers[i].dispenserid === dispenserid ) {\r\n                log.info(\"handleDispense found amount \" + dispensers[i].dispenseml )\r\n                amount = dispensers[i].dispenseml\r\n                break\r\n            }\r\n        }\r\n        let ms = Math.trunc(amount/milliliters_per_millisecond)\r\n        log.info(\"Dispensing \" + amount +\"ml by holding valve open for \" + ms + \" milliseconds\")\r\n        props.dispense_function(deviceid, dispenser_name, ms)\r\n    }\r\n\r\n    function setMlPerMs(dispenserid, mlperms) {\r\n        log.info(\"Seting mlperms amount to \" + mlperms)\r\n        setApplyButtonState(true)\r\n    }\r\n\r\n    function setDispenseAmount(dispenserid, amount) {\r\n        log.info(\"Seting dispense amount to \" + amount)\r\n        let local_dispensers = JSON.parse(JSON.stringify(dispensers))\r\n        for( let i = 0; i < local_dispensers.length; i++ ) {\r\n            if( local_dispensers[i].dispenserid === dispenserid ) {\r\n                local_dispensers[i].dispenseml = amount\r\n                break\r\n            }\r\n        }\r\n        setDispensers(local_dispensers)\r\n    }\r\n\r\n    function getNuterow(row, index, arr) {\r\n        let ON = \"UNDEF\"\r\n        if (props.station.dispensers[index].onoff == true) {\r\n            ON = \"ON\"\r\n        } else {\r\n            if (row.onoff == false) {\r\n                ON = \"\"\r\n            }\r\n        }\r\n        if( typeof row.dispenseml === 'undefined' ) {\r\n            row.dispenseml = 0.0\r\n        }\r\n\r\n\r\n        return <TableRow key={row.dispenserid}>\r\n            <TableCell>{row.deviceid_device}</TableCell>\r\n            <TableCell>{row.dispenser_name}</TableCell>\r\n            <TableCell>{row.manufacturer_name}</TableCell>\r\n            <TableCell><a rel=\"noopener noreferrer\" target=\"_blank\" href={row.spec_url}>{row.additive_name}</a></TableCell>\r\n            <TableCell>{row.index}</TableCell>\r\n            <TableCell>{row.bcm_pin_number}</TableCell>\r\n            <TableCell><TextInput value={row.milliliters_per_millisecond}\r\n                                  onChange={event => setMlPerMs(row.dispenserid, event.target.value)}/></TableCell>\r\n            <TableCell><TextInput value={row.dispenseml}\r\n                                  onChange={event => setDispenseAmount(row.dispenserid, event.target.value)}/></TableCell>\r\n            <TableCell><Button className='Dispense-Button' color={'var(--color-button-border)'}\r\n                               width={'medium'} round={'large'} label={'Dispense'}\r\n                               disabled={row.onoff === true}\r\n                               onClick={(e) => handleDispense(row.deviceid_device, row.dispenserid, row.dispenser_name, row.milliliters_per_millisecond, e)}></Button></TableCell>\r\n            <TableCell>{ON}</TableCell>\r\n        </TableRow>\r\n    }\r\n\r\n    function getNutes() {\r\n        let ret = dispensers.map(getNuterow)\r\n        return ret\r\n    }\r\n\r\n    function applyChanges() {\r\n    }\r\n\r\n    function resetChanges() {\r\n    }\r\n\r\n    function defaultsAction() {\r\n    }\r\n\r\n    let nute_rows = getNutes()\r\n    let ret =\r\n        <Grommet theme={props.theme}>\r\n            <GoogleFontLoader\r\n                fonts={[\r\n                    {\r\n                        font: displaySettings.theme.global.font.family\r\n                    },\r\n                ]}\r\n            />\r\n            <div className=\"global_container_\">\r\n                <Table id=\"settings-tab\">\r\n                    <tbody>\r\n\r\n                    <TableRow>\r\n                        <th>Device ID</th>\r\n                        <th>Dispenser Name</th>\r\n                        <th>Manufacturer</th>\r\n                        <th>Additive</th>\r\n                        <th>Index</th>\r\n                        <th>BCM Pin #</th>\r\n                        <th>Calibration ml/ms</th>\r\n                        <th>Dispense ml</th>\r\n                        <th></th>\r\n                    </TableRow>\r\n                    {nute_rows}\r\n                    </tbody>\r\n                </Table>\r\n\r\n                <RenderFormActions station={props.station} applyAction={applyChanges} resetAction={resetChanges}\r\n                                   defaultsAction={defaultsAction}\r\n                                   resetButtonState={reset_button_state}\r\n                                   defaultsButtonState={defaults_button_state}\r\n                                   applyButtonState={apply_button_state}\r\n                />\r\n            </div>\r\n        </Grommet>\r\n    return (ret)\r\n}\r\n\r\nexport default RenderNutesTab;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React, {useState, useMemo, useRef, useEffect} from 'react';\r\nimport {Tabs, Tab} from \"rendition\";\r\nimport { Button, Grid} from 'grommet'\r\nimport Header from \"./components/Header\"\r\nimport RenderControlTab from \"./components/ControlTab/ControlTabFunctional\";\r\nimport RenderStatusTab from \"./components/StatusTab/StatusTabFunctional\";\r\nimport RenderEvents from \"./components/EventsTab/EventsFunctional\";\r\nimport RenderDisplaySettings from \"./components/DisplaySettingsTab/DisplaySettingsTabFunctional\"\r\nimport RenderSettings from \"./components/StationSettingsTab/StationSettingsTabFunctional\"\r\nimport RenderDeviceMap from \"./components/DeviceMapTab/DeviceMapTabFunctional\"\r\nimport RenderStageTab from \"./components/StageTabs/StageTabFunctional\"\r\nimport RenderCameraTab from \"./components/CameraTab/CameraTabFunctional\"\r\nimport RenderCalibration from \"./components/CalibrationTab/CalibrationTabFunctional\"\r\nimport RenderNutes from \"./components/NutesTab/NutesTabFunctional\"\r\nimport initial_theme from './InitialTheme.json'\r\nimport {deepMerge} from \"grommet/utils\"\r\nimport {grommet} from 'grommet/themes'\r\n\r\nimport {TextField,Dialog,DialogTitle,DialogContent,DialogContentText,DialogActions} from '@material-ui/core'\r\n\r\nimport sprintf from 'sprintf-js';\r\n\r\nimport useWebSocket from 'react-use-websocket';\r\nimport './Palette.css'\r\n\r\nimport util from './util'\r\nimport {addStation, saveSetting, getSite, saveAutomationSettings} from './api/utils'\r\n\r\nimport types from \"./types\"\r\n\r\n// import './logimplementation'\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\nimport moment from \"moment\";\r\n\r\nimport {changeStage} from './api/utils';\r\n\r\n// import RenderSetup from \"./components/ServerSettingsTab/ServerSettingsTabFunctional\"\r\n// import {Avatar, Button, Sidebar, Nav, Grid, Text} from 'grommet'\r\n// import RenderSiteStationMenu from \"./components/SiteStationMenu\";\r\n// import {Add,Clock,Help} from 'grommet-icons'\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nconst STATUS_COMMAND=\"status\"\r\nconst SWITCH_COMMAND=\"switch\"\r\nconst STAGE_COMMAND=\"stage\"\r\nconst PICTURE_COMMAND=\"picture\"\r\nconst DISPENSE_COMMAND=\"dispense\"\r\n\r\nlet because = \"don't know\"\r\n\r\n/**\r\n * @fileOverview Component containing the top-level of the application for a user who is logged in.\r\n * @component\r\n * @author John Rodley\r\n * @version: X.x\r\n */\r\nfunction AuthenticatedApp (props) {\r\n//    log.debug(\"render AuthenticatedApp \" + JSON.stringify(props));\r\n    var tilt_sound = new Audio(\"tilt.mp3\");\r\n\r\n    function play_tilt() {\r\n        tilt_sound.play()\r\n    }\r\n\r\n    //\r\n    //\r\n    //\r\n    // UTILITY FUNCTIONS FOR CREATING REACT SUB-COMPONENTS\r\n    //\r\n    //\r\n    //\r\n\r\n    /**\r\n     * Create a React Button with specified label for \"station\" button in the sidebar.\r\n     * @param value     An object containing label values\r\n     * @param index     not used\r\n     * @param arr       not used\r\n     * @returns {JSX.Element}   A React Button element\r\n     function getStationButton(value, index, arr ) {\r\n        log.debug(\"getStationButton value \" + JSON.stringify(value))\r\n        return <Button onClick={changeStation} value={value.stationid} label={value.station_name+\":\"+value.stationid+\" (\"+value.attached_devices.length+\")\"} />\r\n    }\r\n     function changeStation(ev) {\r\n        alert(\"change station to \"+ev.target.value)\r\n    }\r\n     */\r\n\r\n    let initial_sensor_readings = {\r\n        units: \"IMPERIAL\",\r\n        temp_air_external: 0.0,\r\n        temp_air_external_direction: \"\",\r\n        temp_air_top: 0.0,\r\n        temp_air_top_direction: \"\",\r\n        temp_air_middle: 0.0,\r\n        temp_air_middle_direction: \"\",\r\n        temp_air_bottom: 0.0,\r\n        temp_air_bottom_direction: \"\",\r\n        temp_water: 0.0,\r\n        temp_water_direction: \"\",\r\n        root_ph: 0.0,\r\n        root_ph_direction: \"\",\r\n        humidity_internal: 0.0,\r\n        humidity_internal_direction: \"\",\r\n        light_internal: 0.0,\r\n        light_internal_direction: \"\",\r\n        humidity_external: 0.0,\r\n        humidity_external_direction: \"\",\r\n        plant_height: 0.0,\r\n        outer_door_open: false,\r\n        station_door_open: false,\r\n        pressure_external: 0.0,\r\n        pressure_internal: 0.0,\r\n        pressure_external_direction: \"\",\r\n        pressure_internal_direction: \"\",\r\n        water_level: 0.0,\r\n        voc: 0.0,\r\n        voc_direction: \"\",\r\n        voc_units: \"ppm\",\r\n        co2: 0.0,\r\n        co2_direction: \"\",\r\n        co2_units: \"ppb\",\r\n        ec: 0.0,\r\n        ec_direction: \"\",\r\n        ec_units: \"\"\r\n    }\r\n\r\n    /**\r\n     * The value of environment variable NODE_ENV which controls the hostname and port the API\r\n     * is listening on. Changing this causes a rerender\r\n     */\r\n    const [nodeEnv, setNodeEnv] = useState(props.nodeEnv);\r\n\r\n    /**\r\n     * An object containing all the parameters needed to do connectivity to the rest of the site/station\r\n     * @type {{activemq_server_host: string, api_server_port: number, api_server_host: string, websocket_server_host: string, activemq_server_port: number, websocket_server_port: number}}\r\n     * now that nodeenv is set, we can figure out what URLs to talk to\r\n     */\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    //\r\n    //\r\n    //\r\n    // STATE VARIABLES - CHANGING ANY OF THESE FROM SET FUNCTIONS WILL CAUSE RERENDER\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * The user who has logged in.  If we login as a different user, rerender\r\n     * TABLE: user\r\n     */\r\n    const [userid] = useState(props.user.userid);\r\n\r\n    /**\r\n     * The site we're controlling.  This is the top level object in the hierarchy - site/station/device/module/sensor\r\n     * Changing this causes a rerender\r\n     * TABLE: site\r\n     */\r\n    const [site, setSite] = useState(props.site);\r\n\r\n    /**\r\n     * The index of the station we're currently controlling.  Index into site.stations[]\r\n     * TABLE: station\r\n     */\r\n    const [currentStationIndex] = useState(props.stationindex)\r\n\r\n    const [selected_stage, setSelectedStage] = useState(site.stations[currentStationIndex].current_stage)\r\n    const [selected_automation_settings,setSelectedAutomationSettings] = useState(props.automation_settings)\r\n\r\n    /**\r\n     * Local copy of all data (temp ...) - change and rerender\r\n     */\r\n    const [local_state] = useState(props.initial_station_state);\r\n    const [switch_state, setSwitchState] = useState(props.initial_switch_state);\r\n    const [sensor_readings] = useState(initial_sensor_readings);\r\n    const [tilt,setTilt] = useState({ currently_tilted: false, last_tilt: 0} )\r\n\r\n    /**\r\n     * Port the API server is listening on - change it and rerender\r\n     * @todo why is this here when we can derive it from nodeEnv\r\n     */\r\n    const [apiPort, setApiPort] = useState(servers.api_server_port);  // The port we should send queries to - depends on dev/test/prod\r\n\r\n    /**\r\n     * Deep object of the current theme - change it and rerender\r\n     */\r\n    const [bubbles_theme, setBubblesTheme] = useState(deepMerge(grommet, initial_theme));\r\n\r\n    /**\r\n     * Name of the current font family - change it and rerender\r\n     */\r\n    const [current_font, setCurrentFont] = useState(initial_theme.global.font.family)\r\n    /**\r\n     * ????\r\n     */\r\n    const [last_picture, setLastPicture] = useState(0)\r\n//    const [initial_settings, setInitialSettings] = useState(props.initial_settings)\r\n\r\n    /**\r\n     * If we change the language, rerender\r\n     */\r\n//    const [language, setLanguage] = useState('');\r\n    /**\r\n     * If we change the web socket URL, rerender\r\n     */\r\n    const [socketUrl, setSocketUrl] = useState('ws://' + servers.websocket_server_host + ':' + servers.websocket_server_port);\r\n\r\n    //\r\n    //\r\n    // END STATE VARIABLES\r\n    //\r\n    //\r\n/*\r\n    function setStation(index) {\r\n        log.debug(\"state: setCurrentStationIndex \" + index)\r\n        setCurrentStationIndex(index)\r\n    }\r\n*/\r\n    /**\r\n     * ????\r\n     * @type {React.MutableRefObject<*[]>}\r\n     */\r\n    const messageHistory = useRef([]);\r\n    /**\r\n     * The last complete status message received from outside.  Is this still used?\r\n     */\r\n    let lastCompleteStatusMessage\r\n\r\n    //\r\n    //\r\n    //\r\n    // HANDLING THE NEW STATION DIALOG\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * The open/closed true/false state of the \"new station\" dialog box\r\n     */\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    /**\r\n     * Respond to the \"new station\" button by opening the new station dialog\r\n     */\r\n    /*\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    }\r\n*/\r\n\r\n    /**\r\n     * Respond to the OK button in the new station dialog\r\n     */\r\n    const handleToClose = () => {\r\n        setOpen(false);\r\n    }\r\n    /**\r\n     * Respond to the OK button in the new station dialog\r\n     */\r\n    const handleToAdd = async () => {\r\n//        alert(\"Adding station named \" + new_station_name )\r\n        setOpen(false);\r\n        let x = await addStation(servers.api_server_host, servers.api_server_port, site.siteid, new_station_name)\r\n        log.trace(`addStation returns ${x}`)\r\n    }\r\n\r\n    const [new_station_name, setNewStationName] = useState(\"\");\r\n    const updateNewName = (e) => {\r\n        setNewStationName(e.target.value)\r\n    }\r\n\r\n    /**\r\n     * Send a \"take picture\" command to all the devices attached to this controller.\r\n     */\r\n    const takeAPicture = () => {\r\n        log.debug(\"button: takeAPicture\")\r\n        for (let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++) {\r\n            let cmd = {\r\n                command: PICTURE_COMMAND,\r\n                userid: userid,\r\n                deviceid: site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            }\r\n            sendJsonMessage(cmd)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Send a \"take picture\" command to all the devices attached to this controller.\r\n     */\r\n    function dispense( deviceid, dispenser_name, ms ) {\r\n        let intms = Math.trunc( ms );\r\n        alert(\"button: dispense \" + dispenser_name + \" for \" + intms + \"ms\")\r\n        let cmd = {\r\n            command: DISPENSE_COMMAND,\r\n            userid: userid,\r\n            deviceid: deviceid,\r\n            dispenser_name: dispenser_name,\r\n            milliseconds: intms\r\n        }\r\n        log.info(\"Sending dispense message \" + JSON.stringify(cmd))\r\n        sendJsonMessage(cmd)\r\n        log.info(\"Sent dispense message \" + JSON.stringify(cmd) + \"???????\")\r\n    }\r\n\r\n    let various_dates = {\r\n        start_date_current_stage: \"25 days ago\",\r\n        start_date_next_stage: \"10 days from now\",\r\n        date_last_training: \"never\",\r\n        date_last_filter_change: \"never\"\r\n    }\r\n\r\n    //\r\n    //\r\n    //\r\n    // PROCESSING MEASUREMENT MESSAGES\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * Apply the values in a new measurement message to the state values that control\r\n     * what is displayed in the UI taken from the WebSocket service.\r\n     *\r\n     * @param message   A \"measurement\" message from one of the attached devices.\r\n     */\r\n    const processMeasurementMessage = (message) => {\r\n//        log.trace(\"processMeasurementMessage \"+JSON.stringify(message))\r\n        applyMeasurementToState(message)\r\n    }\r\n\r\n    /**\r\n     */\r\n    const applyEventToState = (msg) => {\r\n//        log.debug(\"msg: applying event \" + JSON.stringify(msg))\r\n        if (msg.sensor_name === 'tamper_sensor') {\r\n            if (tilt.currently_tilted === false) {\r\n                play_tilt()\r\n            }\r\n            let x = { currently_tilted: true, last_tilt: moment().unix()}\r\n            setTilt(x)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Apply the values in a new measurement message to the state values that control\r\n     * what is displayed in the UI taken from the WebSocket service.\r\n     *\r\n     * @param msg   A \"measurement\" message from one of the attached devices.\r\n     */\r\n        /// TODO this looks like a dupe of processMeasurement - get rid of one of them\r\n    const applyMeasurementToState = (msg) => {\r\n//        log.debug(\"applyMeasurementToState \"+JSON.stringify(msg))\r\n            if (typeof msg.value === 'undefined' ) {\r\n                log.error(\"msg: BAD measurement message \" + JSON.stringify(msg))\r\n            } else {\r\n                if (msg.measurement_name === types.measurement_name.water_level) {\r\n                    sensor_readings[types.measurement_name.water_level] = sprintf.sprintf(\"%.1f\", msg.value)\r\n                }\r\n                if( typeof sensor_readings === 'undefined') {\r\n                    log.error(\"WTF\")\r\n                }\r\n                sensor_readings[msg.measurement_name] = msg.value\r\n                sensor_readings[msg.measurement_name + \"_direction\"] = msg.direction\r\n                sensor_readings[msg.measurement_name + \"_units\"] = msg.units\r\n                log.trace(\"msg: applying \" + msg.value + \" \" + sensor_readings[msg.measurement_name + \"_direction\"] + \" to \" + msg.measurement_name)\r\n            }\r\n        }\r\n\r\n    /**\r\n     * Handle a single message that came to the UI from a device via the WebSocket\r\n     * @param event The formatted message\r\n     */\r\n    const handleWebSocketMessage = (event) => {\r\n        log.trace(\"ws: handling websocket message \" + JSON.stringify(event.data))\r\n        let msg = JSON.parse(event.data)\r\n        if (typeof (msg.status) === 'undefined' || msg.status === null) {\r\n            if (typeof (msg.message_type) === 'undefined' || msg.message_type === null) {\r\n                log.error(\"ws: received invalid message \" + event.data)\r\n            } else {\r\n                log.trace(\"ws: received message type \" + msg.message_type);\r\n                switch (msg.message_type) {\r\n                    case types.message_type.measurement:\r\n                        because = \"mmt \" + msg.measurement_name + \" \" + msg.sample_timestamp\r\n                        log.trace(\"ws: received measurement\");\r\n                        applyMeasurementToState(msg)\r\n                        break;\r\n                    case types.message_type.dispenser_event:\r\n                        because = \"dispenser_evt \" + msg.dispenser_name\r\n                        log.info(\"ws: received dispenser_event \" + JSON.stringify(msg));\r\n                        toggleDispenserTo(msg.dispenser_name, msg.on)\r\n                        break;\r\n                    case types.message_type.switch_event:\r\n                        because = \"switch_evt \" + msg.switch_name\r\n                        log.trace(\"ws: received switch_event \" + JSON.stringify(msg));\r\n                        toggleSwitchTo(msg.switch_name, msg.on)\r\n                        break;\r\n                    case types.message_type.event:\r\n                        because = \"evt msg \" + msg.sample_timestamp\r\n                        log.trace(\"ws: received event \");\r\n                        applyEventToState(msg)\r\n                        break;\r\n                    case types.message_type.picture_event:\r\n                        because = \"picture evt msg \" + msg.sample_timestamp\r\n                        log.trace(\"ws: received picture event\");\r\n//                        shutter_sound.play()\r\n                        log.info(\"picture_event \" + JSON.stringify(msg))\r\n                        setLatestPictureFromChild(msg.deviceid,msg.picture_filename, msg.picture_datetime_millis)\r\n//                        props.setLatestPictureFromChild(msg.deviceid,msg.picture_filename, msg.picture_datetime_millis)\r\n                        setLastPicture(last_picture + 1)\r\n                        break;\r\n                    default:\r\n                        because = msg.message_type + \" message \" + msg.sample_timestamp\r\n                        log.debug(\"ws: unknown msg type \" + msg.message_type)\r\n                        break;\r\n                }\r\n            }\r\n        } else {\r\n            log.error(\"ws: AAAAAAAAAAAAAAAAAAAAAAAAAAAHHHHHHHHHHHHHHHHHHHHHHHHH   Received valid status message\")\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The WebSocket hook that defines how we handle WebSocket messages - sendJsonMessage is our sender, lastJsonMessage is the last\r\n     * message received, readyState is the state of the connection.\r\n     */\r\n    const {\r\n        sendJsonMessage,\r\n        lastJsonMessage,\r\n        readyState,\r\n    } = useWebSocket(socketUrl, {\r\n        reconnectAttempts: 10000000, // Infinity - what's max value? Number.MAX_VALUE doesn't work.\r\n        reconnectInterval: 30000,   // Why 30 seconds?  Seems long. Trying 3.\r\n        onOpen: () => {\r\n            getDeviceStatus();\r\n            log.trace('ws: websocket opened');\r\n        },\r\n        //Will attempt to reconnect on all close events, such as server shutting down\r\n        shouldReconnect: (closeEvent) => true,\r\n        onMessage: (event) => handleWebSocketMessage(event), // This relies on receiving a \"state\" object from the server\r\n    });\r\n\r\n    /**\r\n     *  The memo hook that ????\r\n     */\r\n    messageHistory.current = useMemo(() =>\r\n        messageHistory.current.concat(lastJsonMessage), [lastJsonMessage]);\r\n\r\n    /**\r\n     * Respond to a test button by sending a random status request message over the websocket\r\n     * @type {function(): void}\r\n     */\r\n//    const handleClickSendMessage = useCallback(() => {\r\n//        getDeviceStatus()\r\n//    },[]);\r\n\r\n    const handleClickSendMessage = () => {\r\n        log.trace(\"ws: handleClickSendMessage\")\r\n        getDeviceStatus()\r\n    }\r\n    //\r\n    //\r\n    //\r\n    // RANDOM UTILITIES\r\n    //\r\n    //\r\n    //\r\n    function getDeviceStatus() {\r\n        log.trace(\"aq: getDeviceStatus()\")\r\n        for( let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++ ) {\r\n            let cmd = {\r\n                command: STATUS_COMMAND,\r\n                userid: userid,\r\n                deviceid: site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            }\r\n            sendJsonMessage(cmd)\r\n        }\r\n    }\r\n\r\n    async function setLatestPictureFromChild(deviceid,latestpicture_filename, latestpicture_datetimemillis) {\r\n        log.info(\"RenderCameraTab App setLatestPictureFromChild for deviceid \" + deviceid + \" to \" + latestpicture_filename)\r\n//            let z = await getSite(servers.api_server_host, servers.api_server_port, 1)\r\n//            setSite(JSON.parse(JSON.stringify(z)))\r\n\r\n        for (let i = 0; i < site.stations.length; i++) {\r\n            for (let j = 0; j < site.stations[i].attached_devices.length; j++) {\r\n                log.info(\"comparing \" + site.stations[i].attached_devices[j].deviceid + \" to \" + deviceid)\r\n                if (site.stations[i].attached_devices[j].deviceid === deviceid) {\r\n                    let local_site = JSON.parse(JSON.stringify(site))\r\n                    local_site.stations[i].attached_devices[j].latest_picture_filename = latestpicture_filename\r\n                    local_site.stations[i].attached_devices[j].latest_picture_datetimemillis = latestpicture_datetimemillis\r\n                    log.info(\"RenderCameraTab App setLatestPictureFromChild setting latest_picture_filename for deviceid \" + deviceid + \" to \" + latestpicture_filename)\r\n                    log.info(\"local_site = \" + JSON.stringify(local_site))\r\n                    setSite(JSON.parse(JSON.stringify(local_site)))\r\n                    return\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //\r\n    //\r\n    //\r\n    // CHANGING STATE FROM CHILD COMPONENTS - THESE ARE PASSED TO CHILDREN\r\n    //\r\n    //\r\n    //\r\n    /**\r\n     * Change the state of the specified switch to the specified value and\r\n     * save to useState for a rerender.\r\n     *\r\n     * @param switch_name   The name of the switch from switch_names enum\r\n     * @param on    True/false on/off\r\n     */\r\n    function toggleSwitchTo(switch_name, on) {\r\n        log.trace(\"button: toggleSwitchTo \" + switch_name + \" to \" + on)\r\n        if (typeof (switch_name) === 'undefined') {\r\n            return\r\n        }\r\n        let new_switch_state = JSON.parse(JSON.stringify(switch_state))\r\n//        console.log(\"switch_state = \" + JSON.stringify(switch_state))\r\n\r\n        if( typeof(new_switch_state[switch_name] === 'undefined')) {\r\n            new_switch_state[switch_name] = { on: on, changing: false}\r\n        }\r\n        new_switch_state[switch_name].on = on\r\n//        console.log(\"Clearing changing new_switch_state[\" + switch_name + \"] to false\")\r\n        new_switch_state[switch_name].changing = false\r\n        setSwitchState(new_switch_state)\r\n    }\r\n\r\n    /**\r\n     * Change the state of the specified switch to the specified value and\r\n     * save to useState for a rerender.\r\n     *\r\n     * @param switch_name   The name of the switch from switch_names enum\r\n     * @param on    True/false on/off\r\n     */\r\n    async function toggleDispenserTo(dispenser_name, on) {\r\n        log.info(\"button: toggleDispenserTo \" + dispenser_name + \" to \" + on)\r\n        if (typeof (dispenser_name) === 'undefined') {\r\n            return\r\n        }\r\n        for( let i = 0; i < site.stations[currentStationIndex].dispensers.length; i++ ) {\r\n            if( site.stations[currentStationIndex].dispensers[i].dispenser_name === dispenser_name) {\r\n                let local_site = JSON.parse(JSON.stringify(site))\r\n                local_site.stations[currentStationIndex].dispensers[i].onoff = on\r\n                setSite(JSON.parse(JSON.stringify(local_site)))\r\n                break\r\n            }\r\n        }\r\n /*\r\n        let new_dispenser_state = JSON.parse(JSON.stringify(dispenser_state))\r\n        log.info(\"dispenser_state = \" + JSON.stringify(dispenser_state))\r\n\r\n        if( typeof(new_dispenser_state[dispenser_name] === 'undefined')) {\r\n            new_dispenser_state[dispenser_name] = { on: on, changing: false}\r\n        }\r\n        new_dispenser_state[dispenser_name].on = on\r\n        log.info(\"Clearing changing new_dispenser_state[\" + dispenser_name + \"] to false\")\r\n        new_dispenser_state[dispenser_name].changing = false\r\n        setDispenserState(new_dispenser_state)\r\n  */\r\n    }\r\n\r\n\r\n    /**\r\n     * Set a state variable with the specified station_settings object and cause rerender\r\n     *\r\n     * @param x a complete station_settings object - overwrites ALL values\r\n     */\r\n    async function setStationSettingsStateFromChild(x) {\r\n\r\n        let changed_station = JSON.parse(JSON.stringify(x))\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"automatic_control\", changed_station.automatic_control)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.humidifier, changed_station.humidifier)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.humidity_sensor_internal, changed_station.humidity_sensor_internal)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.humidity_sensor_external, changed_station.humidity_sensor_external)\r\n//        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"humidifier\", changed_station.humidifier)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.water_heater, changed_station.water_heater)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.heater, changed_station.heater)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.thermometer_top, changed_station.thermometer_top)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.thermometer_middle, changed_station.thermometer_middle)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.thermometer_bottom, changed_station.thermometer_bottom)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.thermometer_external, changed_station.thermometer_external)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.thermometer_water, changed_station.thermometer_water)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.water_pump, changed_station.water_pump)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.air_pump, changed_station.air_pump)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.light_sensor_internal, changed_station.light_sensor_internal)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.light_sensor_external, changed_station.light_sensor_external)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.station_door_sensor, changed_station.station_door_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.outer_door_sensor, changed_station.outer_door_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.movement_sensor, changed_station.movement_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, \"pressure_sensors\", changed_station.pressure_sensors)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.root_ph_sensor, changed_station.root_ph_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.water_level_sensor, changed_station.water_level_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.intake_fan, changed_station.intake_fan)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.exhaust_fan, changed_station.exhaust_fan)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.heat_lamp, changed_station.heat_lamp)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.heating_pad, changed_station.heating_pad)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.light_bloom, changed_station.light_bloom)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.light_vegetative, changed_station.light_vegetative)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.ac_device_name.light_germinate, changed_station.light_germinate)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.height_sensor, changed_station.height_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.voc_sensor, changed_station.voc_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.co2_sensor, changed_station.co2_sensor)\r\n        await saveSetting(servers.api_server_host, servers.api_server_port, userid, site.stations[currentStationIndex].stationid, types.sensor_name.ec_sensor, changed_station.ec_sensor)\r\n\r\n        let changed_site = { stations: [JSON.parse(JSON.stringify(x))] }\r\n        let new_site = { ...site, ...changed_site};\r\n        setSite(new_site)\r\n    }\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the automation state of the current station.\r\n     *\r\n     * @param current_stage   The name of the stage we're changing to\r\n     */\r\n    function setCurrentAutomationStageFromChild(current_stage) {\r\n//        console.log(\"setCurrentAutomationStageFromChild current_stage \"+current_stage)\r\n        let cmd = {\r\n            userid: userid,\r\n            command: STAGE_COMMAND,\r\n            stage_name: current_stage\r\n        }\r\n        changeStage(servers.api_server_host, servers.api_server_port, site.stations[currentStationIndex].stationid,site.stations[currentStationIndex].current_stage, current_stage )\r\n        site.stations[currentStationIndex].current_stage = current_stage\r\n\r\n        for( let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++ ) {\r\n            cmd.deviceid = site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            sendJsonMessage(cmd)\r\n        }\r\n        setSite(JSON.parse(JSON.stringify(site)))\r\n    }\r\n\r\n    function setSelectedAutomationStageFromChild(new_selected_stage) {\r\n        log.trace(\"selected stage value AthenticateApp selected_stage from \"+selected_stage+\" to \"+new_selected_stage)\r\n        setSelectedStage(new_selected_stage)\r\n    }\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the automation state of the current station.\r\n     *\r\n     * @param new_automation_settings   An entire automation_settings to replace the current one\r\n     *\r\n     */\r\n    /// TODO this many API calls obviously not ideal - fix\r\n    function setSelectedStageSettingsFromChild(new_automation_settings) {\r\n        log.trace(\"setAutomationSettingsFromChild \"+JSON.stringify(new_automation_settings))\r\n        saveAutomationSettings(servers.api_server_host, servers.api_server_port, site.userid,\r\n            site.stations[currentStationIndex].stationid,\r\n            new_automation_settings.stage_name,\r\n            new_automation_settings)\r\n        setSelectedAutomationSettings(new_automation_settings )\r\n    }\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the automation state of the current station.\r\n     *\r\n     * @param stagename The name of the stage we're updating\r\n     * @param new_automation_settings   The entire stage\r\n     */\r\n    /// TODO this many API calls obviously not ideal - fix\r\n    function updateStageFromChild(stagename, new_automation_settings) {\r\n        log.trace(\"updateStageFromChild \"+JSON.stringify(new_automation_settings))\r\n        let x = JSON.parse(JSON.stringify(site))\r\n        x.stations[currentStationIndex].automation_settings = new_automation_settings\r\n        setSite(x)\r\n    }\r\n\r\n\r\n    /**\r\n     * Function passed to child visual objects such that they can set the state of a controllable switch on a device.\r\n     *\r\n     * @param x ???\r\n     * @param switch_name   The name of the switch we're changing the state of\r\n     * @param on    True/false on/off\r\n     */\r\n    function setSwitchStateFromChild(x, switch_name, on) {\r\n        log.trace(\"setSwitchStateFromChild \"+switch_name +\",\"+on)\r\n        let new_switch_state = JSON.parse(JSON.stringify(switch_state))\r\n        let sw_name = switch_name\r\n        if (switch_name === types.switch_name.growLight) {\r\n            sw_name = types.switch_name.lightBloom\r\n        }\r\n        if (typeof new_switch_state[switch_name] === 'undefined') {\r\n            console.error(\"button: bad switch_name \" + switch_name)\r\n            return\r\n        }\r\n        new_switch_state[switch_name].changing = true\r\n        new_switch_state[switch_name].on = on\r\n        setSwitchState(new_switch_state)\r\n\r\n        let cmd = {\r\n            userid: userid,\r\n            command: SWITCH_COMMAND,\r\n            switch_name: sw_name,\r\n            on: on\r\n        }\r\n        log.trace(\"sendJsonMessage ???? \"+sw_name+\" from userid/deviceid \"+cmd.userid+\"/\"+cmd.deviceid)\r\n        for( let i = 0; i < site.stations[currentStationIndex].attached_devices.length; i++ ) {\r\n            cmd.deviceid = site.stations[currentStationIndex].attached_devices[i].deviceid\r\n            log.trace(\"sendJsonMessage \"+sw_name+\" from userid/deviceid \"+cmd.userid+\"/\"+cmd.deviceid)\r\n            sendJsonMessage(cmd)\r\n        }\r\n    }\r\n\r\n    const applyMapChange = (value) => {\r\n        log.trace(\"button: AuthenticatedApp applyMapChange \"+JSON.stringify(value));\r\n        /// TODO FINISH!\r\n    }\r\n\r\n    /**\r\n     * Apply a font-family change from the display settings screen\r\n     *\r\n     * @param value the name of the new font-family\r\n     */\r\n    const applyFontChange = (value) => {\r\n        let x = JSON.parse(JSON.stringify(bubbles_theme));\r\n        log.trace(\"button: AuthenticatedApp applyFontChange from \" + bubbles_theme.global.font.family + \" to \" + current_font + \" value \" + value)\r\n        x.global.font.family = current_font;\r\n        log.trace(\"button: AuthenticatedApp should rerender to font \" + x.global.font.family)\r\n        setBubblesTheme(x)\r\n    }\r\n\r\n    /**\r\n     * Change the value of the current font from within this component\r\n     * @param value The font object we need to change to??\r\n     */\r\n    const localFontChange = (value) => {\r\n        log.trace(\"button: AuthenticatedApp localFontChange from \" + current_font + \" to \" + value)\r\n        setCurrentFont(value)\r\n    }\r\n\r\n    /**\r\n     * The effect hook that casues a refetch of the SITE and rerender if nodeEnv changes\r\n     */\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            let z = await getSite(servers.api_server_host, servers.api_server_port, site.siteid)\r\n//            log.trace(\"useEffect stationid = \" + z.stations[0].stationid)\r\n//            log.info(\"useEffect \" + JSON.stringify(z))\r\n            z.stations[0].automation_settings = z.stations[0].automation_settings[0] // returned as array from server\r\n\r\n            setSite(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    }, [nodeEnv])     // eslint-disable-line react-hooks/exhaustive-deps\r\n    // ONLY CALL ON MOUNT - empty array arg causes this\r\n\r\n\r\n    /**\r\n     * Set the local state values that control what this app displays based on the NODE_ENV.\r\n     *\r\n     * @param value The value of NODE_ENV\r\n     */\r\n    let setEnvironment = (value) => {\r\n        log.trace(\"button: AuthenticatedApp.setEnvironment(\" + value + \")\")\r\n        const theNodeEnvironment = value;\r\n        servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n        log.trace(\"button: setting state db to \" + theNodeEnvironment + \" port to \" + servers.api_server_port)\r\n        setSocketUrl('ws://' + servers.websocket_server_host + ':' + servers.websocket_server_port)\r\n        setNodeEnv(theNodeEnvironment);\r\n        setApiPort(servers.api_server_port);\r\n    }\r\n\r\n    log.trace(\"AuthenticatedApp Rendering App with props = \" + JSON.stringify(props))\r\n    // reset tilt if older than 30 seconds\r\n    if (tilt.currently_tilted) {\r\n        let now = moment().unix()\r\n        if (now - tilt.last_tilt > 30) {\r\n            log.trace(\"turning currently_tilted off because 30 seconds have expired\")\r\n            setTilt({ currently_tilted: false, last_tilt: 0 })\r\n        }\r\n    }\r\n//    let merged_theme = deepMerge(grommet, bubbles_theme)\r\n//    setBubblesTheme(JSON.parse(JSON.stringify(merged_theme)))\r\n    if (lastJsonMessage !== null && typeof (lastJsonMessage.status) !== 'undefined' && lastJsonMessage.status !== null) {\r\n        lastCompleteStatusMessage = JSON.parse(JSON.stringify(lastJsonMessage))\r\n    } else {\r\n        if (lastJsonMessage !== null && typeof (lastJsonMessage.message_type) !== 'undefined' && lastJsonMessage.message_type !== null &&\r\n            lastJsonMessage.message_type === types.message_type.measurement) {\r\n//            log.debug(\"msg: Last json message was a measurement \" + (lastJsonMessage ? JSON.stringify(lastJsonMessage) : 'null'))\r\n            processMeasurementMessage(lastJsonMessage)\r\n        } else {\r\n//            log.warn(\"msg: Last json message not a measurement! \" + (lastJsonMessage ? JSON.stringify(lastJsonMessage) : 'null'))\r\n        }\r\n    }\r\n\r\n    let thestate = JSON.parse(JSON.stringify(local_state))\r\n//    console.log(\"thestate = \" + JSON.stringify(thestate))\r\n\r\n    if (typeof (lastCompleteStatusMessage) !== 'undefined' && lastCompleteStatusMessage !== null) {\r\n        thestate = JSON.parse(JSON.stringify(lastCompleteStatusMessage))\r\n    }\r\n\r\n    /** TODO fix this - needed for sidebar\r\n     *\r\n     * @type {string}\r\n     */\r\n    site.site_name = props.site.stations[props.stationindex].site_name\r\n    site.siteid = props.site.stations[props.stationindex].siteid\r\n\r\n//    thestate.station_settings = props.site.stations[props.stationindex]\r\n//    console.log(\"STATION: site \" + JSON.stringify(site))\r\n/*\r\n            <Sidebar gridArea=\"sidebar\" background=\"#477CBC\" round=\"small\"\r\n                     header={\r\n                         <Avatar src=\"//s.gravatar.com/avatar/03e2a5b132702f8c65e793b743be4418?s=80\"/>\r\n                     }\r\n                     footer={\r\n                         <Button icon={<Help/>} hoverIndicator/>\r\n                     }>\r\n                <Nav gap=\"small\">\r\n                    <Text >{site.stations[currentStationIndex].station_name}</Text>\r\n                    <RenderSiteStationMenu currentStationIndex={currentStationIndex}\r\n                                           site={site}\r\n                                           setCurrentStationIndex={setStation}/>\r\n                </Nav>\r\n            </Sidebar>\r\n */\r\n    log.info(\"rendering with station = \"+JSON.stringify(site.stations[currentStationIndex]))\r\n    log.trace(\"rendering AA with selected_automation_settings=\"+JSON.stringify(selected_automation_settings))\r\n    for ( let i = 0; i < site.stations[0].attached_devices.length; i++ ) {\r\n        log.info(\"RenderCameraTab AuthApp attached_devices[\" + i + \"].latest_picture_filename = \" + site.stations[0].attached_devices[i].latest_picture_filename)\r\n    }\r\n    log.info(\"AuthenticatedApp display_settings.co2_units = \" + props.display_settings.co2_units)\r\n\r\n    let millis_in_a_week = 1000 * 60 * 60 * 24 *7\r\n    let elapsed_millis = moment.now() - props.site.stations[props.stationindex].crop.startdatetime_millis\r\n    let CropWeek = 1+Math.floor(elapsed_millis/millis_in_a_week)\r\n\r\n    return <div className=\"App\">\r\n        <Header tilt={tilt.currently_tilted} siteName={props.site.stations[props.stationindex].site_name}\r\n                setNodeEnv={setEnvironment}\r\n                station={site.stations[currentStationIndex]} nodeEnv={nodeEnv} readyState={readyState}\r\n                handleClickSendMessage={handleClickSendMessage}\r\n                logout={props.logout}\r\n                CropWeek={CropWeek}\r\n                    />\r\n        <Dialog open={open} onClose={handleToClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Add a station</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    To add a station to this site, enter a unique station name here.\r\n                </DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    id=\"new_station_name\"\r\n                    label=\"Station Name\"\r\n                    fullWidth\r\n                    onChange={updateNewName}\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleToClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleToAdd} color=\"primary\">\r\n                    Add\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n\r\n        <Grid\r\n            margin={\"medium\"}\r\n            justify={'center'}\r\n            round={'xxsmall'}\r\n            direction={'horizontal'}\r\n            fill\r\n            areas={[\r\n                {name: 'main', start: [0, 0], end: [0, 0]},\r\n            ]}\r\n            columns={['xlarge']}\r\n            rows={['800px']}\r\n            gap={\"small\"}\r\n        >\r\n\r\n            <Tabs gridArea=\"main\" margin=\"medium\" flex=\"shrink\">\r\n                <Tab title=\"Station Control\">\r\n                    <RenderControlTab nodeEnv={nodeEnv}\r\n                                      apiPort={apiPort}\r\n                                      theme={bubbles_theme}\r\n                                      station={site.stations[currentStationIndex]}\r\n                                      state={thestate}\r\n                                      switch_state={switch_state}\r\n                                      sensor_readings = {sensor_readings}\r\n                                      setStateFromChild={setSwitchStateFromChild}\r\n                                      setCurrentStage={setCurrentAutomationStageFromChild}\r\n                                      display_settings={props.display_settings}\r\n                                      because={because}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Look Inside\">\r\n                    <RenderCameraTab nodeEnv={nodeEnv}\r\n                                     apiPort={apiPort}\r\n                                     theme={bubbles_theme}\r\n                                     station={site.stations[currentStationIndex]}\r\n                                     lastpicture={last_picture}\r\n                                     onFontChange={applyFontChange}\r\n                                     takeAPicture={takeAPicture}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Status\">\r\n                    <RenderStatusTab nodeEnv={nodeEnv}\r\n                                     apiPort={apiPort}\r\n                                     theme={bubbles_theme}\r\n                                     sensor_readings = {sensor_readings}\r\n                                     station={site.stations[currentStationIndex]}\r\n                                     display_settings={props.display_settings}\r\n                                     automation_settings={props.automation_settings}\r\n                                     various_dates={various_dates}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Station Setup\">\r\n                    <RenderSettings saveSetting={saveSetting}\r\n                                    nodeEnv={nodeEnv}\r\n                                    apiPort={apiPort}\r\n                                    theme={bubbles_theme}\r\n                                    station={site.stations[currentStationIndex]}\r\n                                    display_settings={props.display_settings}\r\n                                    setStateFromChild={setStationSettingsStateFromChild}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Device Map\">\r\n                    <RenderDeviceMap nodeEnv={nodeEnv}\r\n                                     apiPort={apiPort}\r\n                                     apiHost={servers.api_server_host}\r\n                                     theme={bubbles_theme}\r\n                                     onMapChange={applyMapChange}\r\n                                     station={site.stations[currentStationIndex]}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Automation\">\r\n                    <RenderStageTab nodeEnv={nodeEnv}\r\n                                    apiPort={apiPort}\r\n                                    theme={bubbles_theme}\r\n                                    station={site.stations[currentStationIndex]}\r\n                                    display_settings={props.display_settings}\r\n                                    updateStageFromChild={updateStageFromChild}\r\n                                    setSelectedStageFromChild={setSelectedAutomationStageFromChild}\r\n                                    setSelectedStageSettingsFromChild={setSelectedStageSettingsFromChild}\r\n                                    automation_settings={selected_automation_settings}\r\n                                    selected_stage={selected_stage}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Events\">\r\n                    <RenderEvents\r\n                        nodeEnv={nodeEnv}\r\n                        apiHost={servers.api_server_host}\r\n                        apiPort={apiPort}\r\n                        theme={bubbles_theme}\r\n                        station={site.stations[currentStationIndex]}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Display Settings\">\r\n                    <RenderDisplaySettings nodeEnv={nodeEnv}\r\n                                           apiPort={apiPort}\r\n                                           theme={bubbles_theme}\r\n                                           station={site.stations[currentStationIndex]}\r\n                                           display_settings={props.display_settings}\r\n                                           onApplyFontChange={applyFontChange}\r\n                                           onLocalFontChange={localFontChange}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Nutes\">\r\n                    <RenderNutes nodeEnv={nodeEnv}\r\n                                       apiHost={servers.api_server_host}\r\n                                       apiPort={apiPort}\r\n                                       theme={bubbles_theme}\r\n                                       station={site.stations[currentStationIndex]}\r\n                                       display_settings={props.display_settings}\r\n                                        dispense_function={dispense}\r\n                    />\r\n                </Tab>\r\n                <Tab title=\"Calibration\">\r\n                    <RenderCalibration nodeEnv={nodeEnv}\r\n                                       apiHost={servers.api_server_host}\r\n                                           apiPort={apiPort}\r\n                                           theme={bubbles_theme}\r\n                                           station={site.stations[currentStationIndex]}\r\n                                           display_settings={props.display_settings}\r\n                    />\r\n                </Tab>\r\n            </Tabs>\r\n        </Grid>\r\n    </div>\r\n}\r\n\r\nexport default AuthenticatedApp","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport {useState} from 'react';\r\nimport React from 'react'\r\nimport '../App.css';\r\nimport {Button} from \"rendition\";\r\nimport {Text, Box, TextInput, Markdown} from \"grommet\";\r\nimport util from \"../util\";\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction RenderUnauthenticatedOverview (props) {\r\n\r\n    const md = `\r\n### Bubbles Controller\r\nEnter your username and password to start configuring and controlling your Bubbles installation.\r\n                        \r\nClick here to see first-time setup instructions.\r\n`;\r\n    let servers = util.get_server_ports_for_environment(props.nodeEnv)\r\n\r\n    async function loginUser(credentials) {\r\n        log.trace(\"loginUser env=(\"+props.nodeEnv+\") calling out to api on port \"+servers.api_server_port+\" for token\")\r\n        let url = 'http://'+servers.api_server_host+':'+servers.api_server_port+'/api/auth/login'\r\n        log.trace(\"url = \" + url)\r\n        log.trace(\"creds = \" + JSON.stringify(credentials))\r\n        return new Promise( async (resolve, reject) => {\r\n            const response = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(credentials)\r\n            });\r\n            if(response.ok) {\r\n                let loginstate = await response.json();\r\n                log.trace(\"Got loginstate \" + JSON.stringify(loginstate));\r\n                resolve(loginstate)\r\n            } else {\r\n                log.trace(\"error \" + response.status)\r\n                reject( response.status )\r\n            }\r\n        })\r\n    }\r\n\r\n    const [username, setUserName] = useState();\r\n    const [password, setPassword] = useState(\"\");   // Set to a value so that controlled-uncontrolled error doesn't get thrown\r\n    const [failed, setFailed] = useState(false);\r\n\r\n    const handleSubmit = async e => {\r\n        /*\r\n                e.preventDefault();\r\n        */\r\n        log.trace(\"handleSubmit - calling out for token for user \"+username)\r\n        /// TODO this hardwired port number is because api_server_port is showing up undefined here!\r\n        await loginUser( {\r\n            username: username,\r\n            password: password\r\n        })\r\n            .then((loginstate) =>{\r\n                log.trace(\"Calling set token with \" + loginstate.token)\r\n                loginstate.auth=true;\r\n                props.processLoginResult(loginstate);   // Will re-render grandparent\r\n            })\r\n            .catch((err) => {\r\n                log.trace(\"login failed = \" + err)\r\n                /// TODO if processlogin rerenders grandparent, these 2 rerenders are not helpful\r\n                setFailed(true)\r\n                setPassword(\"\")\r\n                props.processLoginResult({auth: false});\r\n            });\r\n    };\r\n\r\n    let login_status = <Box><Text>login failed</Text></Box>\r\n    if( !failed ) {\r\n        login_status = <></>\r\n    }\r\n\r\n    let ret =\r\n        <Box direction=\"column\" >\r\n            <form  onSubmit={handleSubmit}>\r\n            <Box direction=\"row\" margin=\"xlarge\" >\r\n                <Box round=\"small\" direction=\"column\" background=\"#aabbff\">\r\n                    <Box gap=\"xlarge\">\r\n                      <Box margin=\"large\" direction=\"column\" gap=\"medium\" width=\"medium\" >\r\n                          <Text size=\"xlarge\">Username:</Text>\r\n                          <Box>\r\n                              <TextInput defaultValue={username} onChange={e => setUserName(e.target.value)}/>\r\n                          </Box>\r\n                          <Text size=\"xlarge\">Password:</Text>\r\n                          <Box gap=\"small\">\r\n                              <TextInput type={\"password\"} value={password} onChange={e => setPassword(e.target.value)}/>\r\n                              <Button alignSelf=\"center\"\r\n\r\n                                      width={'medium'} round={'large'}\r\n                                      active={true}\r\n                                      onClick={handleSubmit} label={\"Log in\"} />\r\n                          </Box >\r\n                          {login_status}\r\n                      </Box>\r\n                    </Box>\r\n                </Box>\r\n                <Box margin=\"medium\">\r\n                    <Markdown  children={md}>\r\n                     </Markdown>\r\n                </Box>\r\n            </Box>\r\n            </form>\r\n        </Box>\r\n    return (ret);\r\n}\r\n\r\nexport default RenderUnauthenticatedOverview;\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nfunction UnauthenticatedHeader (props) {\r\n    log.trace(\"BubblesApp render props = \" + JSON.stringify(props))\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"BubblesApp-header\" style={{'width': '100%'}} >\r\n                <span style={{\r\n                    'width': '25%',\r\n                    'alignItems': 'flex-start',\r\n                    'marginLeft': '25px'\r\n                }}>Bubbles</span>\r\n                <span style={{'width': '75%'}} >\r\n                    <div id=\"animated-gif-container\" />\r\n                </span>\r\n            </header>\r\n        </div>\r\n   );\r\n}\r\n\r\nexport default UnauthenticatedHeader","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport RenderUnauthenticatedOverview from \"./components/UnauthenticatedOverviewFunctional\";\r\nimport UnauthenticatedHeader from \"./components/UnauthenticatedHeader\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\n\r\nfunction UnauthenticatedApp(props) {\r\n    return (\r\n        <>\r\n        <UnauthenticatedHeader data-testid=\"animated-gif-container\" nodeEnv={process.env.REACT_APP_NODE_ENV}/>\r\n        <RenderUnauthenticatedOverview nodeEnv={process.env.REACT_APP_NODE_ENV} processLoginResult={props.processLoginResult}/>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default UnauthenticatedApp\r\n","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport * as React from 'react'\r\n//import {useUser,login} from './context/UserContext'\r\nimport AuthenticatedApp from './AuthenticatedApp'\r\nimport UnauthenticatedApp from './UnauthenticatedApp'\r\nimport SetupApp from './SetupApp'\r\n\r\nimport useToken from './useToken';\r\nimport {useEffect, useState} from \"react\";\r\nimport {getSite,getCrop} from \"./api/utils\";\r\n\r\nimport util from \"./util\";\r\n\r\nimport initial_display_settings from './initial_display_settings.json'\r\nimport options_units from './options_units.json'\r\nimport options_pressure_units from './options_pressure_units.json'\r\nimport options_enclosure from './options_enclosure.json'\r\nimport options_language from './options_languages.json'\r\n\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\n\r\n\r\nlet necessary_environment = [\r\n    {name: \"NODE_ENV\", value: process.env.NODE_ENV},\r\n    {name: \"REACT_APP_NODE_ENV\", value: process.env.REACT_APP_NODE_ENV},\r\n    {name: \"REACT_APP_API_PORT\", value: process.env.REACT_APP_API_PORT},\r\n    {name: \"REACT_APP_API_HOST\", value: process.env.REACT_APP_API_HOST}\r\n\r\n]\r\nfunction App(props) {\r\n\r\n    console.log(\"ENV = \" + JSON.stringify(process.env))\r\n    console.log(\"REACT_APP_NODE_ENV = \" + process.env.REACT_APP_NODE_ENV)\r\n    console.log(\"NODE_ENV = \" + process.env.NODE_ENV)\r\n\r\n        let initial_station_state = {\r\n            station_settings: {\r\n                station_name: \"blah\",\r\n                time_between_pictures_in_seconds: 6000,\r\n                time_between_sensor_polling_in_seconds: 3000,\r\n                humidifier: true,\r\n                humidity_sensor_internal: true,\r\n                humidity_sensor_external: true,\r\n                heater: true,\r\n                thermometer_top: true,\r\n                thermometer_middle: true,\r\n                thermometer_bottom: true,\r\n                thermometer_external: true,\r\n                thermometer_water: true,\r\n                water_pump: true,\r\n                air_pump: true,\r\n                station_door_sensor: true,\r\n                outer_door_sensor: true,\r\n                movement_sensor: true,\r\n                pressure_sensors: true,\r\n                root_ph_sensor: true,\r\n                enclosure_type: \"Cabinet\",\r\n                water_level_sensor: true,\r\n                tub_depth: 18.0,\r\n                tub_volume: 20.0,\r\n                intake_fan: true,\r\n                exhaust_fan: true,\r\n                heat_lamp: true,\r\n                heating_pad: true,\r\n                light_sensor_internal: true,\r\n                light_sensor_external: true,\r\n                light_bloom: true,\r\n                light_vegetative: true,\r\n                light_germinate: true\r\n            }\r\n        }\r\n\r\n        let initial_sensor_readings = {\r\n            temp_air_external: 0.0,\r\n            temp_air_external_direction: \"\",\r\n            temp_air_top: 0.0,\r\n            temp_air_top_direction: \"\",\r\n            temp_air_middle: 0.0,\r\n            temp_air_middle_direction: \"\",\r\n            temp_air_bottom: 0.0,\r\n            temp_air_bottom_direction: \"\",\r\n            temp_water: 0.0,\r\n            temp_water_direction: \"\",\r\n            root_ph: 0.0,\r\n            root_ph_direction: \"\",\r\n            humidity_internal: 0.0,\r\n            humidity_internal_direction: \"\",\r\n            light_internal: 0.0,\r\n            light_internal_direction: \"\",\r\n            humidity_external: 0.0,\r\n            humidity_external_direction: \"\",\r\n            plant_height: 0.0,\r\n            start_date_current_stage: \"25 days ago\",\r\n            start_date_next_stage: \"10 days from now\",\r\n            outer_door_open: false,\r\n            station_door_open: false,\r\n            pressure_external: 0.0,\r\n            pressure_internal: 0.0,\r\n            pressure_external_direction: \"\",\r\n            pressure_internal_direction: \"\",\r\n            date_last_training: \"never\",\r\n            date_last_filter_change: \"never\",\r\n            water_level: 0.0\r\n        }\r\n\r\n        let initial_switch_state = {\r\n            automaticControl: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            heatLamp: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            heatingPad: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            lightVegetative: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            lightBloom: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            humidifier: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            waterHeater: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            heater: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            airPump: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            waterPump: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            intakeFan: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            exhaustFan: {\r\n                on: false,\r\n                changing: true\r\n            },\r\n            currentGrowLight: {\r\n                on: false,\r\n                changing: true\r\n            }\r\n        }\r\n\r\n\r\n    async function setLatestPictureFromChild(deviceid,latestpicture_filename, latestpicture_datetimemillis) {\r\n            log.info(\"RenderCameraTab App setLatestPictureFromChild for deviceid \" + deviceid + \" to \" + latestpicture_filename)\r\n//            let z = await getSite(servers.api_server_host, servers.api_server_port, 1)\r\n//            setSite(JSON.parse(JSON.stringify(z)))\r\n\r\n            for (let i = 0; i < site.stations.length; i++) {\r\n                for (let j = 0; j < site.stations[i].attached_devices.length; j++) {\r\n                    log.info(\"comparing \" + site.stations[i].attached_devices[j].deviceid + \" to \" + deviceid)\r\n                    if (site.stations[i].attached_devices[j].deviceid === deviceid) {\r\n                        let local_site = JSON.parse(JSON.stringify(site))\r\n                        local_site.stations[i].attached_devices[j].latest_picture_filename = latestpicture_filename\r\n                        local_site.stations[i].attached_devices[j].latest_picture_datetimemillis = latestpicture_datetimemillis\r\n                        log.info(\"RenderCameraTab App setLatestPictureFromChild setting latest_picture_filename for deviceid \" + deviceid + \" to \" + latestpicture_filename)\r\n                        log.info(\"local_site = \" + JSON.stringify(local_site))\r\n                        setSite(JSON.parse(JSON.stringify(local_site)))\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    const [site, setSite] = useState({});\r\n\r\n    log.info(\"App.js NODE_ENV = \" + process.env.NODE_ENV+\" REACT_APP_NODE_ENV = \" + process.env.REACT_APP_NODE_ENV)\r\n    let servers = util.get_server_ports_for_environment(process.env.REACT_APP_NODE_ENV)\r\n    let needs_setup = false\r\n\r\n    const { token, setToken } = useToken();\r\n\r\n    function processLoginResult(loginResult) {\r\n        log.debug(\"App: processLoginResult \"+JSON.stringify(loginResult))\r\n        if(loginResult.auth === true ) {\r\n            log.debug(\"Setting token to \" + JSON.stringify(loginResult))\r\n            loginResult.units_options = options_units\r\n            loginResult.pressure_units_options = options_pressure_units\r\n            loginResult.languageOptions = options_language\r\n            loginResult.enclosure_options = options_enclosure\r\n            setToken(loginResult)  // this inspires the rerender that gets us the authenticatedApp\r\n\r\n//            setLocalToken(loginResult.token)\r\n        }\r\n    }\r\n    function doLogout() {\r\n        setToken({auth:false})\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            log.debug(\"selected stage value fetching\")\r\n            let z = await getSite(servers.api_server_host, servers.api_server_port, 1)\r\n            z.stations[0].crop = await getCrop(servers.api_server_host, servers.api_server_port, 1)\r\n            console.log(\"zzzzz = \" + JSON.stringify(z))\r\n            setSite(JSON.parse(JSON.stringify(z)))\r\n        }\r\n        fetchData();\r\n    },[]);    // eslint-disable-line react-hooks/exhaustive-deps\r\n    // ONLY CALL ON MOUNT - empty array arg causes this\r\n\r\n//    log.info(\"App: Rendering App with token set to \" + JSON.stringify(token))\r\n    if( needs_setup ) {\r\n        return <SetupApp readyState={true}/>\r\n    }\r\n\r\n    let selectedStationIndex = 0\r\n\r\n//    log.info(\"App: Rendering App with site set to \" + JSON.stringify(site))\r\n    if( typeof site.stations === 'undefined') {\r\n        return <></>\r\n    }\r\n    initial_station_state.station_settings.display_settings = initial_display_settings\r\n/*    if(typeof site.automation_settings != 'undefined') {\r\n        site.automation_settings = site.automation_settings[0] // returned as array from server\r\n    } else {\r\n        site.automation_settings = {}\r\n    }\r\n */\r\n    log.info(\"hostname = \" + window.location.hostname)\r\n    log.info(JSON.stringify(site))\r\n    let missing_var = \"\"\r\n    function configured() {\r\n        log.info(\"checking ENV \" + JSON.stringify(process.env))\r\n        for(let i = 0; i < necessary_environment.length; i++ ) {\r\n            if (typeof (necessary_environment[i].value) === 'undefined') {\r\n                log.info(\"undefined \"+necessary_environment[i].name)\r\n                missing_var = necessary_environment[i].name\r\n                return false\r\n            }\r\n        }\r\n        return(true)\r\n    }\r\n\r\n    for ( let i = 0; i < site.stations[0].attached_devices.length; i++ ) {\r\n        log.info(\"RenderCameraTab App attached_devices[\" + i + \"].latest_picture_filename = \" + site.stations[0].attached_devices[i].latest_picture_filename)\r\n    }\r\n\r\n    let ret\r\n    if( !configured()) {\r\n        ret = <div className=\"App\"><p>Incorrect configuration: {missing_var} is not defined</p><p>{JSON.stringify(process.env)}</p></div>\r\n    } else {\r\n        ret = (token?.auth === true) ? <AuthenticatedApp\r\n                stationindex={selectedStationIndex}\r\n                initial_station_state={initial_station_state}\r\n                initial_switch_state={initial_switch_state}\r\n                initial_sensor_readings={initial_sensor_readings}\r\n                nodeEnv={process.env.REACT_APP_NODE_ENV}\r\n                site={site}\r\n                automation_settings={site.stations[selectedStationIndex].automation_settings}\r\n                display_settings={initial_station_state.station_settings.display_settings}\r\n                user={token}\r\n                logout={doLogout}\r\n                setLatestPictureFromChild={setLatestPictureFromChild}\r\n            /> :\r\n            <UnauthenticatedApp nodeEnv={process.env.REACT_APP_NODE_ENV} processLoginResult={processLoginResult}/>\r\n    }\r\n    return(ret)\r\n}\r\n\r\nexport default App","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport log from \"roarr\";\r\n// import log from \"./bubbles_logger\"\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        try {\r\n            const tokenString = sessionStorage.getItem('token');\r\n            const userToken = JSON.parse(tokenString);\r\n            log.trace(\"Returning saved token \" + JSON.stringify(userToken))\r\n\r\n            return userToken\r\n        } catch( err ) {\r\n            log.trace(\"auth token err \" + err)\r\n            return({auth: false})\r\n        }\r\n    };\r\n    const [token, setToken] = useState(getToken());\r\n\r\n    const saveToken = userToken => {\r\n        sessionStorage.setItem('token', JSON.stringify(userToken));\r\n        setToken(userToken);    // Forces a rerender\r\n    };\r\n\r\n    log.trace(\"Returning token \" + JSON.stringify(token))\r\n    return {\r\n        setToken: saveToken,\r\n        token\r\n    }\r\n\r\n}","/*\r\n * Copyright (c) John Rodley 2022.\r\n * SPDX-FileCopyrightText:  John Rodley 2022.\r\n * SPDX-License-Identifier: MIT\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this\r\n * software and associated documentation files (the \"Software\"), to deal in the\r\n * Software without restriction, including without limitation the rights to use, copy,\r\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\r\n * and to permit persons to whom the Software is furnished to do so, subject to the\r\n * following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\r\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\r\n * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider as RenditionProvider } from 'rendition';\r\nimport {IntlProvider} from \"react-intl\";\r\nimport App from './App';\r\nimport locale_en from \"./translations/en.json\";\r\nimport locale_nl from \"./translations/nl.json\";\r\n\r\n// copyright and license inspection - no issues 4/13/22\r\n\r\n\r\nconst data = {\r\n    'nl': locale_nl,\r\n    'en': locale_en\r\n};\r\n\r\n// function getComputation(a, b){\r\n//    return a + b;\r\n//\r\n// }\r\n\r\nconst language = navigator.language.split(/[-_]/)[0];\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <IntlProvider locale={language} messages={data[language]}>\r\n            <RenditionProvider >\r\n                <App />\r\n            </RenditionProvider>\r\n        </IntlProvider>\r\n    </React.StrictMode>,\r\n\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}